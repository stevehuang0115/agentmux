var qm=Object.defineProperty;var Jm=(e,t,n)=>t in e?qm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ot=(e,t,n)=>(Jm(e,typeof t!="symbol"?t+"":t,n),n);function Qm(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Km(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gd={exports:{}},So={},Xd={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dr=Symbol.for("react.element"),Gm=Symbol.for("react.portal"),Xm=Symbol.for("react.fragment"),Ym=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),eg=Symbol.for("react.provider"),tg=Symbol.for("react.context"),ng=Symbol.for("react.forward_ref"),sg=Symbol.for("react.suspense"),rg=Symbol.for("react.memo"),ig=Symbol.for("react.lazy"),lu=Symbol.iterator;function og(e){return e===null||typeof e!="object"?null:(e=lu&&e[lu]||e["@@iterator"],typeof e=="function"?e:null)}var Yd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zd=Object.assign,ef={};function As(e,t,n){this.props=e,this.context=t,this.refs=ef,this.updater=n||Yd}As.prototype.isReactComponent={};As.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};As.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tf(){}tf.prototype=As.prototype;function ql(e,t,n){this.props=e,this.context=t,this.refs=ef,this.updater=n||Yd}var Jl=ql.prototype=new tf;Jl.constructor=ql;Zd(Jl,As.prototype);Jl.isPureReactComponent=!0;var cu=Array.isArray,nf=Object.prototype.hasOwnProperty,Ql={current:null},sf={key:!0,ref:!0,__self:!0,__source:!0};function rf(e,t,n){var s,r={},o=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)nf.call(t,s)&&!sf.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Dr,type:e,key:o,ref:a,props:r,_owner:Ql.current}}function ag(e,t){return{$$typeof:Dr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dr}function lg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var uu=/\/+/g;function ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lg(""+e.key):t.toString(36)}function wi(e,t,n,s,r){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Dr:case Gm:a=!0}}if(a)return a=e,r=r(a),e=s===""?"."+ea(a,0):s,cu(r)?(n="",e!=null&&(n=e.replace(uu,"$&/")+"/"),wi(r,t,n,"",function(u){return u})):r!=null&&(Kl(r)&&(r=ag(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(uu,"$&/")+"/")+e)),t.push(r)),1;if(a=0,s=s===""?".":s+":",cu(e))for(var l=0;l<e.length;l++){o=e[l];var c=s+ea(o,l);a+=wi(o,t,n,c,r)}else if(c=og(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=s+ea(o,l++),a+=wi(o,t,n,c,r);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ti(e,t,n){if(e==null)return e;var s=[],r=0;return wi(e,s,"","",function(o){return t.call(n,o,r++)}),s}function cg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},ki={transition:null},ug={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ki,ReactCurrentOwner:Ql};function of(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ti,forEach:function(e,t,n){ti(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ti(e,function(){t++}),t},toArray:function(e){return ti(e,function(t){return t})||[]},only:function(e){if(!Kl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=As;J.Fragment=Xm;J.Profiler=Zm;J.PureComponent=ql;J.StrictMode=Ym;J.Suspense=sg;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ug;J.act=of;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Zd({},e.props),r=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Ql.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)nf.call(t,c)&&!sf.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Dr,type:e.type,key:r,ref:o,props:s,_owner:a}};J.createContext=function(e){return e={$$typeof:tg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eg,_context:e},e.Consumer=e};J.createElement=rf;J.createFactory=function(e){var t=rf.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:ng,render:e}};J.isValidElement=Kl;J.lazy=function(e){return{$$typeof:ig,_payload:{_status:-1,_result:e},_init:cg}};J.memo=function(e,t){return{$$typeof:rg,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=ki.transition;ki.transition={};try{e()}finally{ki.transition=t}};J.unstable_act=of;J.useCallback=function(e,t){return ze.current.useCallback(e,t)};J.useContext=function(e){return ze.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};J.useEffect=function(e,t){return ze.current.useEffect(e,t)};J.useId=function(){return ze.current.useId()};J.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return ze.current.useMemo(e,t)};J.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};J.useRef=function(e){return ze.current.useRef(e)};J.useState=function(e){return ze.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return ze.current.useTransition()};J.version="18.3.1";Xd.exports=J;var y=Xd.exports;const af=Km(y),dg=Qm({__proto__:null,default:af},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg=y,hg=Symbol.for("react.element"),pg=Symbol.for("react.fragment"),mg=Object.prototype.hasOwnProperty,gg=fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yg={key:!0,ref:!0,__self:!0,__source:!0};function lf(e,t,n){var s,r={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)mg.call(t,s)&&!yg.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:hg,type:e,key:o,ref:a,props:r,_owner:gg.current}}So.Fragment=pg;So.jsx=lf;So.jsxs=lf;Gd.exports=So;var i=Gd.exports,Ma={},cf={exports:{}},nt={},uf={exports:{}},df={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,U){var B=D.length;D.push(U);e:for(;0<B;){var te=B-1>>>1,A=D[te];if(0<r(A,U))D[te]=U,D[B]=A,B=te;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var U=D[0],B=D.pop();if(B!==U){D[0]=B;e:for(var te=0,A=D.length,ue=A>>>1;te<ue;){var Ft=2*(te+1)-1,es=D[Ft],Ue=Ft+1,ts=D[Ue];if(0>r(es,B))Ue<A&&0>r(ts,es)?(D[te]=ts,D[Ue]=B,te=Ue):(D[te]=es,D[Ft]=B,te=Ft);else if(Ue<A&&0>r(ts,B))D[te]=ts,D[Ue]=B,te=Ue;else break e}}return U}function r(D,U){var B=D.sortIndex-U.sortIndex;return B!==0?B:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,g=3,v=!1,x=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(D){for(var U=n(u);U!==null;){if(U.callback===null)s(u);else if(U.startTime<=D)s(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function k(D){if(w=!1,m(D),!x)if(n(c)!==null)x=!0,I(S);else{var U=n(u);U!==null&&ee(k,U.startTime-D)}}function S(D,U){x=!1,w&&(w=!1,p(E),E=-1),v=!0;var B=g;try{for(m(U),h=n(c);h!==null&&(!(h.expirationTime>U)||D&&!b());){var te=h.callback;if(typeof te=="function"){h.callback=null,g=h.priorityLevel;var A=te(h.expirationTime<=U);U=e.unstable_now(),typeof A=="function"?h.callback=A:h===n(c)&&s(c),m(U)}else s(c);h=n(c)}if(h!==null)var ue=!0;else{var Ft=n(u);Ft!==null&&ee(k,Ft.startTime-U),ue=!1}return ue}finally{h=null,g=B,v=!1}}var T=!1,N=null,E=-1,L=5,$=-1;function b(){return!(e.unstable_now()-$<L)}function H(){if(N!==null){var D=e.unstable_now();$=D;var U=!0;try{U=N(!0,D)}finally{U?P():(T=!1,N=null)}}else T=!1}var P;if(typeof f=="function")P=function(){f(H)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,O=R.port2;R.port1.onmessage=H,P=function(){O.postMessage(null)}}else P=function(){j(H,0)};function I(D){N=D,T||(T=!0,P())}function ee(D,U){E=j(function(){D(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,I(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var B=g;g=U;try{return D()}finally{g=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=g;g=D;try{return U()}finally{g=B}},e.unstable_scheduleCallback=function(D,U,B){var te=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?te+B:te):B=te,D){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=B+A,D={id:d++,callback:U,priorityLevel:D,startTime:B,expirationTime:A,sortIndex:-1},B>te?(D.sortIndex=B,t(u,D),n(c)===null&&D===n(u)&&(w?(p(E),E=-1):w=!0,ee(k,B-te))):(D.sortIndex=A,t(c,D),x||v||(x=!0,I(S))),D},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(D){var U=g;return function(){var B=g;g=U;try{return D.apply(this,arguments)}finally{g=B}}}})(df);uf.exports=df;var vg=uf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=y,tt=vg;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ff=new Set,pr={};function Kn(e,t){Ss(e,t),Ss(e+"Capture",t)}function Ss(e,t){for(pr[e]=t,e=0;e<t.length;e++)ff.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=Object.prototype.hasOwnProperty,jg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,du={},fu={};function wg(e){return Fa.call(fu,e)?!0:Fa.call(du,e)?!1:jg.test(e)?fu[e]=!0:(du[e]=!0,!1)}function kg(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ng(e,t,n,s){if(t===null||typeof t>"u"||kg(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,n,s,r,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gl=/[\-:]([a-z])/g;function Xl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gl,Xl);Te[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gl,Xl);Te[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gl,Xl);Te[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yl(e,t,n,s){var r=Te.hasOwnProperty(t)?Te[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ng(t,n,r,s)&&(n=null),s||r===null?wg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Kt=xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ni=Symbol.for("react.element"),rs=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),Zl=Symbol.for("react.strict_mode"),Da=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),pf=Symbol.for("react.context"),ec=Symbol.for("react.forward_ref"),$a=Symbol.for("react.suspense"),za=Symbol.for("react.suspense_list"),tc=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),mf=Symbol.for("react.offscreen"),hu=Symbol.iterator;function Vs(e){return e===null||typeof e!="object"?null:(e=hu&&e[hu]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,ta;function Zs(e){if(ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ta=t&&t[1]||""}return`
`+ta+e}var na=!1;function sa(e,t){if(!e||na)return"";na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),o=s.stack.split(`
`),a=r.length-1,l=o.length-1;1<=a&&0<=l&&r[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(r[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||r[a]!==o[l]){var c=`
`+r[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{na=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zs(e):""}function Sg(e){switch(e.tag){case 5:return Zs(e.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return e=sa(e.type,!1),e;case 11:return e=sa(e.type.render,!1),e;case 1:return e=sa(e.type,!0),e;default:return""}}function Ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case is:return"Fragment";case rs:return"Portal";case Da:return"Profiler";case Zl:return"StrictMode";case $a:return"Suspense";case za:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pf:return(e.displayName||"Context")+".Consumer";case hf:return(e._context.displayName||"Context")+".Provider";case ec:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tc:return t=e.displayName||null,t!==null?t:Ia(e.type)||"Memo";case tn:t=e._payload,e=e._init;try{return Ia(e(t))}catch{}}return null}function Cg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ia(t);case 8:return t===Zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Eg(e){var t=gf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function si(e){e._valueTracker||(e._valueTracker=Eg(e))}function yf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=gf(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ua(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pu(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vf(e,t){t=t.checked,t!=null&&Yl(e,"checked",t,!1)}function Ba(e,t){vf(e,t);var n=jn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Va(e,t.type,n):t.hasOwnProperty("defaultValue")&&Va(e,t.type,jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Va(e,t,n){(t!=="number"||Bi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var er=Array.isArray;function gs(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+jn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Wa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(er(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jn(n)}}function xf(e,t){var n=jn(t.value),s=jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function yu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ha(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ri,wf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tg=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(e){Tg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rr[t]=rr[e]})});function kf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rr.hasOwnProperty(e)&&rr[e]?(""+t).trim():t+"px"}function Nf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=kf(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var _g=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qa(e,t){if(t){if(_g[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Ja(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qa=null;function nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ka=null,ys=null,vs=null;function vu(e){if(e=Ir(e)){if(typeof Ka!="function")throw Error(F(280));var t=e.stateNode;t&&(t=bo(t),Ka(e.stateNode,e.type,t))}}function Sf(e){ys?vs?vs.push(e):vs=[e]:ys=e}function Cf(){if(ys){var e=ys,t=vs;if(vs=ys=null,vu(e),t)for(e=0;e<t.length;e++)vu(t[e])}}function Ef(e,t){return e(t)}function Tf(){}var ra=!1;function _f(e,t,n){if(ra)return e(t,n);ra=!0;try{return Ef(e,t,n)}finally{ra=!1,(ys!==null||vs!==null)&&(Tf(),Cf())}}function gr(e,t){var n=e.stateNode;if(n===null)return null;var s=bo(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Ga=!1;if(Ht)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Ga=!1}function bg(e,t,n,s,r,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ir=!1,Vi=null,Wi=!1,Xa=null,Pg={onError:function(e){ir=!0,Vi=e}};function Rg(e,t,n,s,r,o,a,l,c){ir=!1,Vi=null,bg.apply(Pg,arguments)}function Ag(e,t,n,s,r,o,a,l,c){if(Rg.apply(this,arguments),ir){if(ir){var u=Vi;ir=!1,Vi=null}else throw Error(F(198));Wi||(Wi=!0,Xa=u)}}function Gn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xu(e){if(Gn(e)!==e)throw Error(F(188))}function Og(e){var t=e.alternate;if(!t){if(t=Gn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return xu(r),e;if(o===s)return xu(r),t;o=o.sibling}throw Error(F(188))}if(n.return!==s.return)n=r,s=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=o;break}if(l===s){a=!0,s=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,s=r;break}if(l===s){a=!0,s=o,n=r;break}l=l.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==s)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Pf(e){return e=Og(e),e!==null?Rf(e):null}function Rf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rf(e);if(t!==null)return t;e=e.sibling}return null}var Af=tt.unstable_scheduleCallback,ju=tt.unstable_cancelCallback,Lg=tt.unstable_shouldYield,Mg=tt.unstable_requestPaint,pe=tt.unstable_now,Fg=tt.unstable_getCurrentPriorityLevel,sc=tt.unstable_ImmediatePriority,Of=tt.unstable_UserBlockingPriority,Hi=tt.unstable_NormalPriority,Dg=tt.unstable_LowPriority,Lf=tt.unstable_IdlePriority,Co=null,At=null;function $g(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Co,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Ug,zg=Math.log,Ig=Math.LN2;function Ug(e){return e>>>=0,e===0?32:31-(zg(e)/Ig|0)|0}var ii=64,oi=4194304;function tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qi(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~r;l!==0?s=tr(l):(o&=a,o!==0&&(s=tr(o)))}else a=n&~r,a!==0?s=tr(a):o!==0&&(s=tr(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,o=t&-t,r>=o||r===16&&(o&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-kt(t),r=1<<n,s|=e[n],t&=~r;return s}function Bg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vg(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-kt(o),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=Bg(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mf(){var e=ii;return ii<<=1,!(ii&4194240)&&(ii=64),e}function ia(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $r(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function Wg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-kt(n),o=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~o}}function rc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-kt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var Y=0;function Ff(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Df,ic,$f,zf,If,Za=!1,ai=[],un=null,dn=null,fn=null,yr=new Map,vr=new Map,sn=[],Hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wu(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":yr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(t.pointerId)}}function Hs(e,t,n,s,r,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[r]},t!==null&&(t=Ir(t),t!==null&&ic(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function qg(e,t,n,s,r){switch(t){case"focusin":return un=Hs(un,e,t,n,s,r),!0;case"dragenter":return dn=Hs(dn,e,t,n,s,r),!0;case"mouseover":return fn=Hs(fn,e,t,n,s,r),!0;case"pointerover":var o=r.pointerId;return yr.set(o,Hs(yr.get(o)||null,e,t,n,s,r)),!0;case"gotpointercapture":return o=r.pointerId,vr.set(o,Hs(vr.get(o)||null,e,t,n,s,r)),!0}return!1}function Uf(e){var t=Mn(e.target);if(t!==null){var n=Gn(t);if(n!==null){if(t=n.tag,t===13){if(t=bf(n),t!==null){e.blockedOn=t,If(e.priority,function(){$f(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=el(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Qa=s,n.target.dispatchEvent(s),Qa=null}else return t=Ir(n),t!==null&&ic(t),e.blockedOn=n,!1;t.shift()}return!0}function ku(e,t,n){Ni(e)&&n.delete(t)}function Jg(){Za=!1,un!==null&&Ni(un)&&(un=null),dn!==null&&Ni(dn)&&(dn=null),fn!==null&&Ni(fn)&&(fn=null),yr.forEach(ku),vr.forEach(ku)}function qs(e,t){e.blockedOn===t&&(e.blockedOn=null,Za||(Za=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,Jg)))}function xr(e){function t(r){return qs(r,e)}if(0<ai.length){qs(ai[0],e);for(var n=1;n<ai.length;n++){var s=ai[n];s.blockedOn===e&&(s.blockedOn=null)}}for(un!==null&&qs(un,e),dn!==null&&qs(dn,e),fn!==null&&qs(fn,e),yr.forEach(t),vr.forEach(t),n=0;n<sn.length;n++)s=sn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Uf(n),n.blockedOn===null&&sn.shift()}var xs=Kt.ReactCurrentBatchConfig,Ji=!0;function Qg(e,t,n,s){var r=Y,o=xs.transition;xs.transition=null;try{Y=1,oc(e,t,n,s)}finally{Y=r,xs.transition=o}}function Kg(e,t,n,s){var r=Y,o=xs.transition;xs.transition=null;try{Y=4,oc(e,t,n,s)}finally{Y=r,xs.transition=o}}function oc(e,t,n,s){if(Ji){var r=el(e,t,n,s);if(r===null)ma(e,t,s,Qi,n),wu(e,s);else if(qg(r,e,t,n,s))s.stopPropagation();else if(wu(e,s),t&4&&-1<Hg.indexOf(e)){for(;r!==null;){var o=Ir(r);if(o!==null&&Df(o),o=el(e,t,n,s),o===null&&ma(e,t,s,Qi,n),o===r)break;r=o}r!==null&&s.stopPropagation()}else ma(e,t,s,null,n)}}var Qi=null;function el(e,t,n,s){if(Qi=null,e=nc(s),e=Mn(e),e!==null)if(t=Gn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qi=e,null}function Bf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fg()){case sc:return 1;case Of:return 4;case Hi:case Dg:return 16;case Lf:return 536870912;default:return 16}default:return 16}}var on=null,ac=null,Si=null;function Vf(){if(Si)return Si;var e,t=ac,n=t.length,s,r="value"in on?on.value:on.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(s=1;s<=a&&t[n-s]===r[o-s];s++);return Si=r.slice(e,1<s?1-s:void 0)}function Ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function li(){return!0}function Nu(){return!1}function st(e){function t(n,s,r,o,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?li:Nu,this.isPropagationStopped=Nu,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),t}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=st(Os),zr=ce({},Os,{view:0,detail:0}),Gg=st(zr),oa,aa,Js,Eo=ce({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Js&&(Js&&e.type==="mousemove"?(oa=e.screenX-Js.screenX,aa=e.screenY-Js.screenY):aa=oa=0,Js=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Su=st(Eo),Xg=ce({},Eo,{dataTransfer:0}),Yg=st(Xg),Zg=ce({},zr,{relatedTarget:0}),la=st(Zg),ey=ce({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),ty=st(ey),ny=ce({},Os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sy=st(ny),ry=ce({},Os,{data:0}),Cu=st(ry),iy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ly(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ay[e])?!!t[e]:!1}function cc(){return ly}var cy=ce({},zr,{key:function(e){if(e.key){var t=iy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(e){return e.type==="keypress"?Ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uy=st(cy),dy=ce({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=st(dy),fy=ce({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),hy=st(fy),py=ce({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),my=st(py),gy=ce({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yy=st(gy),vy=[9,13,27,32],uc=Ht&&"CompositionEvent"in window,or=null;Ht&&"documentMode"in document&&(or=document.documentMode);var xy=Ht&&"TextEvent"in window&&!or,Wf=Ht&&(!uc||or&&8<or&&11>=or),Tu=String.fromCharCode(32),_u=!1;function Hf(e,t){switch(e){case"keyup":return vy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var os=!1;function jy(e,t){switch(e){case"compositionend":return qf(t);case"keypress":return t.which!==32?null:(_u=!0,Tu);case"textInput":return e=t.data,e===Tu&&_u?null:e;default:return null}}function wy(e,t){if(os)return e==="compositionend"||!uc&&Hf(e,t)?(e=Vf(),Si=ac=on=null,os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wf&&t.locale!=="ko"?null:t.data;default:return null}}var ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ky[e.type]:t==="textarea"}function Jf(e,t,n,s){Sf(s),t=Ki(t,"onChange"),0<t.length&&(n=new lc("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ar=null,jr=null;function Ny(e){rh(e,0)}function To(e){var t=cs(e);if(yf(t))return e}function Sy(e,t){if(e==="change")return t}var Qf=!1;if(Ht){var ca;if(Ht){var ua="oninput"in document;if(!ua){var Pu=document.createElement("div");Pu.setAttribute("oninput","return;"),ua=typeof Pu.oninput=="function"}ca=ua}else ca=!1;Qf=ca&&(!document.documentMode||9<document.documentMode)}function Ru(){ar&&(ar.detachEvent("onpropertychange",Kf),jr=ar=null)}function Kf(e){if(e.propertyName==="value"&&To(jr)){var t=[];Jf(t,jr,e,nc(e)),_f(Ny,t)}}function Cy(e,t,n){e==="focusin"?(Ru(),ar=t,jr=n,ar.attachEvent("onpropertychange",Kf)):e==="focusout"&&Ru()}function Ey(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return To(jr)}function Ty(e,t){if(e==="click")return To(t)}function _y(e,t){if(e==="input"||e==="change")return To(t)}function by(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:by;function wr(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Fa.call(t,r)||!Ct(e[r],t[r]))return!1}return!0}function Au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ou(e,t){var n=Au(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Au(n)}}function Gf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xf(){for(var e=window,t=Bi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bi(e.document)}return t}function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Py(e){var t=Xf(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gf(n.ownerDocument.documentElement,n)){if(s!==null&&dc(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(s.start,r);s=s.end===void 0?o:Math.min(s.end,r),!e.extend&&o>s&&(r=s,s=o,o=r),r=Ou(n,o);var a=Ou(n,s);r&&a&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ry=Ht&&"documentMode"in document&&11>=document.documentMode,as=null,tl=null,lr=null,nl=!1;function Lu(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nl||as==null||as!==Bi(s)||(s=as,"selectionStart"in s&&dc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),lr&&wr(lr,s)||(lr=s,s=Ki(tl,"onSelect"),0<s.length&&(t=new lc("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=as)))}function ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ls={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},da={},Yf={};Ht&&(Yf=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function _o(e){if(da[e])return da[e];if(!ls[e])return e;var t=ls[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yf)return da[e]=t[n];return e}var Zf=_o("animationend"),eh=_o("animationiteration"),th=_o("animationstart"),nh=_o("transitionend"),sh=new Map,Mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){sh.set(e,t),Kn(t,[e])}for(var fa=0;fa<Mu.length;fa++){var ha=Mu[fa],Ay=ha.toLowerCase(),Oy=ha[0].toUpperCase()+ha.slice(1);kn(Ay,"on"+Oy)}kn(Zf,"onAnimationEnd");kn(eh,"onAnimationIteration");kn(th,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(nh,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("cancel close invalid load scroll toggle".split(" ").concat(nr));function Fu(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Ag(s,t,void 0,e),e.currentTarget=null}function rh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&r.isPropagationStopped())break e;Fu(r,l,u),o=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&r.isPropagationStopped())break e;Fu(r,l,u),o=c}}}if(Wi)throw e=Xa,Wi=!1,Xa=null,e}function se(e,t){var n=t[al];n===void 0&&(n=t[al]=new Set);var s=e+"__bubble";n.has(s)||(ih(t,e,2,!1),n.add(s))}function pa(e,t,n){var s=0;t&&(s|=4),ih(n,e,s,t)}var ui="_reactListening"+Math.random().toString(36).slice(2);function kr(e){if(!e[ui]){e[ui]=!0,ff.forEach(function(n){n!=="selectionchange"&&(Ly.has(n)||pa(n,!1,e),pa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ui]||(t[ui]=!0,pa("selectionchange",!1,t))}}function ih(e,t,n,s){switch(Bf(t)){case 1:var r=Qg;break;case 4:r=Kg;break;default:r=oc}n=r.bind(null,t,n,e),r=void 0,!Ga||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function ma(e,t,n,s,r){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;l!==null;){if(a=Mn(l),a===null)return;if(c=a.tag,c===5||c===6){s=o=a;continue e}l=l.parentNode}}s=s.return}_f(function(){var u=o,d=nc(n),h=[];e:{var g=sh.get(e);if(g!==void 0){var v=lc,x=e;switch(e){case"keypress":if(Ci(n)===0)break e;case"keydown":case"keyup":v=uy;break;case"focusin":x="focus",v=la;break;case"focusout":x="blur",v=la;break;case"beforeblur":case"afterblur":v=la;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=hy;break;case Zf:case eh:case th:v=ty;break;case nh:v=my;break;case"scroll":v=Gg;break;case"wheel":v=yy;break;case"copy":case"cut":case"paste":v=sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Eu}var w=(t&4)!==0,j=!w&&e==="scroll",p=w?g!==null?g+"Capture":null:g;w=[];for(var f=u,m;f!==null;){m=f;var k=m.stateNode;if(m.tag===5&&k!==null&&(m=k,p!==null&&(k=gr(f,p),k!=null&&w.push(Nr(f,k,m)))),j)break;f=f.return}0<w.length&&(g=new v(g,x,null,n,d),h.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&n!==Qa&&(x=n.relatedTarget||n.fromElement)&&(Mn(x)||x[qt]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?Mn(x):null,x!==null&&(j=Gn(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(w=Su,k="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Eu,k="onPointerLeave",p="onPointerEnter",f="pointer"),j=v==null?g:cs(v),m=x==null?g:cs(x),g=new w(k,f+"leave",v,n,d),g.target=j,g.relatedTarget=m,k=null,Mn(d)===u&&(w=new w(p,f+"enter",x,n,d),w.target=m,w.relatedTarget=j,k=w),j=k,v&&x)t:{for(w=v,p=x,f=0,m=w;m;m=ss(m))f++;for(m=0,k=p;k;k=ss(k))m++;for(;0<f-m;)w=ss(w),f--;for(;0<m-f;)p=ss(p),m--;for(;f--;){if(w===p||p!==null&&w===p.alternate)break t;w=ss(w),p=ss(p)}w=null}else w=null;v!==null&&Du(h,g,v,w,!1),x!==null&&j!==null&&Du(h,j,x,w,!0)}}e:{if(g=u?cs(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var S=Sy;else if(bu(g))if(Qf)S=_y;else{S=Ey;var T=Cy}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=Ty);if(S&&(S=S(e,u))){Jf(h,S,n,d);break e}T&&T(e,g,u),e==="focusout"&&(T=g._wrapperState)&&T.controlled&&g.type==="number"&&Va(g,"number",g.value)}switch(T=u?cs(u):window,e){case"focusin":(bu(T)||T.contentEditable==="true")&&(as=T,tl=u,lr=null);break;case"focusout":lr=tl=as=null;break;case"mousedown":nl=!0;break;case"contextmenu":case"mouseup":case"dragend":nl=!1,Lu(h,n,d);break;case"selectionchange":if(Ry)break;case"keydown":case"keyup":Lu(h,n,d)}var N;if(uc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else os?Hf(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Wf&&n.locale!=="ko"&&(os||E!=="onCompositionStart"?E==="onCompositionEnd"&&os&&(N=Vf()):(on=d,ac="value"in on?on.value:on.textContent,os=!0)),T=Ki(u,E),0<T.length&&(E=new Cu(E,e,null,n,d),h.push({event:E,listeners:T}),N?E.data=N:(N=qf(n),N!==null&&(E.data=N)))),(N=xy?jy(e,n):wy(e,n))&&(u=Ki(u,"onBeforeInput"),0<u.length&&(d=new Cu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}rh(h,t)})}function Nr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ki(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=gr(e,n),o!=null&&s.unshift(Nr(e,o,r)),o=gr(e,t),o!=null&&s.push(Nr(e,o,r))),e=e.return}return s}function ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Du(e,t,n,s,r){for(var o=t._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=gr(n,o),c!=null&&a.unshift(Nr(n,c,l))):r||(c=gr(n,o),c!=null&&a.push(Nr(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var My=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function $u(e){return(typeof e=="string"?e:""+e).replace(My,`
`).replace(Fy,"")}function di(e,t,n){if(t=$u(t),$u(e)!==t&&n)throw Error(F(425))}function Gi(){}var sl=null,rl=null;function il(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ol=typeof setTimeout=="function"?setTimeout:void 0,Dy=typeof clearTimeout=="function"?clearTimeout:void 0,zu=typeof Promise=="function"?Promise:void 0,$y=typeof queueMicrotask=="function"?queueMicrotask:typeof zu<"u"?function(e){return zu.resolve(null).then(e).catch(zy)}:ol;function zy(e){setTimeout(function(){throw e})}function ga(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),xr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);xr(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Ls,Sr="__reactProps$"+Ls,qt="__reactContainer$"+Ls,al="__reactEvents$"+Ls,Iy="__reactListeners$"+Ls,Uy="__reactHandles$"+Ls;function Mn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Iu(e);e!==null;){if(n=e[Pt])return n;e=Iu(e)}return t}e=n,n=e.parentNode}return null}function Ir(e){return e=e[Pt]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function bo(e){return e[Sr]||null}var ll=[],us=-1;function Nn(e){return{current:e}}function ie(e){0>us||(e.current=ll[us],ll[us]=null,us--)}function ne(e,t){us++,ll[us]=e.current,e.current=t}var wn={},Oe=Nn(wn),qe=Nn(!1),Bn=wn;function Cs(e,t){var n=e.type.contextTypes;if(!n)return wn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Je(e){return e=e.childContextTypes,e!=null}function Xi(){ie(qe),ie(Oe)}function Uu(e,t,n){if(Oe.current!==wn)throw Error(F(168));ne(Oe,t),ne(qe,n)}function oh(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(F(108,Cg(e)||"Unknown",r));return ce({},n,s)}function Yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Bn=Oe.current,ne(Oe,e),ne(qe,qe.current),!0}function Bu(e,t,n){var s=e.stateNode;if(!s)throw Error(F(169));n?(e=oh(e,t,Bn),s.__reactInternalMemoizedMergedChildContext=e,ie(qe),ie(Oe),ne(Oe,e)):ie(qe),ne(qe,n)}var It=null,Po=!1,ya=!1;function ah(e){It===null?It=[e]:It.push(e)}function By(e){Po=!0,ah(e)}function Sn(){if(!ya&&It!==null){ya=!0;var e=0,t=Y;try{var n=It;for(Y=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}It=null,Po=!1}catch(r){throw It!==null&&(It=It.slice(e+1)),Af(sc,Sn),r}finally{Y=t,ya=!1}}return null}var ds=[],fs=0,Zi=null,eo=0,at=[],lt=0,Vn=null,Ut=1,Bt="";function Rn(e,t){ds[fs++]=eo,ds[fs++]=Zi,Zi=e,eo=t}function lh(e,t,n){at[lt++]=Ut,at[lt++]=Bt,at[lt++]=Vn,Vn=e;var s=Ut;e=Bt;var r=32-kt(s)-1;s&=~(1<<r),n+=1;var o=32-kt(t)+r;if(30<o){var a=r-r%5;o=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Ut=1<<32-kt(t)+r|n<<r|s,Bt=o+e}else Ut=1<<o|n<<r|s,Bt=e}function fc(e){e.return!==null&&(Rn(e,1),lh(e,1,0))}function hc(e){for(;e===Zi;)Zi=ds[--fs],ds[fs]=null,eo=ds[--fs],ds[fs]=null;for(;e===Vn;)Vn=at[--lt],at[lt]=null,Bt=at[--lt],at[lt]=null,Ut=at[--lt],at[lt]=null}var et=null,Ze=null,oe=!1,wt=null;function ch(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Ze=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vn!==null?{id:Ut,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Ze=null,!0):!1;default:return!1}}function cl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ul(e){if(oe){var t=Ze;if(t){var n=t;if(!Vu(e,t)){if(cl(e))throw Error(F(418));t=hn(n.nextSibling);var s=et;t&&Vu(e,t)?ch(s,n):(e.flags=e.flags&-4097|2,oe=!1,et=e)}}else{if(cl(e))throw Error(F(418));e.flags=e.flags&-4097|2,oe=!1,et=e}}}function Wu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function fi(e){if(e!==et)return!1;if(!oe)return Wu(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!il(e.type,e.memoizedProps)),t&&(t=Ze)){if(cl(e))throw uh(),Error(F(418));for(;t;)ch(e,t),t=hn(t.nextSibling)}if(Wu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=et?hn(e.stateNode.nextSibling):null;return!0}function uh(){for(var e=Ze;e;)e=hn(e.nextSibling)}function Es(){Ze=et=null,oe=!1}function pc(e){wt===null?wt=[e]:wt.push(e)}var Vy=Kt.ReactCurrentBatchConfig;function Qs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var s=n.stateNode}if(!s)throw Error(F(147,e));var r=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=r.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function hi(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hu(e){var t=e._init;return t(e._payload)}function dh(e){function t(p,f){if(e){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function s(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function r(p,f){return p=yn(p,f),p.index=0,p.sibling=null,p}function o(p,f,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,m,k){return f===null||f.tag!==6?(f=Sa(m,p.mode,k),f.return=p,f):(f=r(f,m),f.return=p,f)}function c(p,f,m,k){var S=m.type;return S===is?d(p,f,m.props.children,k,m.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===tn&&Hu(S)===f.type)?(k=r(f,m.props),k.ref=Qs(p,f,m),k.return=p,k):(k=Ai(m.type,m.key,m.props,null,p.mode,k),k.ref=Qs(p,f,m),k.return=p,k)}function u(p,f,m,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Ca(m,p.mode,k),f.return=p,f):(f=r(f,m.children||[]),f.return=p,f)}function d(p,f,m,k,S){return f===null||f.tag!==7?(f=In(m,p.mode,k,S),f.return=p,f):(f=r(f,m),f.return=p,f)}function h(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Sa(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ni:return m=Ai(f.type,f.key,f.props,null,p.mode,m),m.ref=Qs(p,null,f),m.return=p,m;case rs:return f=Ca(f,p.mode,m),f.return=p,f;case tn:var k=f._init;return h(p,k(f._payload),m)}if(er(f)||Vs(f))return f=In(f,p.mode,m,null),f.return=p,f;hi(p,f)}return null}function g(p,f,m,k){var S=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(p,f,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ni:return m.key===S?c(p,f,m,k):null;case rs:return m.key===S?u(p,f,m,k):null;case tn:return S=m._init,g(p,f,S(m._payload),k)}if(er(m)||Vs(m))return S!==null?null:d(p,f,m,k,null);hi(p,m)}return null}function v(p,f,m,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(m)||null,l(f,p,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ni:return p=p.get(k.key===null?m:k.key)||null,c(f,p,k,S);case rs:return p=p.get(k.key===null?m:k.key)||null,u(f,p,k,S);case tn:var T=k._init;return v(p,f,m,T(k._payload),S)}if(er(k)||Vs(k))return p=p.get(m)||null,d(f,p,k,S,null);hi(f,k)}return null}function x(p,f,m,k){for(var S=null,T=null,N=f,E=f=0,L=null;N!==null&&E<m.length;E++){N.index>E?(L=N,N=null):L=N.sibling;var $=g(p,N,m[E],k);if($===null){N===null&&(N=L);break}e&&N&&$.alternate===null&&t(p,N),f=o($,f,E),T===null?S=$:T.sibling=$,T=$,N=L}if(E===m.length)return n(p,N),oe&&Rn(p,E),S;if(N===null){for(;E<m.length;E++)N=h(p,m[E],k),N!==null&&(f=o(N,f,E),T===null?S=N:T.sibling=N,T=N);return oe&&Rn(p,E),S}for(N=s(p,N);E<m.length;E++)L=v(N,p,E,m[E],k),L!==null&&(e&&L.alternate!==null&&N.delete(L.key===null?E:L.key),f=o(L,f,E),T===null?S=L:T.sibling=L,T=L);return e&&N.forEach(function(b){return t(p,b)}),oe&&Rn(p,E),S}function w(p,f,m,k){var S=Vs(m);if(typeof S!="function")throw Error(F(150));if(m=S.call(m),m==null)throw Error(F(151));for(var T=S=null,N=f,E=f=0,L=null,$=m.next();N!==null&&!$.done;E++,$=m.next()){N.index>E?(L=N,N=null):L=N.sibling;var b=g(p,N,$.value,k);if(b===null){N===null&&(N=L);break}e&&N&&b.alternate===null&&t(p,N),f=o(b,f,E),T===null?S=b:T.sibling=b,T=b,N=L}if($.done)return n(p,N),oe&&Rn(p,E),S;if(N===null){for(;!$.done;E++,$=m.next())$=h(p,$.value,k),$!==null&&(f=o($,f,E),T===null?S=$:T.sibling=$,T=$);return oe&&Rn(p,E),S}for(N=s(p,N);!$.done;E++,$=m.next())$=v(N,p,E,$.value,k),$!==null&&(e&&$.alternate!==null&&N.delete($.key===null?E:$.key),f=o($,f,E),T===null?S=$:T.sibling=$,T=$);return e&&N.forEach(function(H){return t(p,H)}),oe&&Rn(p,E),S}function j(p,f,m,k){if(typeof m=="object"&&m!==null&&m.type===is&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ni:e:{for(var S=m.key,T=f;T!==null;){if(T.key===S){if(S=m.type,S===is){if(T.tag===7){n(p,T.sibling),f=r(T,m.props.children),f.return=p,p=f;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===tn&&Hu(S)===T.type){n(p,T.sibling),f=r(T,m.props),f.ref=Qs(p,T,m),f.return=p,p=f;break e}n(p,T);break}else t(p,T);T=T.sibling}m.type===is?(f=In(m.props.children,p.mode,k,m.key),f.return=p,p=f):(k=Ai(m.type,m.key,m.props,null,p.mode,k),k.ref=Qs(p,f,m),k.return=p,p=k)}return a(p);case rs:e:{for(T=m.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=r(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Ca(m,p.mode,k),f.return=p,p=f}return a(p);case tn:return T=m._init,j(p,f,T(m._payload),k)}if(er(m))return x(p,f,m,k);if(Vs(m))return w(p,f,m,k);hi(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=r(f,m),f.return=p,p=f):(n(p,f),f=Sa(m,p.mode,k),f.return=p,p=f),a(p)):n(p,f)}return j}var Ts=dh(!0),fh=dh(!1),to=Nn(null),no=null,hs=null,mc=null;function gc(){mc=hs=no=null}function yc(e){var t=to.current;ie(to),e._currentValue=t}function dl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function js(e,t){no=e,mc=hs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(mc!==e)if(e={context:e,memoizedValue:t,next:null},hs===null){if(no===null)throw Error(F(308));hs=e,no.dependencies={lanes:0,firstContext:e}}else hs=hs.next=e;return t}var Fn=null;function vc(e){Fn===null?Fn=[e]:Fn.push(e)}function hh(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,vc(t)):(n.next=r.next,r.next=n),t.interleaved=n,Jt(e,s)}function Jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ph(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,K&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Jt(e,n)}return r=s.interleaved,r===null?(t.next=t,vc(s)):(t.next=r.next,r.next=t),s.interleaved=t,Jt(e,n)}function Ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,rc(e,n)}}function qu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=t:o=o.next=t}else r=o=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function so(e,t,n,s){var r=e.updateQueue;nn=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=r.baseState;a=0,d=u=c=null,l=o;do{var g=l.lane,v=l.eventTime;if((s&g)===g){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,w=l;switch(g=t,v=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(v,h,g);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,g=typeof x=="function"?x.call(v,h,g):x,g==null)break e;h=ce({},h,g);break e;case 2:nn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=r.effects,g===null?r.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,a|=g;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;g=l,l=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(1);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do a|=r.lane,r=r.next;while(r!==t)}else o===null&&(r.shared.lanes=0);Hn|=a,e.lanes=a,e.memoizedState=h}}function Ju(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(F(191,r));r.call(s)}}}var Ur={},Ot=Nn(Ur),Cr=Nn(Ur),Er=Nn(Ur);function Dn(e){if(e===Ur)throw Error(F(174));return e}function jc(e,t){switch(ne(Er,t),ne(Cr,e),ne(Ot,Ur),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ha(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ha(t,e)}ie(Ot),ne(Ot,t)}function _s(){ie(Ot),ie(Cr),ie(Er)}function mh(e){Dn(Er.current);var t=Dn(Ot.current),n=Ha(t,e.type);t!==n&&(ne(Cr,e),ne(Ot,n))}function wc(e){Cr.current===e&&(ie(Ot),ie(Cr))}var ae=Nn(0);function ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var va=[];function kc(){for(var e=0;e<va.length;e++)va[e]._workInProgressVersionPrimary=null;va.length=0}var Ti=Kt.ReactCurrentDispatcher,xa=Kt.ReactCurrentBatchConfig,Wn=0,le=null,xe=null,Ne=null,io=!1,cr=!1,Tr=0,Wy=0;function be(){throw Error(F(321))}function Nc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function Sc(e,t,n,s,r,o){if(Wn=o,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ti.current=e===null||e.memoizedState===null?Qy:Ky,e=n(s,r),cr){o=0;do{if(cr=!1,Tr=0,25<=o)throw Error(F(301));o+=1,Ne=xe=null,t.updateQueue=null,Ti.current=Gy,e=n(s,r)}while(cr)}if(Ti.current=oo,t=xe!==null&&xe.next!==null,Wn=0,Ne=xe=le=null,io=!1,t)throw Error(F(300));return e}function Cc(){var e=Tr!==0;return Tr=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?le.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function pt(){if(xe===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=Ne===null?le.memoizedState:Ne.next;if(t!==null)Ne=t,xe=e;else{if(e===null)throw Error(F(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Ne===null?le.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function _r(e,t){return typeof t=="function"?t(e):t}function ja(e){var t=pt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=xe,r=s.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}s.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,s=s.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Wn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=s):c=c.next=h,le.lanes|=d,Hn|=d}u=u.next}while(u!==null&&u!==o);c===null?a=s:c.next=l,Ct(s,t.memoizedState)||(He=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do o=r.lane,le.lanes|=o,Hn|=o,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=pt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,o=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=e(o,a.action),a=a.next;while(a!==r);Ct(o,t.memoizedState)||(He=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,s]}function gh(){}function yh(e,t){var n=le,s=pt(),r=t(),o=!Ct(s.memoizedState,r);if(o&&(s.memoizedState=r,He=!0),s=s.queue,Ec(jh.bind(null,n,s,e),[e]),s.getSnapshot!==t||o||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,br(9,xh.bind(null,n,s,r,t),void 0,null),Se===null)throw Error(F(349));Wn&30||vh(n,t,r)}return r}function vh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xh(e,t,n,s){t.value=n,t.getSnapshot=s,wh(t)&&kh(e)}function jh(e,t,n){return n(function(){wh(t)&&kh(e)})}function wh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function kh(e){var t=Jt(e,1);t!==null&&Nt(t,e,1,-1)}function Qu(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:e},t.queue=e,e=e.dispatch=Jy.bind(null,le,e),[t.memoizedState,e]}function br(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Nh(){return pt().memoizedState}function _i(e,t,n,s){var r=bt();le.flags|=e,r.memoizedState=br(1|t,n,void 0,s===void 0?null:s)}function Ro(e,t,n,s){var r=pt();s=s===void 0?null:s;var o=void 0;if(xe!==null){var a=xe.memoizedState;if(o=a.destroy,s!==null&&Nc(s,a.deps)){r.memoizedState=br(t,n,o,s);return}}le.flags|=e,r.memoizedState=br(1|t,n,o,s)}function Ku(e,t){return _i(8390656,8,e,t)}function Ec(e,t){return Ro(2048,8,e,t)}function Sh(e,t){return Ro(4,2,e,t)}function Ch(e,t){return Ro(4,4,e,t)}function Eh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Th(e,t,n){return n=n!=null?n.concat([e]):null,Ro(4,4,Eh.bind(null,t,e),n)}function Tc(){}function _h(e,t){var n=pt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Nc(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function bh(e,t){var n=pt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Nc(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Ph(e,t,n){return Wn&21?(Ct(n,t)||(n=Mf(),le.lanes|=n,Hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function Hy(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var s=xa.transition;xa.transition={};try{e(!1),t()}finally{Y=n,xa.transition=s}}function Rh(){return pt().memoizedState}function qy(e,t,n){var s=gn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Ah(e))Oh(t,n);else if(n=hh(e,t,n,s),n!==null){var r=De();Nt(n,e,s,r),Lh(n,t,s)}}function Jy(e,t,n){var s=gn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ah(e))Oh(t,r);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(r.hasEagerState=!0,r.eagerState=l,Ct(l,a)){var c=t.interleaved;c===null?(r.next=r,vc(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=hh(e,t,r,s),n!==null&&(r=De(),Nt(n,e,s,r),Lh(n,t,s))}}function Ah(e){var t=e.alternate;return e===le||t!==null&&t===le}function Oh(e,t){cr=io=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Lh(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,rc(e,n)}}var oo={readContext:ht,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Qy={readContext:ht,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_i(4194308,4,Eh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){return _i(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=bt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=qy.bind(null,le,e),[s.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Qu,useDebugValue:Tc,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Qu(!1),t=e[0];return e=Hy.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=le,r=bt();if(oe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Se===null)throw Error(F(349));Wn&30||vh(s,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Ku(jh.bind(null,s,o,e),[e]),s.flags|=2048,br(9,xh.bind(null,s,o,n,t),void 0,null),n},useId:function(){var e=bt(),t=Se.identifierPrefix;if(oe){var n=Bt,s=Ut;n=(s&~(1<<32-kt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Wy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ky={readContext:ht,useCallback:_h,useContext:ht,useEffect:Ec,useImperativeHandle:Th,useInsertionEffect:Sh,useLayoutEffect:Ch,useMemo:bh,useReducer:ja,useRef:Nh,useState:function(){return ja(_r)},useDebugValue:Tc,useDeferredValue:function(e){var t=pt();return Ph(t,xe.memoizedState,e)},useTransition:function(){var e=ja(_r)[0],t=pt().memoizedState;return[e,t]},useMutableSource:gh,useSyncExternalStore:yh,useId:Rh,unstable_isNewReconciler:!1},Gy={readContext:ht,useCallback:_h,useContext:ht,useEffect:Ec,useImperativeHandle:Th,useInsertionEffect:Sh,useLayoutEffect:Ch,useMemo:bh,useReducer:wa,useRef:Nh,useState:function(){return wa(_r)},useDebugValue:Tc,useDeferredValue:function(e){var t=pt();return xe===null?t.memoizedState=e:Ph(t,xe.memoizedState,e)},useTransition:function(){var e=wa(_r)[0],t=pt().memoizedState;return[e,t]},useMutableSource:gh,useSyncExternalStore:yh,useId:Rh,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ao={isMounted:function(e){return(e=e._reactInternals)?Gn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=De(),r=gn(e),o=Vt(s,r);o.payload=t,n!=null&&(o.callback=n),t=pn(e,o,r),t!==null&&(Nt(t,e,r,s),Ei(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=De(),r=gn(e),o=Vt(s,r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=pn(e,o,r),t!==null&&(Nt(t,e,r,s),Ei(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),s=gn(e),r=Vt(n,s);r.tag=2,t!=null&&(r.callback=t),t=pn(e,r,s),t!==null&&(Nt(t,e,s,n),Ei(t,e,s))}};function Gu(e,t,n,s,r,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,a):t.prototype&&t.prototype.isPureReactComponent?!wr(n,s)||!wr(r,o):!0}function Mh(e,t,n){var s=!1,r=wn,o=t.contextType;return typeof o=="object"&&o!==null?o=ht(o):(r=Je(t)?Bn:Oe.current,s=t.contextTypes,o=(s=s!=null)?Cs(e,r):wn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ao,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Xu(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ao.enqueueReplaceState(t,t.state,null)}function hl(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},xc(e);var o=t.contextType;typeof o=="object"&&o!==null?r.context=ht(o):(o=Je(t)?Bn:Oe.current,r.context=Cs(e,o)),r.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(fl(e,t,o,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Ao.enqueueReplaceState(r,r.state,null),so(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function bs(e,t){try{var n="",s=t;do n+=Sg(s),s=s.return;while(s);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:r,digest:null}}function ka(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xy=typeof WeakMap=="function"?WeakMap:Map;function Fh(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){lo||(lo=!0,Sl=s),pl(e,t)},n}function Dh(e,t,n){n=Vt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){pl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){pl(e,t),typeof s!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Yu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Xy;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=dv.bind(null,e,t,n),t.then(e,e))}function Zu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ed(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e)}var Yy=Kt.ReactCurrentOwner,He=!1;function Fe(e,t,n,s){t.child=e===null?fh(t,null,n,s):Ts(t,e.child,n,s)}function td(e,t,n,s,r){n=n.render;var o=t.ref;return js(t,r),s=Sc(e,t,n,s,o,r),n=Cc(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Qt(e,t,r)):(oe&&n&&fc(t),t.flags|=1,Fe(e,t,s,r),t.child)}function nd(e,t,n,s,r){if(e===null){var o=n.type;return typeof o=="function"&&!Mc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,$h(e,t,o,s,r)):(e=Ai(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:wr,n(a,s)&&e.ref===t.ref)return Qt(e,t,r)}return t.flags|=1,e=yn(o,s),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,n,s,r){if(e!==null){var o=e.memoizedProps;if(wr(o,s)&&e.ref===t.ref)if(He=!1,t.pendingProps=s=o,(e.lanes&r)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Qt(e,t,r)}return ml(e,t,n,s,r)}function zh(e,t,n){var s=t.pendingProps,r=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(ms,Ye),Ye|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(ms,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,ne(ms,Ye),Ye|=s}else o!==null?(s=o.baseLanes|n,t.memoizedState=null):s=n,ne(ms,Ye),Ye|=s;return Fe(e,t,r,n),t.child}function Ih(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ml(e,t,n,s,r){var o=Je(n)?Bn:Oe.current;return o=Cs(t,o),js(t,r),n=Sc(e,t,n,s,o,r),s=Cc(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Qt(e,t,r)):(oe&&s&&fc(t),t.flags|=1,Fe(e,t,n,r),t.child)}function sd(e,t,n,s,r){if(Je(n)){var o=!0;Yi(t)}else o=!1;if(js(t,r),t.stateNode===null)bi(e,t),Mh(t,n,s),hl(t,n,s,r),s=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Je(n)?Bn:Oe.current,u=Cs(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Xu(t,a,s,u),nn=!1;var g=t.memoizedState;a.state=g,so(t,s,a,r),c=t.memoizedState,l!==s||g!==c||qe.current||nn?(typeof d=="function"&&(fl(t,n,d,s),c=t.memoizedState),(l=nn||Gu(t,n,l,s,g,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),a.props=s,a.state=c,a.context=u,s=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,ph(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:vt(t.type,l),a.props=u,h=t.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ht(c):(c=Je(n)?Bn:Oe.current,c=Cs(t,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||g!==c)&&Xu(t,a,s,c),nn=!1,g=t.memoizedState,a.state=g,so(t,s,a,r);var x=t.memoizedState;l!==h||g!==x||qe.current||nn?(typeof v=="function"&&(fl(t,n,v,s),x=t.memoizedState),(u=nn||Gu(t,n,u,s,g,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),a.props=s,a.state=x,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return gl(e,t,n,s,o,r)}function gl(e,t,n,s,r,o){Ih(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return r&&Bu(t,n,!1),Qt(e,t,o);s=t.stateNode,Yy.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=Ts(t,e.child,null,o),t.child=Ts(t,null,l,o)):Fe(e,t,l,o),t.memoizedState=s.state,r&&Bu(t,n,!0),t.child}function Uh(e){var t=e.stateNode;t.pendingContext?Uu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uu(e,t.context,!1),jc(e,t.containerInfo)}function rd(e,t,n,s,r){return Es(),pc(r),t.flags|=256,Fe(e,t,n,s),t.child}var yl={dehydrated:null,treeContext:null,retryLane:0};function vl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bh(e,t,n){var s=t.pendingProps,r=ae.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),ne(ae,r&1),e===null)return ul(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,o?(s=t.mode,o=t.child,a={mode:"hidden",children:a},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Mo(a,s,0,null),e=In(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=vl(n),t.memoizedState=yl,e):_c(t,a));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return Zy(e,t,a,s,l,r,n);if(o){o=s.fallback,a=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=yn(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?o=yn(l,o):(o=In(o,a,n,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,a=e.child.memoizedState,a=a===null?vl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=yl,s}return o=e.child,e=o.sibling,s=yn(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function _c(e,t){return t=Mo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pi(e,t,n,s){return s!==null&&pc(s),Ts(t,e.child,null,n),e=_c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zy(e,t,n,s,r,o,a){if(n)return t.flags&256?(t.flags&=-257,s=ka(Error(F(422))),pi(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,r=t.mode,s=Mo({mode:"visible",children:s.children},r,0,null),o=In(o,r,a,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&Ts(t,e.child,null,a),t.child.memoizedState=vl(a),t.memoizedState=yl,o);if(!(t.mode&1))return pi(e,t,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,o=Error(F(419)),s=ka(o,s,void 0),pi(e,t,a,s)}if(l=(a&e.childLanes)!==0,He||l){if(s=Se,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Jt(e,r),Nt(s,e,r,-1))}return Lc(),s=ka(Error(F(421))),pi(e,t,a,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=fv.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,Ze=hn(r.nextSibling),et=t,oe=!0,wt=null,e!==null&&(at[lt++]=Ut,at[lt++]=Bt,at[lt++]=Vn,Ut=e.id,Bt=e.overflow,Vn=t),t=_c(t,s.children),t.flags|=4096,t)}function id(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),dl(e.return,t,n)}function Na(e,t,n,s,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=r)}function Vh(e,t,n){var s=t.pendingProps,r=s.revealOrder,o=s.tail;if(Fe(e,t,s.children,n),s=ae.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&id(e,n,t);else if(e.tag===19)id(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ne(ae,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ro(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Na(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ro(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Na(t,!0,n,null,o);break;case"together":Na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ev(e,t,n){switch(t.tag){case 3:Uh(t),Es();break;case 5:mh(t);break;case 1:Je(t.type)&&Yi(t);break;case 4:jc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;ne(to,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ne(ae,ae.current&1),t.flags|=128,null):n&t.child.childLanes?Bh(e,t,n):(ne(ae,ae.current&1),e=Qt(e,t,n),e!==null?e.sibling:null);ne(ae,ae.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Vh(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ne(ae,ae.current),s)break;return null;case 22:case 23:return t.lanes=0,zh(e,t,n)}return Qt(e,t,n)}var Wh,xl,Hh,qh;Wh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xl=function(){};Hh=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,Dn(Ot.current);var o=null;switch(n){case"input":r=Ua(e,r),s=Ua(e,s),o=[];break;case"select":r=ce({},r,{value:void 0}),s=ce({},s,{value:void 0}),o=[];break;case"textarea":r=Wa(e,r),s=Wa(e,s),o=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Gi)}qa(n,s);var a;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&se("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};qh=function(e,t,n,s){n!==s&&(t.flags|=4)};function Ks(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function tv(e,t,n){var s=t.pendingProps;switch(hc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Je(t.type)&&Xi(),Pe(t),null;case 3:return s=t.stateNode,_s(),ie(qe),ie(Oe),kc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(Tl(wt),wt=null))),xl(e,t),Pe(t),null;case 5:wc(t);var r=Dn(Er.current);if(n=t.type,e!==null&&t.stateNode!=null)Hh(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(F(166));return Pe(t),null}if(e=Dn(Ot.current),fi(t)){s=t.stateNode,n=t.type;var o=t.memoizedProps;switch(s[Pt]=t,s[Sr]=o,e=(t.mode&1)!==0,n){case"dialog":se("cancel",s),se("close",s);break;case"iframe":case"object":case"embed":se("load",s);break;case"video":case"audio":for(r=0;r<nr.length;r++)se(nr[r],s);break;case"source":se("error",s);break;case"img":case"image":case"link":se("error",s),se("load",s);break;case"details":se("toggle",s);break;case"input":pu(s,o),se("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},se("invalid",s);break;case"textarea":gu(s,o),se("invalid",s)}qa(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?s.textContent!==l&&(o.suppressHydrationWarning!==!0&&di(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&di(s.textContent,l,e),r=["children",""+l]):pr.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&se("scroll",s)}switch(n){case"input":si(s),mu(s,o,!0);break;case"textarea":si(s),yu(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=Gi)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[Pt]=t,e[Sr]=s,Wh(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ja(n,s),n){case"dialog":se("cancel",e),se("close",e),r=s;break;case"iframe":case"object":case"embed":se("load",e),r=s;break;case"video":case"audio":for(r=0;r<nr.length;r++)se(nr[r],e);r=s;break;case"source":se("error",e),r=s;break;case"img":case"image":case"link":se("error",e),se("load",e),r=s;break;case"details":se("toggle",e),r=s;break;case"input":pu(e,s),r=Ua(e,s),se("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=ce({},s,{value:void 0}),se("invalid",e);break;case"textarea":gu(e,s),r=Wa(e,s),se("invalid",e);break;default:r=s}qa(n,r),l=r;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Nf(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wf(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&mr(e,c):typeof c=="number"&&mr(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pr.hasOwnProperty(o)?c!=null&&o==="onScroll"&&se("scroll",e):c!=null&&Yl(e,o,c,a))}switch(n){case"input":si(e),mu(e,s,!1);break;case"textarea":si(e),yu(e);break;case"option":s.value!=null&&e.setAttribute("value",""+jn(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?gs(e,!!s.multiple,o,!1):s.defaultValue!=null&&gs(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Gi)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)qh(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(F(166));if(n=Dn(Er.current),Dn(Ot.current),fi(t)){if(s=t.stateNode,n=t.memoizedProps,s[Pt]=t,(o=s.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:di(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&di(s.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Pt]=t,t.stateNode=s}return Pe(t),null;case 13:if(ie(ae),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&Ze!==null&&t.mode&1&&!(t.flags&128))uh(),Es(),t.flags|=98560,o=!1;else if(o=fi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[Pt]=t}else Es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),o=!1}else wt!==null&&(Tl(wt),wt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?je===0&&(je=3):Lc())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return _s(),xl(e,t),e===null&&kr(t.stateNode.containerInfo),Pe(t),null;case 10:return yc(t.type._context),Pe(t),null;case 17:return Je(t.type)&&Xi(),Pe(t),null;case 19:if(ie(ae),o=t.memoizedState,o===null)return Pe(t),null;if(s=(t.flags&128)!==0,a=o.rendering,a===null)if(s)Ks(o,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ro(e),a!==null){for(t.flags|=128,Ks(o,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)o=n,e=s,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(ae,ae.current&1|2),t.child}e=e.sibling}o.tail!==null&&pe()>Ps&&(t.flags|=128,s=!0,Ks(o,!1),t.lanes=4194304)}else{if(!s)if(e=ro(a),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!oe)return Pe(t),null}else 2*pe()-o.renderingStartTime>Ps&&n!==1073741824&&(t.flags|=128,s=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=pe(),t.sibling=null,n=ae.current,ne(ae,s?n&1|2:n&1),t):(Pe(t),null);case 22:case 23:return Oc(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ye&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function nv(e,t){switch(hc(t),t.tag){case 1:return Je(t.type)&&Xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _s(),ie(qe),ie(Oe),kc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wc(t),null;case 13:if(ie(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ae),null;case 4:return _s(),null;case 10:return yc(t.type._context),null;case 22:case 23:return Oc(),null;case 24:return null;default:return null}}var mi=!1,Re=!1,sv=typeof WeakSet=="function"?WeakSet:Set,z=null;function ps(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){fe(e,t,s)}else n.current=null}function jl(e,t,n){try{n()}catch(s){fe(e,t,s)}}var od=!1;function rv(e,t){if(sl=Ji,e=Xf(),dc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,g=null;t:for(;;){for(var v;h!==n||r!==0&&h.nodeType!==3||(l=a+r),h!==o||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(v=h.firstChild)!==null;)g=h,h=v;for(;;){if(h===e)break t;if(g===n&&++u===r&&(l=a),g===o&&++d===s&&(c=a),(v=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rl={focusedElem:e,selectionRange:n},Ji=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,j=x.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:vt(t.type,w),j);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(k){fe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return x=od,od=!1,x}function ur(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,o!==void 0&&jl(t,n,o)}r=r.next}while(r!==s)}}function Oo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function wl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jh(e){var t=e.alternate;t!==null&&(e.alternate=null,Jh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Sr],delete t[al],delete t[Iy],delete t[Uy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qh(e){return e.tag===5||e.tag===3||e.tag===4}function ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gi));else if(s!==4&&(e=e.child,e!==null))for(kl(e,t,n),e=e.sibling;e!==null;)kl(e,t,n),e=e.sibling}function Nl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Nl(e,t,n),e=e.sibling;e!==null;)Nl(e,t,n),e=e.sibling}var Ce=null,xt=!1;function en(e,t,n){for(n=n.child;n!==null;)Kh(e,t,n),n=n.sibling}function Kh(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Co,n)}catch{}switch(n.tag){case 5:Re||ps(n,t);case 6:var s=Ce,r=xt;Ce=null,en(e,t,n),Ce=s,xt=r,Ce!==null&&(xt?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(xt?(e=Ce,n=n.stateNode,e.nodeType===8?ga(e.parentNode,n):e.nodeType===1&&ga(e,n),xr(e)):ga(Ce,n.stateNode));break;case 4:s=Ce,r=xt,Ce=n.stateNode.containerInfo,xt=!0,en(e,t,n),Ce=s,xt=r;break;case 0:case 11:case 14:case 15:if(!Re&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&jl(n,t,a),r=r.next}while(r!==s)}en(e,t,n);break;case 1:if(!Re&&(ps(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){fe(n,t,l)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(Re=(s=Re)||n.memoizedState!==null,en(e,t,n),Re=s):en(e,t,n);break;default:en(e,t,n)}}function ld(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sv),t.forEach(function(s){var r=hv.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,xt=!1;break e;case 3:Ce=l.stateNode.containerInfo,xt=!0;break e;case 4:Ce=l.stateNode.containerInfo,xt=!0;break e}l=l.return}if(Ce===null)throw Error(F(160));Kh(o,a,r),Ce=null,xt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){fe(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gh(t,e),t=t.sibling}function Gh(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Tt(e),s&4){try{ur(3,e,e.return),Oo(3,e)}catch(w){fe(e,e.return,w)}try{ur(5,e,e.return)}catch(w){fe(e,e.return,w)}}break;case 1:yt(t,e),Tt(e),s&512&&n!==null&&ps(n,n.return);break;case 5:if(yt(t,e),Tt(e),s&512&&n!==null&&ps(n,n.return),e.flags&32){var r=e.stateNode;try{mr(r,"")}catch(w){fe(e,e.return,w)}}if(s&4&&(r=e.stateNode,r!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&vf(r,o),Ja(l,a);var u=Ja(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Nf(r,h):d==="dangerouslySetInnerHTML"?wf(r,h):d==="children"?mr(r,h):Yl(r,d,h,u)}switch(l){case"input":Ba(r,o);break;case"textarea":xf(r,o);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?gs(r,!!o.multiple,v,!1):g!==!!o.multiple&&(o.defaultValue!=null?gs(r,!!o.multiple,o.defaultValue,!0):gs(r,!!o.multiple,o.multiple?[]:"",!1))}r[Sr]=o}catch(w){fe(e,e.return,w)}}break;case 6:if(yt(t,e),Tt(e),s&4){if(e.stateNode===null)throw Error(F(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(w){fe(e,e.return,w)}}break;case 3:if(yt(t,e),Tt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{xr(t.containerInfo)}catch(w){fe(e,e.return,w)}break;case 4:yt(t,e),Tt(e);break;case 13:yt(t,e),Tt(e),r=e.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Rc=pe())),s&4&&ld(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(u=Re)||d,yt(t,e),Re=u):yt(t,e),Tt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(z=e,d=e.child;d!==null;){for(h=z=d;z!==null;){switch(g=z,v=g.child,g.tag){case 0:case 11:case 14:case 15:ur(4,g,g.return);break;case 1:ps(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){fe(s,n,w)}}break;case 5:ps(g,g.return);break;case 22:if(g.memoizedState!==null){ud(h);continue}}v!==null?(v.return=g,z=v):ud(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kf("display",a))}catch(w){fe(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){fe(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yt(t,e),Tt(e),s&4&&ld(e);break;case 21:break;default:yt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qh(n)){var s=n;break e}n=n.return}throw Error(F(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(mr(r,""),s.flags&=-33);var o=ad(e);Nl(e,o,r);break;case 3:case 4:var a=s.stateNode.containerInfo,l=ad(e);kl(e,l,a);break;default:throw Error(F(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iv(e,t,n){z=e,Xh(e)}function Xh(e,t,n){for(var s=(e.mode&1)!==0;z!==null;){var r=z,o=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||mi;if(!a){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Re;l=mi;var u=Re;if(mi=a,(Re=c)&&!u)for(z=r;z!==null;)a=z,c=a.child,a.tag===22&&a.memoizedState!==null?dd(r):c!==null?(c.return=a,z=c):dd(r);for(;o!==null;)z=o,Xh(o),o=o.sibling;z=r,mi=l,Re=u}cd(e)}else r.subtreeFlags&8772&&o!==null?(o.return=r,z=o):cd(e)}}function cd(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Oo(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Re)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ju(t,o,s);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ju(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&xr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Re||t.flags&512&&wl(t)}catch(g){fe(t,t.return,g)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function ud(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function dd(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Oo(4,t)}catch(c){fe(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){fe(t,r,c)}}var o=t.return;try{wl(t)}catch(c){fe(t,o,c)}break;case 5:var a=t.return;try{wl(t)}catch(c){fe(t,a,c)}}}catch(c){fe(t,t.return,c)}if(t===e){z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,z=l;break}z=t.return}}var ov=Math.ceil,ao=Kt.ReactCurrentDispatcher,bc=Kt.ReactCurrentOwner,dt=Kt.ReactCurrentBatchConfig,K=0,Se=null,ge=null,Ee=0,Ye=0,ms=Nn(0),je=0,Pr=null,Hn=0,Lo=0,Pc=0,dr=null,We=null,Rc=0,Ps=1/0,zt=null,lo=!1,Sl=null,mn=null,gi=!1,an=null,co=0,fr=0,Cl=null,Pi=-1,Ri=0;function De(){return K&6?pe():Pi!==-1?Pi:Pi=pe()}function gn(e){return e.mode&1?K&2&&Ee!==0?Ee&-Ee:Vy.transition!==null?(Ri===0&&(Ri=Mf()),Ri):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Bf(e.type)),e):1}function Nt(e,t,n,s){if(50<fr)throw fr=0,Cl=null,Error(F(185));$r(e,n,s),(!(K&2)||e!==Se)&&(e===Se&&(!(K&2)&&(Lo|=n),je===4&&rn(e,Ee)),Qe(e,s),n===1&&K===0&&!(t.mode&1)&&(Ps=pe()+500,Po&&Sn()))}function Qe(e,t){var n=e.callbackNode;Vg(e,t);var s=qi(e,e===Se?Ee:0);if(s===0)n!==null&&ju(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&ju(n),t===1)e.tag===0?By(fd.bind(null,e)):ah(fd.bind(null,e)),$y(function(){!(K&6)&&Sn()}),n=null;else{switch(Ff(s)){case 1:n=sc;break;case 4:n=Of;break;case 16:n=Hi;break;case 536870912:n=Lf;break;default:n=Hi}n=ip(n,Yh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yh(e,t){if(Pi=-1,Ri=0,K&6)throw Error(F(327));var n=e.callbackNode;if(ws()&&e.callbackNode!==n)return null;var s=qi(e,e===Se?Ee:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=uo(e,s);else{t=s;var r=K;K|=2;var o=ep();(Se!==e||Ee!==t)&&(zt=null,Ps=pe()+500,zn(e,t));do try{cv();break}catch(l){Zh(e,l)}while(1);gc(),ao.current=o,K=r,ge!==null?t=0:(Se=null,Ee=0,t=je)}if(t!==0){if(t===2&&(r=Ya(e),r!==0&&(s=r,t=El(e,r))),t===1)throw n=Pr,zn(e,0),rn(e,s),Qe(e,pe()),n;if(t===6)rn(e,s);else{if(r=e.current.alternate,!(s&30)&&!av(r)&&(t=uo(e,s),t===2&&(o=Ya(e),o!==0&&(s=o,t=El(e,o))),t===1))throw n=Pr,zn(e,0),rn(e,s),Qe(e,pe()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(F(345));case 2:An(e,We,zt);break;case 3:if(rn(e,s),(s&130023424)===s&&(t=Rc+500-pe(),10<t)){if(qi(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){De(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ol(An.bind(null,e,We,zt),t);break}An(e,We,zt);break;case 4:if(rn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var a=31-kt(s);o=1<<a,a=t[a],a>r&&(r=a),s&=~o}if(s=r,s=pe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ov(s/1960))-s,10<s){e.timeoutHandle=ol(An.bind(null,e,We,zt),s);break}An(e,We,zt);break;case 5:An(e,We,zt);break;default:throw Error(F(329))}}}return Qe(e,pe()),e.callbackNode===n?Yh.bind(null,e):null}function El(e,t){var n=dr;return e.current.memoizedState.isDehydrated&&(zn(e,t).flags|=256),e=uo(e,t),e!==2&&(t=We,We=n,t!==null&&Tl(t)),e}function Tl(e){We===null?We=e:We.push.apply(We,e)}function av(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],o=r.getSnapshot;r=r.value;try{if(!Ct(o(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~Pc,t&=~Lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),s=1<<n;e[n]=-1,t&=~s}}function fd(e){if(K&6)throw Error(F(327));ws();var t=qi(e,0);if(!(t&1))return Qe(e,pe()),null;var n=uo(e,t);if(e.tag!==0&&n===2){var s=Ya(e);s!==0&&(t=s,n=El(e,s))}if(n===1)throw n=Pr,zn(e,0),rn(e,t),Qe(e,pe()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,We,zt),Qe(e,pe()),null}function Ac(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(Ps=pe()+500,Po&&Sn())}}function qn(e){an!==null&&an.tag===0&&!(K&6)&&ws();var t=K;K|=1;var n=dt.transition,s=Y;try{if(dt.transition=null,Y=1,e)return e()}finally{Y=s,dt.transition=n,K=t,!(K&6)&&Sn()}}function Oc(){Ye=ms.current,ie(ms)}function zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dy(n)),ge!==null)for(n=ge.return;n!==null;){var s=n;switch(hc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Xi();break;case 3:_s(),ie(qe),ie(Oe),kc();break;case 5:wc(s);break;case 4:_s();break;case 13:ie(ae);break;case 19:ie(ae);break;case 10:yc(s.type._context);break;case 22:case 23:Oc()}n=n.return}if(Se=e,ge=e=yn(e.current,null),Ee=Ye=t,je=0,Pr=null,Pc=Lo=Hn=0,We=dr=null,Fn!==null){for(t=0;t<Fn.length;t++)if(n=Fn[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,s.next=a}n.pending=s}Fn=null}return e}function Zh(e,t){do{var n=ge;try{if(gc(),Ti.current=oo,io){for(var s=le.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}io=!1}if(Wn=0,Ne=xe=le=null,cr=!1,Tr=0,bc.current=null,n===null||n.return===null){je=1,Pr=t,ge=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Ee,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Zu(a);if(v!==null){v.flags&=-257,ed(v,a,l,o,t),v.mode&1&&Yu(o,u,t),t=v,c=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(c),t.updateQueue=w}else x.add(c);break e}else{if(!(t&1)){Yu(o,u,t),Lc();break e}c=Error(F(426))}}else if(oe&&l.mode&1){var j=Zu(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),ed(j,a,l,o,t),pc(bs(c,l));break e}}o=c=bs(c,l),je!==4&&(je=2),dr===null?dr=[o]:dr.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=Fh(o,c,t);qu(o,p);break e;case 1:l=c;var f=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(mn===null||!mn.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=Dh(o,l,t);qu(o,k);break e}}o=o.return}while(o!==null)}np(n)}catch(S){t=S,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(1)}function ep(){var e=ao.current;return ao.current=oo,e===null?oo:e}function Lc(){(je===0||je===3||je===2)&&(je=4),Se===null||!(Hn&268435455)&&!(Lo&268435455)||rn(Se,Ee)}function uo(e,t){var n=K;K|=2;var s=ep();(Se!==e||Ee!==t)&&(zt=null,zn(e,t));do try{lv();break}catch(r){Zh(e,r)}while(1);if(gc(),K=n,ao.current=s,ge!==null)throw Error(F(261));return Se=null,Ee=0,je}function lv(){for(;ge!==null;)tp(ge)}function cv(){for(;ge!==null&&!Lg();)tp(ge)}function tp(e){var t=rp(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?np(e):ge=t,bc.current=null}function np(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nv(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,ge=null;return}}else if(n=tv(n,t,Ye),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);je===0&&(je=5)}function An(e,t,n){var s=Y,r=dt.transition;try{dt.transition=null,Y=1,uv(e,t,n,s)}finally{dt.transition=r,Y=s}return null}function uv(e,t,n,s){do ws();while(an!==null);if(K&6)throw Error(F(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Wg(e,o),e===Se&&(ge=Se=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gi||(gi=!0,ip(Hi,function(){return ws(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=dt.transition,dt.transition=null;var a=Y;Y=1;var l=K;K|=4,bc.current=null,rv(e,n),Gh(n,e),Py(rl),Ji=!!sl,rl=sl=null,e.current=n,iv(n),Mg(),K=l,Y=a,dt.transition=o}else e.current=n;if(gi&&(gi=!1,an=e,co=r),o=e.pendingLanes,o===0&&(mn=null),$g(n.stateNode),Qe(e,pe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(lo)throw lo=!1,e=Sl,Sl=null,e;return co&1&&e.tag!==0&&ws(),o=e.pendingLanes,o&1?e===Cl?fr++:(fr=0,Cl=e):fr=0,Sn(),null}function ws(){if(an!==null){var e=Ff(co),t=dt.transition,n=Y;try{if(dt.transition=null,Y=16>e?16:e,an===null)var s=!1;else{if(e=an,an=null,co=0,K&6)throw Error(F(331));var r=K;for(K|=4,z=e.current;z!==null;){var o=z,a=o.child;if(z.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(z=u;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:ur(8,d,o)}var h=d.child;if(h!==null)h.return=d,z=h;else for(;z!==null;){d=z;var g=d.sibling,v=d.return;if(Jh(d),d===u){z=null;break}if(g!==null){g.return=v,z=g;break}z=v}}}var x=o.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}z=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,z=a;else e:for(;z!==null;){if(o=z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ur(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,z=p;break e}z=o.return}}var f=e.current;for(z=f;z!==null;){a=z;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,z=m;else e:for(a=f;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Oo(9,l)}}catch(S){fe(l,l.return,S)}if(l===a){z=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,z=k;break e}z=l.return}}if(K=r,Sn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Co,e)}catch{}s=!0}return s}finally{Y=n,dt.transition=t}}return!1}function hd(e,t,n){t=bs(n,t),t=Fh(e,t,1),e=pn(e,t,1),t=De(),e!==null&&($r(e,1,t),Qe(e,t))}function fe(e,t,n){if(e.tag===3)hd(e,e,n);else for(;t!==null;){if(t.tag===3){hd(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(mn===null||!mn.has(s))){e=bs(n,e),e=Dh(t,e,1),t=pn(t,e,1),e=De(),t!==null&&($r(t,1,e),Qe(t,e));break}}t=t.return}}function dv(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(Ee&n)===n&&(je===4||je===3&&(Ee&130023424)===Ee&&500>pe()-Rc?zn(e,0):Pc|=n),Qe(e,t)}function sp(e,t){t===0&&(e.mode&1?(t=oi,oi<<=1,!(oi&130023424)&&(oi=4194304)):t=1);var n=De();e=Jt(e,t),e!==null&&($r(e,t,n),Qe(e,n))}function fv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sp(e,n)}function hv(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(F(314))}s!==null&&s.delete(t),sp(e,n)}var rp;rp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,ev(e,t,n);He=!!(e.flags&131072)}else He=!1,oe&&t.flags&1048576&&lh(t,eo,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;bi(e,t),e=t.pendingProps;var r=Cs(t,Oe.current);js(t,n),r=Sc(null,t,s,e,r,n);var o=Cc();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(s)?(o=!0,Yi(t)):o=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,xc(t),r.updater=Ao,t.stateNode=r,r._reactInternals=t,hl(t,s,e,n),t=gl(null,t,s,!0,o,n)):(t.tag=0,oe&&o&&fc(t),Fe(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(bi(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=mv(s),e=vt(s,e),r){case 0:t=ml(null,t,s,e,n);break e;case 1:t=sd(null,t,s,e,n);break e;case 11:t=td(null,t,s,e,n);break e;case 14:t=nd(null,t,s,vt(s.type,e),n);break e}throw Error(F(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:vt(s,r),ml(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:vt(s,r),sd(e,t,s,r,n);case 3:e:{if(Uh(t),e===null)throw Error(F(387));s=t.pendingProps,o=t.memoizedState,r=o.element,ph(e,t),so(t,s,null,n);var a=t.memoizedState;if(s=a.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){r=bs(Error(F(423)),t),t=rd(e,t,s,n,r);break e}else if(s!==r){r=bs(Error(F(424)),t),t=rd(e,t,s,n,r);break e}else for(Ze=hn(t.stateNode.containerInfo.firstChild),et=t,oe=!0,wt=null,n=fh(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),s===r){t=Qt(e,t,n);break e}Fe(e,t,s,n)}t=t.child}return t;case 5:return mh(t),e===null&&ul(t),s=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,a=r.children,il(s,r)?a=null:o!==null&&il(s,o)&&(t.flags|=32),Ih(e,t),Fe(e,t,a,n),t.child;case 6:return e===null&&ul(t),null;case 13:return Bh(e,t,n);case 4:return jc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ts(t,null,s,n):Fe(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:vt(s,r),td(e,t,s,r,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,o=t.memoizedProps,a=r.value,ne(to,s._currentValue),s._currentValue=a,o!==null)if(Ct(o.value,a)){if(o.children===r.children&&!qe.current){t=Qt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=Vt(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),dl(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(F(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),dl(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Fe(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,js(t,n),r=ht(r),s=s(r),t.flags|=1,Fe(e,t,s,n),t.child;case 14:return s=t.type,r=vt(s,t.pendingProps),r=vt(s.type,r),nd(e,t,s,r,n);case 15:return $h(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:vt(s,r),bi(e,t),t.tag=1,Je(s)?(e=!0,Yi(t)):e=!1,js(t,n),Mh(t,s,r),hl(t,s,r,n),gl(null,t,s,!0,e,n);case 19:return Vh(e,t,n);case 22:return zh(e,t,n)}throw Error(F(156,t.tag))};function ip(e,t){return Af(e,t)}function pv(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,s){return new pv(e,t,n,s)}function Mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mv(e){if(typeof e=="function")return Mc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ec)return 11;if(e===tc)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ai(e,t,n,s,r,o){var a=2;if(s=e,typeof e=="function")Mc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case is:return In(n.children,r,o,t);case Zl:a=8,r|=8;break;case Da:return e=ut(12,n,t,r|2),e.elementType=Da,e.lanes=o,e;case $a:return e=ut(13,n,t,r),e.elementType=$a,e.lanes=o,e;case za:return e=ut(19,n,t,r),e.elementType=za,e.lanes=o,e;case mf:return Mo(n,r,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hf:a=10;break e;case pf:a=9;break e;case ec:a=11;break e;case tc:a=14;break e;case tn:a=16,s=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=ut(a,n,t,r),t.elementType=e,t.type=s,t.lanes=o,t}function In(e,t,n,s){return e=ut(7,e,s,t),e.lanes=n,e}function Mo(e,t,n,s){return e=ut(22,e,s,t),e.elementType=mf,e.lanes=n,e.stateNode={isHidden:!1},e}function Sa(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function Ca(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gv(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,s,r,o,a,l,c){return e=new gv(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ut(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xc(o),e}function yv(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function op(e){if(!e)return wn;e=e._reactInternals;e:{if(Gn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Je(n))return oh(e,n,t)}return t}function ap(e,t,n,s,r,o,a,l,c){return e=Fc(n,s,!0,e,r,o,a,l,c),e.context=op(null),n=e.current,s=De(),r=gn(n),o=Vt(s,r),o.callback=t??null,pn(n,o,r),e.current.lanes=r,$r(e,r,s),Qe(e,s),e}function Fo(e,t,n,s){var r=t.current,o=De(),a=gn(r);return n=op(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(o,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=pn(r,t,a),e!==null&&(Nt(e,r,a,o),Ei(e,r,a)),a}function fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dc(e,t){pd(e,t),(e=e.alternate)&&pd(e,t)}function vv(){return null}var lp=typeof reportError=="function"?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}Do.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Fo(e,t,null,null)};Do.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qn(function(){Fo(null,e,null,null)}),t[qt]=null}};function Do(e){this._internalRoot=e}Do.prototype.unstable_scheduleHydration=function(e){if(e){var t=zf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Uf(e)}};function zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function md(){}function xv(e,t,n,s,r){if(r){if(typeof s=="function"){var o=s;s=function(){var u=fo(a);o.call(u)}}var a=ap(t,s,e,0,null,!1,!1,"",md);return e._reactRootContainer=a,e[qt]=a.current,kr(e.nodeType===8?e.parentNode:e),qn(),a}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=fo(c);l.call(u)}}var c=Fc(e,0,!1,null,null,!1,!1,"",md);return e._reactRootContainer=c,e[qt]=c.current,kr(e.nodeType===8?e.parentNode:e),qn(function(){Fo(t,c,n,s)}),c}function zo(e,t,n,s,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var l=r;r=function(){var c=fo(a);l.call(c)}}Fo(t,a,e,r)}else a=xv(n,t,e,r,s);return fo(a)}Df=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tr(t.pendingLanes);n!==0&&(rc(t,n|1),Qe(t,pe()),!(K&6)&&(Ps=pe()+500,Sn()))}break;case 13:qn(function(){var s=Jt(e,1);if(s!==null){var r=De();Nt(s,e,1,r)}}),Dc(e,1)}};ic=function(e){if(e.tag===13){var t=Jt(e,134217728);if(t!==null){var n=De();Nt(t,e,134217728,n)}Dc(e,134217728)}};$f=function(e){if(e.tag===13){var t=gn(e),n=Jt(e,t);if(n!==null){var s=De();Nt(n,e,t,s)}Dc(e,t)}};zf=function(){return Y};If=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Ka=function(e,t,n){switch(t){case"input":if(Ba(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=bo(s);if(!r)throw Error(F(90));yf(s),Ba(s,r)}}}break;case"textarea":xf(e,n);break;case"select":t=n.value,t!=null&&gs(e,!!n.multiple,t,!1)}};Ef=Ac;Tf=qn;var jv={usingClientEntryPoint:!1,Events:[Ir,cs,bo,Sf,Cf,Ac]},Gs={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wv={bundleType:Gs.bundleType,version:Gs.version,rendererPackageName:Gs.rendererPackageName,rendererConfig:Gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pf(e),e===null?null:e.stateNode},findFiberByHostInstance:Gs.findFiberByHostInstance||vv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{Co=yi.inject(wv),At=yi}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jv;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zc(t))throw Error(F(200));return yv(e,t,null,n)};nt.createRoot=function(e,t){if(!zc(e))throw Error(F(299));var n=!1,s="",r=lp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Fc(e,1,!1,null,null,n,!1,s,r),e[qt]=t.current,kr(e.nodeType===8?e.parentNode:e),new $c(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Pf(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return qn(e)};nt.hydrate=function(e,t,n){if(!$o(t))throw Error(F(200));return zo(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!zc(e))throw Error(F(405));var s=n!=null&&n.hydratedSources||null,r=!1,o="",a=lp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ap(t,null,e,1,n??null,r,!1,o,a),e[qt]=t.current,kr(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Do(t)};nt.render=function(e,t,n){if(!$o(t))throw Error(F(200));return zo(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!$o(e))throw Error(F(40));return e._reactRootContainer?(qn(function(){zo(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1};nt.unstable_batchedUpdates=Ac;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!$o(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return zo(e,t,n,!1,s)};nt.version="18.3.1-next-f1338f8080-20240426";function cp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cp)}catch(e){console.error(e)}}cp(),cf.exports=nt;var kv=cf.exports,gd=kv;Ma.createRoot=gd.createRoot,Ma.hydrateRoot=gd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rr.apply(this,arguments)}var ln;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ln||(ln={}));const yd="popstate";function Nv(e){e===void 0&&(e={});function t(s,r){let{pathname:o,search:a,hash:l}=s.location;return _l("",{pathname:o,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:ho(r)}return Cv(t,n,null,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function up(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sv(){return Math.random().toString(36).substr(2,8)}function vd(e,t){return{usr:e.state,key:e.key,idx:t}}function _l(e,t,n,s){return n===void 0&&(n=null),Rr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ms(t):t,{state:n,key:t&&t.key||s||Sv()})}function ho(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ms(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Cv(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:o=!1}=s,a=r.history,l=ln.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Rr({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=ln.Pop;let j=d(),p=j==null?null:j-u;u=j,c&&c({action:l,location:w.location,delta:p})}function g(j,p){l=ln.Push;let f=_l(w.location,j,p);n&&n(f,j),u=d()+1;let m=vd(f,u),k=w.createHref(f);try{a.pushState(m,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(k)}o&&c&&c({action:l,location:w.location,delta:1})}function v(j,p){l=ln.Replace;let f=_l(w.location,j,p);n&&n(f,j),u=d();let m=vd(f,u),k=w.createHref(f);a.replaceState(m,"",k),o&&c&&c({action:l,location:w.location,delta:0})}function x(j){let p=r.location.origin!=="null"?r.location.origin:r.location.href,f=typeof j=="string"?j:ho(j);return f=f.replace(/ $/,"%20"),he(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let w={get action(){return l},get location(){return e(r,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(yd,h),c=j,()=>{r.removeEventListener(yd,h),c=null}},createHref(j){return t(r,j)},createURL:x,encodeLocation(j){let p=x(j);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:g,replace:v,go(j){return a.go(j)}};return w}var xd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xd||(xd={}));function Ev(e,t,n){return n===void 0&&(n="/"),Tv(e,t,n,!1)}function Tv(e,t,n,s){let r=typeof t=="string"?Ms(t):t,o=Rs(r.pathname||"/",n);if(o==null)return null;let a=dp(e);_v(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=zv(o);l=Dv(a[c],u,s)}return l}function dp(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(he(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=vn([s,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(he(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dp(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Mv(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))r(o,a);else for(let c of fp(o.path))r(o,a,c)}),t}function fp(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let a=fp(s.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),r&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _v(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Fv(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const bv=/^:[\w-]+$/,Pv=3,Rv=2,Av=1,Ov=10,Lv=-2,jd=e=>e==="*";function Mv(e,t){let n=e.split("/"),s=n.length;return n.some(jd)&&(s+=Lv),t&&(s+=Rv),n.filter(r=>!jd(r)).reduce((r,o)=>r+(bv.test(o)?Pv:o===""?Av:Ov),s)}function Fv(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function Dv(e,t,n){n===void 0&&(n=!1);let{routesMeta:s}=e,r={},o="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=po({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!h&&u&&n&&!s[s.length-1].route.index&&(h=po({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:vn([o,h.pathname]),pathnameBase:Vv(vn([o,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(o=vn([o,h.pathnameBase]))}return a}function po(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=$v(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:g,isOptional:v}=d;if(g==="*"){let w=l[h]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const x=l[h];return v&&!x?u[g]=void 0:u[g]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function $v(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),up(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function zv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return up(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Iv(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Ms(e):e;return{pathname:n?n.startsWith("/")?n:Uv(n,t):t,search:Wv(s),hash:Hv(r)}}function Uv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ea(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hp(e,t){let n=Bv(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function pp(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=Ms(e):(r=Rr({},e),he(!r.pathname||!r.pathname.includes("?"),Ea("?","pathname","search",r)),he(!r.pathname||!r.pathname.includes("#"),Ea("#","pathname","hash",r)),he(!r.search||!r.search.includes("#"),Ea("#","search","hash",r)));let o=e===""||r.pathname==="",a=o?"/":r.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!s&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;r.pathname=g.join("/")}l=h>=0?t[h]:"/"}let c=Iv(r,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const vn=e=>e.join("/").replace(/\/\/+/g,"/"),Vv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mp=["post","put","patch","delete"];new Set(mp);const Jv=["get",...mp];new Set(Jv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ar.apply(this,arguments)}const Io=y.createContext(null),gp=y.createContext(null),Cn=y.createContext(null),Uo=y.createContext(null),Gt=y.createContext({outlet:null,matches:[],isDataRoute:!1}),yp=y.createContext(null);function Qv(e,t){let{relative:n}=t===void 0?{}:t;Br()||he(!1);let{basename:s,navigator:r}=y.useContext(Cn),{hash:o,pathname:a,search:l}=Bo(e,{relative:n}),c=a;return s!=="/"&&(c=a==="/"?s:vn([s,a])),r.createHref({pathname:c,search:l,hash:o})}function Br(){return y.useContext(Uo)!=null}function En(){return Br()||he(!1),y.useContext(Uo).location}function vp(e){y.useContext(Cn).static||y.useLayoutEffect(e)}function Xn(){let{isDataRoute:e}=y.useContext(Gt);return e?cx():Kv()}function Kv(){Br()||he(!1);let e=y.useContext(Io),{basename:t,future:n,navigator:s}=y.useContext(Cn),{matches:r}=y.useContext(Gt),{pathname:o}=En(),a=JSON.stringify(hp(r,n.v7_relativeSplatPath)),l=y.useRef(!1);return vp(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=pp(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:vn([t,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[t,s,a,o,e])}const Gv=y.createContext(null);function Xv(e){let t=y.useContext(Gt).outlet;return t&&y.createElement(Gv.Provider,{value:e},t)}function xp(){let{matches:e}=y.useContext(Gt),t=e[e.length-1];return t?t.params:{}}function Bo(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=y.useContext(Cn),{matches:r}=y.useContext(Gt),{pathname:o}=En(),a=JSON.stringify(hp(r,s.v7_relativeSplatPath));return y.useMemo(()=>pp(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function Yv(e,t){return Zv(e,t)}function Zv(e,t,n,s){Br()||he(!1);let{navigator:r}=y.useContext(Cn),{matches:o}=y.useContext(Gt),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=En(),d;if(t){var h;let j=typeof t=="string"?Ms(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||he(!1),d=j}else d=u;let g=d.pathname||"/",v=g;if(c!=="/"){let j=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=Ev(e,{pathname:v}),w=rx(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:vn([c,r.encodeLocation?r.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:vn([c,r.encodeLocation?r.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,s);return t&&w?y.createElement(Uo.Provider,{value:{location:Ar({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ln.Pop}},w):w}function ex(){let e=lx(),t=qv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:r},n):null,o)}const tx=y.createElement(ex,null);class nx extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Gt.Provider,{value:this.props.routeContext},y.createElement(yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sx(e){let{routeContext:t,match:n,children:s}=e,r=y.useContext(Io);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Gt.Provider,{value:t},s)}function rx(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||he(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:v}=n,x=h.route.loader&&g[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,g)=>{let v,x=!1,w=null,j=null;n&&(v=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||tx,c&&(u<0&&g===0?(ux("route-fallback",!1),x=!0,j=null):u===g&&(x=!0,j=h.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,g+1)),f=()=>{let m;return v?m=w:x?m=j:h.route.Component?m=y.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,y.createElement(sx,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:m})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?y.createElement(nx,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var jp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jp||{}),mo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mo||{});function ix(e){let t=y.useContext(Io);return t||he(!1),t}function ox(e){let t=y.useContext(gp);return t||he(!1),t}function ax(e){let t=y.useContext(Gt);return t||he(!1),t}function wp(e){let t=ax(),n=t.matches[t.matches.length-1];return n.route.id||he(!1),n.route.id}function lx(){var e;let t=y.useContext(yp),n=ox(mo.UseRouteError),s=wp(mo.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function cx(){let{router:e}=ix(jp.UseNavigateStable),t=wp(mo.UseNavigateStable),n=y.useRef(!1);return vp(()=>{n.current=!0}),y.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Ar({fromRouteId:t},o)))},[e,t])}const wd={};function ux(e,t,n){!t&&!wd[e]&&(wd[e]=!0)}function dx(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function fx(e){return Xv(e.context)}function $t(e){he(!1)}function hx(e){let{basename:t="/",children:n=null,location:s,navigationType:r=ln.Pop,navigator:o,static:a=!1,future:l}=e;Br()&&he(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:o,static:a,future:Ar({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof s=="string"&&(s=Ms(s));let{pathname:d="/",search:h="",hash:g="",state:v=null,key:x="default"}=s,w=y.useMemo(()=>{let j=Rs(d,c);return j==null?null:{location:{pathname:j,search:h,hash:g,state:v,key:x},navigationType:r}},[c,d,h,g,v,x,r]);return w==null?null:y.createElement(Cn.Provider,{value:u},y.createElement(Uo.Provider,{children:n,value:w}))}function px(e){let{children:t,location:n}=e;return Yv(bl(t),n)}new Promise(()=>{});function bl(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(s,r)=>{if(!y.isValidElement(s))return;let o=[...t,r];if(s.type===y.Fragment){n.push.apply(n,bl(s.props.children,o));return}s.type!==$t&&he(!1),!s.props.index||!s.props.children||he(!1);let a={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=bl(s.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},go.apply(this,arguments)}function kp(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,o;for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function mx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gx(e,t){return e.button===0&&(!t||t==="_self")&&!mx(e)}function Pl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function yx(e,t){let n=Pl(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(o=>{n.append(r,o)})}),n}const vx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],jx="6";try{window.__reactRouterVersion=jx}catch{}const wx=y.createContext({isTransitioning:!1}),kx="startTransition",kd=dg[kx];function Nx(e){let{basename:t,children:n,future:s,window:r}=e,o=y.useRef();o.current==null&&(o.current=Nv({window:r,v5Compat:!0}));let a=o.current,[l,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=s||{},d=y.useCallback(h=>{u&&kd?kd(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>a.listen(d),[a,d]),y.useEffect(()=>dx(s),[s]),y.createElement(hx,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:s})}const Sx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ex=y.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,g=kp(t,vx),{basename:v}=y.useContext(Cn),x,w=!1;if(typeof u=="string"&&Cx.test(u)&&(x=u,Sx))try{let m=new URL(window.location.href),k=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=Rs(k.pathname,v);k.origin===m.origin&&S!=null?u=S+k.search+k.hash:w=!0}catch{}let j=Qv(u,{relative:r}),p=bx(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function f(m){s&&s(m),m.defaultPrevented||p(m)}return y.createElement("a",go({},g,{href:x||j,onClick:w||o?s:f,ref:n,target:c}))}),Tx=y.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:r=!1,className:o="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=t,h=kp(t,xx),g=Bo(c,{relative:h.relative}),v=En(),x=y.useContext(gp),{navigator:w,basename:j}=y.useContext(Cn),p=x!=null&&Rx(g)&&u===!0,f=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,m=v.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(m=m.toLowerCase(),k=k?k.toLowerCase():null,f=f.toLowerCase()),k&&j&&(k=Rs(k,j)||k);const S=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let T=m===f||!a&&m.startsWith(f)&&m.charAt(S)==="/",N=k!=null&&(k===f||!a&&k.startsWith(f)&&k.charAt(f.length)==="/"),E={isActive:T,isPending:N,isTransitioning:p},L=T?s:void 0,$;typeof o=="function"?$=o(E):$=[o,T?"active":null,N?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let b=typeof l=="function"?l(E):l;return y.createElement(Ex,go({},h,{"aria-current":L,className:$,ref:n,style:b,to:c,viewTransition:u}),typeof d=="function"?d(E):d)});var Rl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rl||(Rl={}));var Nd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nd||(Nd={}));function _x(e){let t=y.useContext(Io);return t||he(!1),t}function bx(e,t){let{target:n,replace:s,state:r,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=Xn(),u=En(),d=Bo(e,{relative:a});return y.useCallback(h=>{if(gx(h,n)){h.preventDefault();let g=s!==void 0?s:ho(u)===ho(d);c(e,{replace:g,state:r,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,s,r,n,e,o,a,l])}function Px(e){let t=y.useRef(Pl(e)),n=y.useRef(!1),s=En(),r=y.useMemo(()=>yx(s.search,n.current?null:t.current),[s.search]),o=Xn(),a=y.useCallback((l,c)=>{const u=Pl(typeof l=="function"?l(r):l);n.current=!0,o("?"+u,c)},[o,r]);return[r,a]}function Rx(e,t){t===void 0&&(t={});let n=y.useContext(wx);n==null&&he(!1);let{basename:s}=_x(Rl.useViewTransitionState),r=Bo(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Rs(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=Rs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return po(r.pathname,a)!=null||po(r.pathname,o)!=null}var Ax={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ox=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lx=(e,t)=>{const n=y.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:l,...c},u)=>y.createElement("svg",{ref:u,...Ax,width:r,height:r,stroke:s,strokeWidth:a?Number(o)*24/Number(r):o,className:`lucide lucide-${Ox(e)}`,...c},[...t.map(([d,h])=>y.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var q=Lx;const Ic=q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),yo=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),vo=q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Sd=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Vr=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Al=q("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Cd=q("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Mx=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Fx=q("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Fs=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Dx=q("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),$x=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),On=q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Ta=q("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),zx=q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),$e=q("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),Ix=q("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),Ux=q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Or=q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Bx=q("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Vx=q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Wx=q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Hx=q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Jn=q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Lt=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),qx=q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Np=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Jx=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Qx=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Sp=q("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Uc=q("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),Bc=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Kx=q("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Vc=q("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ed=q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Wc=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ft=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Cp=q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Yn=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ep(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Ep(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Un(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Ep(e))&&(s&&(s+=" "),s+=t);return s}const Gx=[{name:"Dashboard",href:"/",icon:Ux},{name:"Projects",href:"/projects",icon:$e},{name:"Teams",href:"/teams",icon:ft},{name:"Assignments",href:"/assignments",icon:Fx},{name:"Schedules",href:"/scheduled-checkins",icon:Fs}],Xx=()=>{const e=En();return i.jsxs("div",{className:"navigation",children:[i.jsx("div",{className:"nav-header",children:i.jsxs("div",{className:"nav-logo",children:[i.jsx("div",{className:"logo-icon",children:i.jsx("div",{className:"triangle"})}),i.jsx("span",{className:"logo-text",children:"AgentMux"})]})}),i.jsx("nav",{className:"nav-menu",children:i.jsx("div",{className:"nav-section",children:Gx.map(t=>{const n=e.pathname===t.href||t.href!=="/"&&e.pathname.startsWith(t.href);return i.jsxs(Tx,{to:t.href,className:Un("nav-item",n&&"nav-item--active"),children:[i.jsx(t.icon,{className:"nav-icon"}),i.jsx("span",{className:"nav-label",children:t.name})]},t.name)})})}),i.jsxs("div",{className:"nav-footer",children:[i.jsxs("div",{className:"nav-user",children:[i.jsx(Kx,{className:"user-avatar"}),i.jsxs("div",{className:"user-info",children:[i.jsx("div",{className:"user-name",children:"AgentMux"}),i.jsx("div",{className:"user-status",children:"System"})]})]}),i.jsx("button",{className:"nav-settings",children:i.jsx(Qx,{className:"settings-icon"})})]})]})},Tp=y.createContext(void 0),Zn=()=>{const e=y.useContext(Tp);if(!e)throw new Error("useTerminal must be used within a TerminalProvider");return e},Yx=({children:e})=>{const[t,n]=y.useState(!1),[s,r]=y.useState("agentmux-orc"),c={isTerminalOpen:t,selectedSession:s,openTerminal:()=>n(!0),closeTerminal:()=>n(!1),setSelectedSession:r,openTerminalWithSession:u=>{console.log("TerminalContext: openTerminalWithSession called with:",u),r(u),n(!0),console.log("TerminalContext: Terminal opened and session set to:",u)}};return i.jsx(Tp.Provider,{value:c,children:e})},Mt=Object.create(null);Mt.open="0";Mt.close="1";Mt.ping="2";Mt.pong="3";Mt.message="4";Mt.upgrade="5";Mt.noop="6";const Oi=Object.create(null);Object.keys(Mt).forEach(e=>{Oi[Mt[e]]=e});const Ol={type:"error",data:"parser error"},_p=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",bp=typeof ArrayBuffer=="function",Pp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Hc=({type:e,data:t},n,s)=>_p&&t instanceof Blob?n?s(t):Td(t,s):bp&&(t instanceof ArrayBuffer||Pp(t))?n?s(t):Td(new Blob([t]),s):s(Mt[e]+(t||"")),Td=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function _d(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let _a;function Zx(e,t){if(_p&&e.data instanceof Blob)return e.data.arrayBuffer().then(_d).then(t);if(bp&&(e.data instanceof ArrayBuffer||Pp(e.data)))return t(_d(e.data));Hc(e,!1,n=>{_a||(_a=new TextEncoder),t(_a.encode(n))})}const bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<bd.length;e++)sr[bd.charCodeAt(e)]=e;const ej=e=>{let t=e.length*.75,n=e.length,s,r=0,o,a,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(s=0;s<n;s+=4)o=sr[e.charCodeAt(s)],a=sr[e.charCodeAt(s+1)],l=sr[e.charCodeAt(s+2)],c=sr[e.charCodeAt(s+3)],d[r++]=o<<2|a>>4,d[r++]=(a&15)<<4|l>>2,d[r++]=(l&3)<<6|c&63;return u},tj=typeof ArrayBuffer=="function",qc=(e,t)=>{if(typeof e!="string")return{type:"message",data:Rp(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:nj(e.substring(1),t)}:Oi[n]?e.length>1?{type:Oi[n],data:e.substring(1)}:{type:Oi[n]}:Ol},nj=(e,t)=>{if(tj){const n=ej(e);return Rp(n,t)}else return{base64:!0,data:e}},Rp=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Ap=String.fromCharCode(30),sj=(e,t)=>{const n=e.length,s=new Array(n);let r=0;e.forEach((o,a)=>{Hc(o,!1,l=>{s[a]=l,++r===n&&t(s.join(Ap))})})},rj=(e,t)=>{const n=e.split(Ap),s=[];for(let r=0;r<n.length;r++){const o=qc(n[r],t);if(s.push(o),o.type==="error")break}return s};function ij(){return new TransformStream({transform(e,t){Zx(e,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{r=new Uint8Array(9);const o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(n)})}})}let ba;function vi(e){return e.reduce((t,n)=>t+n.length,0)}function xi(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let r=0;r<t;r++)n[r]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function oj(e,t){ba||(ba=new TextDecoder);const n=[];let s=0,r=-1,o=!1;return new TransformStream({transform(a,l){for(n.push(a);;){if(s===0){if(vi(n)<1)break;const c=xi(n,1);o=(c[0]&128)===128,r=c[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(vi(n)<2)break;const c=xi(n,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(vi(n)<8)break;const c=xi(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,53-32)-1){l.enqueue(Ol);break}r=d*Math.pow(2,32)+u.getUint32(4),s=3}else{if(vi(n)<r)break;const c=xi(n,r);l.enqueue(qc(o?c:ba.decode(c),t)),s=0}if(r===0||r>e){l.enqueue(Ol);break}}}})}const Op=4;function ye(e){if(e)return aj(e)}function aj(e){for(var t in ye.prototype)e[t]=ye.prototype[t];return e}ye.prototype.on=ye.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ye.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ye.prototype.off=ye.prototype.removeListener=ye.prototype.removeAllListeners=ye.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===t||s.fn===t){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ye.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,t)}return this};ye.prototype.emitReserved=ye.prototype.emit;ye.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ye.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Vo=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),ct=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),lj="arraybuffer";function Lp(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const cj=ct.setTimeout,uj=ct.clearTimeout;function Wo(e,t){t.useNativeTimers?(e.setTimeoutFn=cj.bind(ct),e.clearTimeoutFn=uj.bind(ct)):(e.setTimeoutFn=ct.setTimeout.bind(ct),e.clearTimeoutFn=ct.clearTimeout.bind(ct))}const dj=1.33;function fj(e){return typeof e=="string"?hj(e):Math.ceil((e.byteLength||e.size)*dj)}function hj(e){let t=0,n=0;for(let s=0,r=e.length;s<r;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function Mp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function pj(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function mj(e){let t={},n=e.split("&");for(let s=0,r=n.length;s<r;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class gj extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Jc extends ye{constructor(t){super(),this.writable=!1,Wo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,s){return super.emitReserved("error",new gj(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=qc(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=pj(t);return n.length?"?"+n:""}}class yj extends Jc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};rj(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,sj(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Mp()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Fp=!1;try{Fp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const vj=Fp;function xj(){}class jj extends yj{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(r,o)=>{this.onError("xhr post error",r,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let ks=class Li extends ye{constructor(t,n,s){super(),this.createRequest=t,Wo(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const n=Lp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=Li.requestsCount++,Li.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=xj,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Li.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};ks.requestsCount=0;ks.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Pd);else if(typeof addEventListener=="function"){const e="onpagehide"in ct?"pagehide":"unload";addEventListener(e,Pd,!1)}}function Pd(){for(let e in ks.requests)ks.requests.hasOwnProperty(e)&&ks.requests[e].abort()}const wj=function(){const e=Dp({xdomain:!1});return e&&e.responseType!==null}();class kj extends jj{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=wj&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ks(Dp,this.uri(),t)}}function Dp(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||vj))return new XMLHttpRequest}catch{}if(!t)try{return new ct[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const $p=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Nj extends Jc{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,s=$p?{}:Lp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;Hc(s,this.supportsBinary,o=>{try{this.doWrite(s,o)}catch{}r&&Vo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Mp()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Pa=ct.WebSocket||ct.MozWebSocket;class Sj extends Nj{createSocket(t,n,s){return $p?new Pa(t,n,s):n?new Pa(t,n):new Pa(t)}doWrite(t,n){this.ws.send(n)}}class Cj extends Jc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=oj(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),r=ij();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();const o=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),o())}).catch(l=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],r=n===t.length-1;this._writer.write(s).then(()=>{r&&Vo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Ej={websocket:Sj,webtransport:Cj,polling:kj},Tj=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_j=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ll(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let r=Tj.exec(e||""),o={},a=14;for(;a--;)o[_j[a]]=r[a]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=bj(o,o.path),o.queryKey=Pj(o,o.query),o}function bj(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Pj(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,o){r&&(n[r]=o)}),n}const Ml=typeof addEventListener=="function"&&typeof removeEventListener=="function",Mi=[];Ml&&addEventListener("offline",()=>{Mi.forEach(e=>e())},!1);class xn extends ye{constructor(t,n){if(super(),this.binaryType=lj,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const s=Ll(t);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Ll(n.host).host);Wo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=mj(this.opts.query)),Ml&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Mi.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Op,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&xn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",xn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=fj(r)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Vo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,s){return this._sendPacket("message",t,n,s),this}send(t,n,s){return this._sendPacket("message",t,n,s),this}_sendPacket(t,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(xn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ml&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Mi.indexOf(this._offlineEventListener);s!==-1&&Mi.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}xn.protocol=Op;class Rj extends xn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),s=!1;xn.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;xn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function o(){s||(s=!0,d(),n.close(),n=null)}const a=h=>{const g=new Error("probe error: "+h);g.transport=n.name,o(),this.emitReserved("upgradeError",g)};function l(){a("transport closed")}function c(){a("socket closed")}function u(h){n&&h.name!==n.name&&o()}const d=()=>{n.removeListener("open",r),n.removeListener("error",a),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",r),n.once("error",a),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}let Aj=class extends Rj{constructor(t,n={}){const s=typeof t=="object"?t:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(r=>Ej[r]).filter(r=>!!r)),super(t,s)}};function Oj(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=Ll(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+t,s.href=s.protocol+"://"+o+(n&&n.port===s.port?"":":"+s.port),s}const Lj=typeof ArrayBuffer=="function",Mj=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,zp=Object.prototype.toString,Fj=typeof Blob=="function"||typeof Blob<"u"&&zp.call(Blob)==="[object BlobConstructor]",Dj=typeof File=="function"||typeof File<"u"&&zp.call(File)==="[object FileConstructor]";function Qc(e){return Lj&&(e instanceof ArrayBuffer||Mj(e))||Fj&&e instanceof Blob||Dj&&e instanceof File}function Fi(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(Fi(e[n]))return!0;return!1}if(Qc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Fi(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Fi(e[n]))return!0;return!1}function $j(e){const t=[],n=e.data,s=e;return s.data=Fl(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Fl(e,t){if(!e)return e;if(Qc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=Fl(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Fl(e[s],t));return n}return e}function zj(e,t){return e.data=Dl(e.data,t),delete e.attachments,e}function Dl(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Dl(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Dl(e[n],t));return e}const Ij=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Uj=5;var Q;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Q||(Q={}));class Bj{constructor(t){this.replacer=t}encode(t){return(t.type===Q.EVENT||t.type===Q.ACK)&&Fi(t)?this.encodeAsBinary({type:t.type===Q.EVENT?Q.BINARY_EVENT:Q.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Q.BINARY_EVENT||t.type===Q.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=$j(t),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}function Rd(e){return Object.prototype.toString.call(e)==="[object Object]"}class Kc extends ye{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===Q.BINARY_EVENT;s||n.type===Q.BINARY_ACK?(n.type=s?Q.EVENT:Q.ACK,this.reconstructor=new Vj(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Qc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(Q[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Q.BINARY_EVENT||s.type===Q.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(o,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(a)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const r=t.charAt(n+1);if(r!==""&&Number(r)==r){const o=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(Kc.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Q.CONNECT:return Rd(n);case Q.DISCONNECT:return n===void 0;case Q.CONNECT_ERROR:return typeof n=="string"||Rd(n);case Q.EVENT:case Q.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Ij.indexOf(n[0])===-1);case Q.ACK:case Q.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Vj{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=zj(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Wj=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Kc,Encoder:Bj,get PacketType(){return Q},protocol:Uj},Symbol.toStringTag,{value:"Module"}));function jt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Hj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ip extends ye{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[jt(t,"open",this.onopen.bind(this)),jt(t,"packet",this.onpacket.bind(this)),jt(t,"error",this.onerror.bind(this)),jt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var s,r,o;if(Hj.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:Q.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),a.id=d}const l=(r=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||r===void 0?void 0:r.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},r),a=(...l)=>{this.io.clearTimeoutFn(o),n.apply(this,l)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...n){return new Promise((s,r)=>{const o=(a,l)=>a?r(a):s(l);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...o)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Q.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Q.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Q.EVENT:case Q.BINARY_EVENT:this.onevent(t);break;case Q.ACK:case Q.BINARY_ACK:this.onack(t);break;case Q.DISCONNECT:this.ondisconnect();break;case Q.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:Q.ACK,id:t,data:r}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Q.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Ds(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ds.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ds.prototype.reset=function(){this.attempts=0};Ds.prototype.setMin=function(e){this.ms=e};Ds.prototype.setMax=function(e){this.max=e};Ds.prototype.setJitter=function(e){this.jitter=e};class $l extends ye{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Wo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Ds({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const r=n.parser||Wj;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Aj(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=jt(n,"open",function(){s.onopen(),t&&t()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},a=jt(n,"error",o);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(jt(t,"ping",this.onping.bind(this)),jt(t,"data",this.ondata.bind(this)),jt(t,"error",this.onerror.bind(this)),jt(t,"close",this.onclose.bind(this)),jt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Vo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new Ip(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Xs={};function Di(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Oj(e,t.path||"/socket.io"),s=n.source,r=n.id,o=n.path,a=Xs[r]&&o in Xs[r].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let c;return l?c=new $l(s,t):(Xs[r]||(Xs[r]=new $l(s,t)),c=Xs[r]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Di,{Manager:$l,Socket:Ip,io:Di,connect:Di});class qj{constructor(t){ot(this,"socket",null);ot(this,"reconnectAttempts",0);ot(this,"maxReconnectAttempts",5);ot(this,"reconnectInterval",1e3);ot(this,"maxReconnectInterval",3e4);ot(this,"reconnectTimer",null);ot(this,"isIntentionalDisconnect",!1);ot(this,"eventListeners",new Map);this.url=t,this.url=t||`${window.location.protocol}//${window.location.host}`}connect(){return new Promise((t,n)=>{var s;if((s=this.socket)!=null&&s.connected){t();return}this.socket=Di(this.url,{transports:["websocket","polling"],upgrade:!0,autoConnect:!0,reconnection:!1}),this.socket.on("connect",()=>{console.log("WebSocket connected:",this.socket.id),this.reconnectAttempts=0,this.reconnectInterval=1e3,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),t()}),this.socket.on("connect_error",r=>{console.error("WebSocket connection error:",r),this.reconnectAttempts===0?n(r):this.handleReconnection()}),this.socket.on("disconnect",r=>{console.log("WebSocket disconnected:",r),!this.isIntentionalDisconnect&&r!=="io client disconnect"&&this.handleReconnection()}),this.socket.on("terminal_output",r=>{this.emit("terminal_output",r.payload)}),this.socket.on("initial_terminal_state",r=>{this.emit("initial_terminal_state",r.payload)}),this.socket.on("session_status",r=>{this.emit("session_status",r.payload)}),this.socket.on("input_received",r=>{this.emit("input_received",r.payload)}),this.socket.on("subscription_confirmed",r=>{this.emit("subscription_confirmed",r.payload)}),this.socket.on("unsubscription_confirmed",r=>{this.emit("unsubscription_confirmed",r.payload)}),this.socket.on("error",r=>{console.error("WebSocket error:",r.payload),this.emit("error",r.payload)}),this.socket.on("system_notification",r=>{this.emit("system_notification",r.payload)}),this.socket.on("connected",r=>{console.log("WebSocket connection confirmed:",r.payload),this.emit("connected",r.payload)}),this.socket.on("orchestrator_status_changed",r=>{this.emit("orchestrator_status_changed",r.payload)}),this.socket.on("team_member_status_changed",r=>{this.emit("team_member_status_changed",r.payload)}),this.socket.on("team_activity_updated",r=>{this.emit("team_activity_updated",r.payload)})})}handleReconnection(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error("Max reconnection attempts reached"),this.emit("connection_failed",{reason:"Max reconnection attempts reached"});return}this.reconnectAttempts++,console.log(`Attempting to reconnect... (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.reconnectTimer=setTimeout(()=>{var t;(t=this.socket)!=null&&t.connected||this.connect().catch(n=>{console.error("Reconnection failed:",n)})},this.reconnectInterval),this.reconnectInterval=Math.min(this.reconnectInterval*1.5+Math.random()*1e3,this.maxReconnectInterval)}disconnect(){this.isIntentionalDisconnect=!0,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.socket&&(this.socket.disconnect(),this.socket=null),console.log("WebSocket intentionally disconnected")}subscribeToSession(t){var n;if(!((n=this.socket)!=null&&n.connected)){console.error("Cannot subscribe: WebSocket not connected");return}console.log("Subscribing to session:",t),this.socket.emit("subscribe_to_session",t)}unsubscribeFromSession(t){var n;if(!((n=this.socket)!=null&&n.connected)){console.error("Cannot unsubscribe: WebSocket not connected");return}console.log("Unsubscribing from session:",t),this.socket.emit("unsubscribe_from_session",t)}sendInput(t,n){var s;if(!((s=this.socket)!=null&&s.connected)){console.error("Cannot send input: WebSocket not connected");return}this.socket.emit("send_input",{sessionName:t,input:n})}resizeTerminal(t,n,s){var r;if(!((r=this.socket)!=null&&r.connected)){console.error("Cannot resize terminal: WebSocket not connected");return}this.socket.emit("terminal_resize",{sessionName:t,cols:n,rows:s})}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t).add(n)}off(t,n){const s=this.eventListeners.get(t);s&&(s.delete(n),s.size===0&&this.eventListeners.delete(t))}emit(t,n){const s=this.eventListeners.get(t);s&&s.forEach(r=>{try{r(n)}catch(o){console.error(`Error in WebSocket event handler for ${t}:`,o)}})}isConnected(){var t;return((t=this.socket)==null?void 0:t.connected)||!1}getConnectionState(){return this.socket?this.socket.connected?"connected":this.reconnectAttempts>0?"reconnecting":"connecting":"disconnected"}destroy(){this.disconnect(),this.eventListeners.clear()}}const V=new qj,X=({variant:e="primary",size:t="md",icon:n,iconPosition:s="left",loading:r=!1,fullWidth:o=!1,disabled:a,className:l="",children:c,...u})=>{const d=["btn",`btn-${e}`,`btn-${t}`,o&&"btn-full-width",r&&"btn-loading",l].filter(Boolean).join(" "),h=a||r;return i.jsxs("button",{className:d,disabled:h,...u,children:[r&&i.jsx("span",{className:"btn-spinner"}),!r&&n&&s==="left"&&i.jsx(n,{className:"btn-icon btn-icon-left"}),i.jsx("span",{className:r?"btn-text-loading":"btn-text",children:c}),!r&&n&&s==="right"&&i.jsx(n,{className:"btn-icon btn-icon-right"})]})},Lr=({icon:e,variant:t="ghost",size:n="md",className:s="",...r})=>i.jsx(X,{variant:t,size:n,icon:e,className:`btn-icon-only ${s}`,...r,children:""}),Up=({isOpen:e,onClose:t,title:n,size:s="md",closable:r=!0,children:o,className:a=""})=>{const l=y.useRef(null);if(y.useEffect(()=>{const u=d=>{d.key==="Escape"&&r&&t()};return e&&(document.addEventListener("keydown",u),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",u),document.body.style.overflow="unset"}},[e,t,r]),y.useEffect(()=>{if(e&&l.current){const d=l.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')[0];d&&d.focus()}},[e]),!e)return null;const c=u=>{u.target===u.currentTarget&&r&&t()};return i.jsx("div",{className:"modal-overlay",onClick:c,role:"dialog","aria-modal":"true",children:i.jsxs("div",{ref:l,className:`modal-content modal-${s} ${a}`,onClick:u=>u.stopPropagation(),children:[(n||r)&&i.jsxs("div",{className:"modal-header",children:[n&&i.jsx("h2",{className:"modal-title",children:n}),r&&i.jsx(Lr,{icon:Yn,onClick:t,variant:"ghost",size:"sm","aria-label":"Close modal",className:"modal-close-btn"})]}),i.jsx("div",{className:"modal-body",children:o})]})})},Bp=({children:e,className:t="",align:n="right"})=>i.jsx("div",{className:`modal-footer modal-footer--${n} ${t}`,children:e}),Jj=({isOpen:e,onClose:t,title:n,message:s,type:r="info",confirmText:o="OK"})=>{const l=(()=>{switch(r){case"success":return Vr;case"error":return Cp;case"warning":return vo;case"info":return Or;default:return Or}})();return i.jsxs(Up,{isOpen:e,onClose:t,title:n,size:"sm",className:"dialog-modal",children:[i.jsxs("div",{className:"dialog-content",children:[i.jsx("div",{className:`dialog-icon dialog-icon-${r}`,children:i.jsx(l,{size:48})}),i.jsx("div",{className:"dialog-message",children:s})]}),i.jsx(Bp,{children:i.jsx(X,{variant:"primary",onClick:t,fullWidth:!0,children:o})})]})},Qj=({isOpen:e,onConfirm:t,onCancel:n,title:s,message:r,type:o="warning",confirmText:a="Confirm",cancelText:l="Cancel",loading:c=!1})=>{const d=(()=>{switch(o){case"success":return Vr;case"error":return Cp;case"warning":return vo;case"info":return Or;default:return vo}})();return i.jsxs(Up,{isOpen:e,onClose:n,title:s,size:"sm",className:"dialog-modal",closable:!c,children:[i.jsxs("div",{className:"dialog-content",children:[i.jsx("div",{className:`dialog-icon dialog-icon-${o}`,children:i.jsx(d,{size:48})}),i.jsx("div",{className:"dialog-message",children:r})]}),i.jsx(Bp,{children:i.jsxs("div",{className:"dialog-actions",children:[i.jsx(X,{variant:"secondary",onClick:n,disabled:c,children:l}),i.jsx(X,{variant:o==="error"?"danger":"primary",onClick:t,loading:c,children:a})]})})]})},Kj=()=>{const[e,t]=y.useState({isOpen:!1,message:"",type:"info"}),n=(o,a="info",l,c)=>{t({isOpen:!0,message:o,type:a,title:l,confirmText:c})},s=()=>{t(o=>({...o,isOpen:!1}))};return{showAlert:n,AlertComponent:()=>i.jsx(Jj,{isOpen:e.isOpen,onClose:s,title:e.title,message:e.message,type:e.type,confirmText:e.confirmText}),showSuccess:(o,a)=>n(o,"success",a),showError:(o,a)=>n(o,"error",a),showWarning:(o,a)=>n(o,"warning",a),showInfo:(o,a)=>n(o,"info",a)}},Gj=()=>{const[e,t]=y.useState({isOpen:!1,message:"",type:"warning",onConfirm:()=>{},loading:!1}),n=(a,l,{type:c="warning",title:u,confirmText:d,cancelText:h}={})=>{t({isOpen:!0,message:a,type:c,title:u,confirmText:d,cancelText:h,onConfirm:l,loading:!1})},s=()=>{t(a=>({...a,isOpen:!1}))},r=async()=>{t(a=>({...a,loading:!0}));try{await e.onConfirm(),s()}catch{t(l=>({...l,loading:!1}))}};return{showConfirm:n,ConfirmComponent:()=>i.jsx(Qj,{isOpen:e.isOpen,onConfirm:r,onCancel:s,title:e.title,message:e.message,type:e.type,confirmText:e.confirmText,cancelText:e.cancelText,loading:e.loading}),showDeleteConfirm:(a,l)=>n(`Are you sure you want to delete "${a}"? This action cannot be undone.`,l,{type:"error",title:"Confirm Deletion",confirmText:"Delete"})}},me=({children:e,className:t=""})=>i.jsx("div",{className:`form-group ${t}`,children:e}),Ln=({children:e,className:t=""})=>i.jsx("div",{className:`form-row ${t}`,children:e}),re=({children:e,required:t=!1,className:n="",...s})=>i.jsxs("label",{className:`form-label ${n}`,...s,children:[e,t&&i.jsx("span",{className:"form-required",children:"*"})]}),xo=({children:e,className:t=""})=>i.jsx("small",{className:`form-help ${t}`,children:e}),Xj=({children:e,className:t=""})=>i.jsx("div",{className:`form-error ${t}`,children:e}),hr=({error:e=!1,className:t="",...n})=>i.jsx("input",{className:`form-input ${e?"form-input--error":""} ${t}`,...n}),Mr=({error:e=!1,className:t="",...n})=>i.jsx("textarea",{className:`form-textarea ${e?"form-textarea--error":""} ${t}`,...n}),Ad=({title:e,description:t,children:n,className:s=""})=>i.jsxs("div",{className:`form-section ${s}`,children:[(e||t)&&i.jsxs("div",{className:"form-section-header",children:[e&&i.jsx("h3",{className:"form-section-title",children:e}),t&&i.jsx("p",{className:"form-section-description",children:t})]}),i.jsx("div",{className:"form-section-content",children:n})]}),Ns=({options:e,placeholder:t="Select an option...",error:n=!1,loading:s=!1,onChange:r,className:o="",value:a,disabled:l,...c})=>{const u=d=>{r&&r(d.target.value)};return i.jsxs("div",{className:`dropdown-wrapper ${o}`,children:[i.jsxs("div",{className:`dropdown-container ${n?"dropdown-container--error":""} ${s?"dropdown-container--loading":""}`,children:[i.jsxs("select",{className:`dropdown-select ${n?"dropdown-select--error":""}`,value:a||"",onChange:u,disabled:l||s,...c,children:[i.jsx("option",{value:"",disabled:!0,children:s?"Loading...":t}),e.map(d=>i.jsx("option",{value:d.value,disabled:d.disabled,children:d.label},d.value))]}),i.jsx("div",{className:"dropdown-icon",children:i.jsx(Mx,{size:16})})]}),s&&i.jsx("div",{className:"dropdown-loading-indicator"})]})},Yj=({label:e,description:t,size:n="md",variant:s="default",labelPosition:r="right",className:o="",id:a,disabled:l=!1,...c})=>{const u=a||`toggle-${Math.random().toString(36).substr(2,9)}`,d=i.jsxs("div",{className:`toggle-container ${o}`,children:[e&&r==="left"&&i.jsx("label",{htmlFor:u,className:"toggle-label toggle-label--left",children:e}),i.jsxs("div",{className:`toggle-wrapper toggle-wrapper--${n} toggle-wrapper--${s} ${l?"toggle-wrapper--disabled":""}`,children:[i.jsx("input",{type:"checkbox",id:u,className:"toggle-input",disabled:l,...c}),i.jsx("span",{className:"toggle-slider"})]}),e&&r==="right"&&i.jsx("label",{htmlFor:u,className:"toggle-label toggle-label--right",children:e})]});return t?i.jsxs("div",{className:"toggle-group",children:[d,i.jsx("p",{className:"toggle-description",children:t})]}):d},Zj=({isOpen:e,onClose:t,title:n,subtitle:s,size:r="md",closable:o=!0,className:a="",children:l,footer:c,footerAlign:u="right",loading:d=!1})=>{const h=y.useRef(null);if(y.useEffect(()=>{const v=x=>{x.key==="Escape"&&o&&t()};return e&&(document.addEventListener("keydown",v),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",v),document.body.style.overflow="unset"}},[e,t,o]),y.useEffect(()=>{if(e&&h.current){const x=h.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')[0];x&&x.focus()}},[e]),!e)return null;const g=v=>{v.target===v.currentTarget&&o&&!d&&t()};return i.jsx("div",{className:"modal-overlay",onClick:g,role:"dialog","aria-modal":"true",children:i.jsxs("div",{ref:h,className:`modal-content modal-${r} ${d?"modal-loading":""} ${a}`,onClick:v=>v.stopPropagation(),children:[(n||s||o)&&i.jsxs("div",{className:"modal-header",children:[i.jsxs("div",{className:"modal-header-content",children:[n&&i.jsx("h2",{className:"modal-title",children:n}),s&&i.jsx("p",{className:"modal-subtitle",children:s})]}),o&&i.jsx(Lr,{icon:Yn,onClick:t,variant:"ghost",size:"sm","aria-label":"Close modal",className:"modal-close-btn",disabled:d})]}),i.jsx("div",{className:"modal-body",children:l}),c&&i.jsx("div",{className:`modal-footer modal-footer--${u}`,children:c}),d&&i.jsx("div",{className:"modal-loading-overlay",children:i.jsx("div",{className:"modal-spinner"})})]})})},Wt=({onSubmit:e,submitText:t="Submit",cancelText:n="Cancel",submitVariant:s="primary",submitDisabled:r=!1,showCancel:o=!0,loading:a=!1,onClose:l,children:c,...u})=>{const d=g=>{g.preventDefault(),e&&!a&&!r&&e(g)},h=i.jsxs(i.Fragment,{children:[o&&i.jsx(X,{type:"button",variant:"secondary",onClick:l,disabled:a,children:n}),i.jsx(X,{type:"submit",variant:s,loading:a,disabled:r||a,onClick:g=>{if(!a&&!r){const v=g.currentTarget.closest("form");if(v)v.requestSubmit();else{const x=new Event("submit",{bubbles:!0,cancelable:!0});x.preventDefault=()=>{},d(x)}}},children:t})]});return i.jsx(Zj,{...u,onClose:l,footer:h,loading:a,children:i.jsx("form",{onSubmit:d,children:c})})},e0=({isOpen:e,onClose:t})=>{const{selectedSession:n,setSelectedSession:s}=Zn(),[r,o]=y.useState(""),[a,l]=y.useState([{id:"agentmux-orc",name:"agentmux-orc",displayName:"Orchestrator",type:"orchestrator"}]),[c,u]=y.useState(!1),[d,h]=y.useState("disconnected"),[g,v]=y.useState(null),[x,w]=y.useState(!1),j=y.useRef(null),p=y.useRef(null),f=y.useRef(null),m=y.useCallback(O=>{O&&O.sessionName===n&&(o(O.content||""),x||setTimeout(()=>{j.current&&(j.current.scrollTop=j.current.scrollHeight)},10))},[n,x]),k=y.useCallback(O=>{O&&O.sessionName===n&&(o(O.content||""),u(!1))},[n]),S=y.useCallback(O=>{v(O.error||"WebSocket connection error"),h("error"),u(!1)},[]),T=y.useCallback(()=>{const O=V.getConnectionState();h(O),O==="connected"&&v(null)},[]);y.useEffect(()=>(e?N():E(),()=>E()),[e]),y.useEffect(()=>{e&&n&&V.isConnected()&&L(n)},[n,e]);const N=async()=>{try{u(!0),h("connecting"),v(null),V.on("terminal_output",m),V.on("initial_terminal_state",k),V.on("error",S),V.on("connected",T),V.on("connection_failed",S),await V.connect(),h("connected"),await $(),n&&L(n)}catch(O){console.error("Failed to initialize WebSocket:",O),v("Failed to connect to terminal service"),h("error"),u(!1)}},E=()=>{f.current&&(V.unsubscribeFromSession(f.current),f.current=null),V.off("terminal_output",m),V.off("initial_terminal_state",k),V.off("error",S),V.off("connected",T),V.off("connection_failed",S),V.disconnect(),h("disconnected"),o(""),v(null)},L=O=>{f.current&&f.current!==O&&V.unsubscribeFromSession(f.current),u(!0),o(`# Connecting to terminal session...
# Fetching live tmux session output...
`),V.subscribeToSession(O),f.current=O,console.log(`Switched to terminal session: ${O}`)},$=async()=>{try{console.log("Loading available terminal sessions...");const O=await fetch("/api/terminal/sessions");if(!O.ok){console.error("Failed to fetch terminal sessions:",O.status);return}const I=await O.json();if(console.log("Terminal sessions response:",I),I.success&&Array.isArray(I.data)){const ee=I.data.map(D=>({id:D.sessionName,name:D.sessionName,displayName:D.sessionName==="agentmux-orc"?"Orchestrator":D.sessionName.replace("agentmux-",""),type:D.sessionName==="agentmux-orc"?"orchestrator":"team_member"}));ee.sort((D,U)=>D.type==="orchestrator"?-1:U.type==="orchestrator"?1:D.displayName.localeCompare(U.displayName)),console.log("Available sessions:",ee),l(ee)}}catch(O){console.error("Error loading available sessions:",O)}},b=O=>{V.isConnected()&&n?V.sendInput(n,O):v("Not connected to terminal service")},H=O=>{const I=O.currentTarget,ee=I.scrollHeight-I.scrollTop===I.clientHeight;w(!ee)},P=()=>{v(null),N()},R=y.useCallback(O=>{if(!(!e||d!=="connected"))if(O.preventDefault(),O.ctrlKey)switch(O.key.toLowerCase()){case"c":b("");break;case"d":b("");break;case"l":b("\f");break;case"z":b("");break;case"u":b("");break;case"k":b("\v");break;case"a":b("");break;case"e":b("");break;default:return}else switch(O.key){case"Enter":b("\r");break;case"Tab":b("	");break;case"Escape":b("\x1B");break;case"Backspace":b("\b");break;case"Delete":b("");break;case"ArrowUp":b("\x1B[A");break;case"ArrowDown":b("\x1B[B");break;case"ArrowRight":b("\x1B[C");break;case"ArrowLeft":b("\x1B[D");break;case"Home":b("\x1B[H");break;case"End":b("\x1B[F");break;case"PageUp":b("\x1B[5~");break;case"PageDown":b("\x1B[6~");break;default:O.key.length===1&&b(O.key);break}},[e,d]);return y.useEffect(()=>{if(e&&p.current)return p.current.focus(),document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[e,R]),i.jsxs("div",{ref:p,className:`terminal-side-panel ${e?"open":"closed"}`,tabIndex:0,style:{outline:"none"},children:[i.jsxs("div",{className:"terminal-panel-header",children:[i.jsxs("div",{className:"terminal-panel-title",children:[i.jsx(Uc,{className:"w-5 h-5"}),i.jsx("span",{children:"Terminal"}),i.jsxs("div",{className:"terminal-panel-status",children:[i.jsx("div",{className:`status-indicator ${d}`}),i.jsx("span",{children:d==="connected"?"Live":d==="connecting"?"Connecting...":d==="reconnecting"?"Reconnecting...":d==="error"?"Error":"Disconnected"})]})]}),i.jsx("button",{onClick:t,className:"terminal-panel-close","aria-label":"Close Terminal",children:i.jsx(Yn,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"terminal-panel-controls",children:i.jsxs("div",{className:"session-selector",children:[i.jsx("label",{htmlFor:"session-select",children:"Session:"}),i.jsx("select",{id:"session-select",value:n,onChange:O=>s(O.target.value),className:"session-select",disabled:d!=="connected",children:a.map(O=>i.jsx("option",{value:O.id,children:O.displayName},O.id))})]})}),i.jsxs("div",{className:"terminal-panel-content",children:[g&&i.jsxs("div",{className:"error-banner",style:{padding:"0.5rem 1rem",background:"#fee2e2",borderLeft:"4px solid #dc2626",color:"#991b1b",display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(yo,{className:"w-4 h-4"}),i.jsx("span",{children:g}),i.jsx(X,{onClick:P,variant:"ghost",size:"sm",children:"Retry"})]}),i.jsx("div",{className:"terminal-panel-output",children:i.jsx("pre",{ref:j,className:"terminal-output-text",onScroll:H,children:d==="connected"?r:d==="connecting"?`# Connecting to terminal session...
# Please wait...`:d==="error"?`# Connection Error
# Please check your connection and try again.`:`# Terminal Disconnected
# Open terminal panel to connect`})}),c&&d==="connected"&&i.jsx("div",{className:"terminal-panel-footer",children:i.jsxs("div",{className:"terminal-info",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("div",{className:"loading-spinner",style:{width:"12px",height:"12px",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),i.jsx("span",{children:"Loading terminal output..."})]})})]})]})},t0=()=>{const[e,t]=y.useState(null),[n,s]=y.useState(!1),[r,o]=y.useState(!1),a=async()=>{console.log("Orchestrator status will be loaded via WebSocket events")},l=async()=>{o(!0),await a(),setTimeout(()=>o(!1),500)},c=async()=>{try{V.isConnected()||await V.connect(),V.on("orchestrator_status_changed",u),console.log("WebSocket initialized for orchestrator status monitoring")}catch(h){console.error("Failed to initialize WebSocket for orchestrator status:",h)}},u=h=>{console.log("Received orchestrator status update:",h);const g={sessionId:h.sessionName||"agentmux-orc",status:h.running?"active":"inactive",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};t(g)};if(y.useEffect(()=>(a(),c(),()=>{V.off("orchestrator_status_changed",u)}),[]),y.useEffect(()=>{(e==null?void 0:e.status)!=="active"&&s(!1)},[e==null?void 0:e.status]),!e||e.status==="active"||n)return null;const d=e.status==="activating";return e.status,i.jsxs("div",{className:`orchestrator-status-banner ${d?"warning":"error"}`,children:[i.jsxs("div",{className:"banner-content",children:[i.jsx(vo,{className:"banner-icon",size:20}),i.jsxs("div",{className:"banner-text",children:[i.jsx("span",{className:"banner-title",children:d?"Orchestrator Initializing":"Orchestrator Not Running"}),i.jsx("span",{className:"banner-message",children:d?"The AgentMux orchestrator is starting up. This may take a few moments...":"The AgentMux orchestrator is not running. Check the application logs for issues."})]})]}),i.jsxs("div",{className:"banner-actions",children:[i.jsx(Lr,{icon:qx,onClick:l,variant:"ghost",size:"sm",className:`refresh-btn ${r?"spinning":""}`,"aria-label":"Refresh status"}),i.jsx(Lr,{icon:Yn,onClick:()=>s(!0),variant:"ghost",size:"sm","aria-label":"Dismiss banner"})]})]})},n0=()=>{const{isTerminalOpen:e,openTerminal:t,closeTerminal:n}=Zn(),s=()=>{e?n():t()};return i.jsxs("div",{className:"app-layout",children:[i.jsx("div",{className:"app-sidebar",children:i.jsx(Xx,{})}),i.jsxs("main",{className:"app-main",children:[i.jsx(t0,{}),i.jsx(fx,{})]}),i.jsx(Lr,{className:`terminal-toggle-btn ${e?"active":""}`,icon:Uc,onClick:s,variant:"primary","aria-label":e?"Close Terminal":"Open Terminal"}),i.jsxs(i.Fragment,{children:[e&&i.jsx("div",{className:"terminal-panel-overlay",onClick:n}),i.jsx(e0,{isOpen:e,onClose:n})]})]})},s0={active:"status-active",paused:"status-paused",completed:"status-completed"},Vp=({project:e,showStatus:t=!1,showTeams:n=!1,onClick:s})=>{const r=Object.values(e.teams).flat().length,o=new Date(e.updatedAt).toLocaleDateString();return i.jsxs("div",{className:Un("project-card",s&&"project-card--clickable"),onClick:s,children:[i.jsxs("div",{className:"card-header",children:[i.jsx("div",{className:"card-icon",children:i.jsx($e,{className:"icon"})}),t&&i.jsx("div",{className:Un("status-badge",s0[e.status]),children:e.status})]}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{className:"card-title",children:e.name}),i.jsx("p",{className:"card-path",children:e.path}),i.jsxs("div",{className:"card-meta",children:[n&&r>0&&i.jsxs("div",{className:"meta-item",children:[i.jsx(ft,{className:"meta-icon"}),i.jsxs("span",{className:"meta-text",children:[r," teams"]})]}),i.jsxs("div",{className:"meta-item",children:[i.jsx(Fs,{className:"meta-icon"}),i.jsxs("span",{className:"meta-text",children:["Updated ",o]})]})]})]}),i.jsx("div",{className:"card-actions",children:i.jsxs("button",{className:"action-button action-button--primary",children:[i.jsx(Jn,{className:"action-icon"}),"Open"]})})]})},r0={orchestrator:"#8b5cf6",tpm:"#3b82f6",pgm:"#0ea5e9",developer:"#10b981",qa:"#f59e0b",tester:"#ef4444",designer:"#ec4899"},Wp=({team:e,onMemberClick:t,onClick:n})=>{const{openTerminalWithSession:s}=Zn();new Date(e.updatedAt).toLocaleDateString();const r=e.members||[],o=(a,l)=>{a.stopPropagation(),l.sessionName?(console.log("TeamCard: Opening terminal for session:",l.sessionName),s(l.sessionName)):t&&t(l)};return i.jsxs("div",{className:Un("team-card",n&&"team-card--clickable"),onClick:n,children:[i.jsx("div",{className:"team-card-header",children:i.jsxs("div",{className:"team-info",children:[i.jsx("div",{className:"team-icon",children:i.jsx(ft,{className:"icon"})}),i.jsxs("div",{className:"team-content",children:[i.jsx("h3",{className:"team-title",children:e.name}),i.jsx("div",{className:"team-meta-line",children:i.jsxs("span",{className:"team-member-count",children:[r.length," member",r.length!==1?"s":""]})})]})]})}),e.currentProject&&i.jsxs("div",{className:"project-assignment",children:[i.jsx($e,{className:"project-icon"}),i.jsx("span",{className:"project-name",title:e.currentProject,children:e.currentProject.length>25?`${e.currentProject.substring(0,25)}...`:e.currentProject})]}),r.length>0&&i.jsxs("div",{className:"team-members-compact",children:[i.jsx("h4",{className:"members-title",children:"Team Members"}),i.jsx("div",{className:"members-compact-list",children:r.map(a=>i.jsxs("div",{className:Un("member-compact-item",a.sessionName&&"clickable"),onClick:l=>o(l,a),style:{cursor:a.sessionName?"pointer":"default"},title:a.sessionName?`${a.name} - Active session: ${a.sessionName} (Click to open terminal)`:`${a.name} - No active session`,children:[i.jsx("div",{className:"member-avatar",children:i.jsx(Wc,{className:"avatar-icon"})}),i.jsxs("div",{className:"member-info-compact",children:[i.jsx("span",{className:"member-name",children:a.name}),i.jsx("span",{className:"member-role",style:{color:r0[a.role]||"#6b7280"},children:a.role})]}),i.jsx("div",{className:"member-status-compact",children:i.jsx("div",{className:Un("session-indicator",a.sessionName?"active":"inactive"),children:i.jsx("div",{className:"session-dot"})})})]},a.id))})]})]})},jo=({title:e,icon:t=i.jsx(Lt,{className:"create-icon"}),onClick:n,className:s})=>i.jsx("div",{className:Un("create-card",s),onClick:n,children:i.jsxs("div",{className:"create-content",children:[i.jsx("div",{className:"create-icon-wrapper",children:t}),i.jsx("h3",{className:"create-title",children:e})]})}),cn=({label:e,value:t,variant:n="dashboard",className:s="",onClick:r,isClickable:o=!1,children:a})=>{const l="score-card",c=`score-card--${n}`,d=[l,c,o?"score-card--clickable":"",s].filter(Boolean).join(" ");return i.jsx("div",{className:d,onClick:o?r:void 0,role:o?"button":void 0,tabIndex:o?0:void 0,children:i.jsxs("div",{className:"score-card__content",children:[i.jsx("div",{className:"score-card__label",children:e}),i.jsx("div",{className:"score-card__value",children:a||t})]})})},Hp=({children:e,variant:t="dashboard",className:n=""})=>{const s="score-card-grid",r=`score-card-grid--${t}`,o=[s,r,n].filter(Boolean).join(" ");return i.jsx("div",{className:o,children:e})};function qp(e,t){return function(){return e.apply(t,arguments)}}const{toString:i0}=Object.prototype,{getPrototypeOf:Gc}=Object,{iterator:Ho,toStringTag:Jp}=Symbol,qo=(e=>t=>{const n=i0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Et=e=>(e=e.toLowerCase(),t=>qo(t)===e),Jo=e=>t=>typeof t===e,{isArray:$s}=Array,Fr=Jo("undefined");function Wr(e){return e!==null&&!Fr(e)&&e.constructor!==null&&!Fr(e.constructor)&&Ke(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qp=Et("ArrayBuffer");function o0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Qp(e.buffer),t}const a0=Jo("string"),Ke=Jo("function"),Kp=Jo("number"),Hr=e=>e!==null&&typeof e=="object",l0=e=>e===!0||e===!1,$i=e=>{if(qo(e)!=="object")return!1;const t=Gc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Jp in e)&&!(Ho in e)},c0=e=>{if(!Hr(e)||Wr(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},u0=Et("Date"),d0=Et("File"),f0=Et("Blob"),h0=Et("FileList"),p0=e=>Hr(e)&&Ke(e.pipe),m0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ke(e.append)&&((t=qo(e))==="formdata"||t==="object"&&Ke(e.toString)&&e.toString()==="[object FormData]"))},g0=Et("URLSearchParams"),[y0,v0,x0,j0]=["ReadableStream","Request","Response","Headers"].map(Et),w0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),$s(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(Wr(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let l;for(s=0;s<a;s++)l=o[s],t.call(null,e[l],l,e)}}function Gp(e,t){if(Wr(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const $n=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Xp=e=>!Fr(e)&&e!==$n;function zl(){const{caseless:e}=Xp(this)&&this||{},t={},n=(s,r)=>{const o=e&&Gp(t,r)||r;$i(t[o])&&$i(s)?t[o]=zl(t[o],s):$i(s)?t[o]=zl({},s):$s(s)?t[o]=s.slice():t[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&qr(arguments[s],n);return t}const k0=(e,t,n,{allOwnKeys:s}={})=>(qr(t,(r,o)=>{n&&Ke(r)?e[o]=qp(r,n):e[o]=r},{allOwnKeys:s}),e),N0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),S0=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},C0=(e,t,n,s)=>{let r,o,a;const l={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)a=r[o],(!s||s(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&Gc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},E0=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},T0=e=>{if(!e)return null;if($s(e))return e;let t=e.length;if(!Kp(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},_0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gc(Uint8Array)),b0=(e,t)=>{const s=(e&&e[Ho]).call(e);let r;for(;(r=s.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},P0=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},R0=Et("HTMLFormElement"),A0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Od=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),O0=Et("RegExp"),Yp=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};qr(n,(r,o)=>{let a;(a=t(r,o,e))!==!1&&(s[o]=a||r)}),Object.defineProperties(e,s)},L0=e=>{Yp(e,(t,n)=>{if(Ke(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Ke(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},M0=(e,t)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return $s(e)?s(e):s(String(e).split(t)),n},F0=()=>{},D0=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function $0(e){return!!(e&&Ke(e.append)&&e[Jp]==="FormData"&&e[Ho])}const z0=e=>{const t=new Array(10),n=(s,r)=>{if(Hr(s)){if(t.indexOf(s)>=0)return;if(Wr(s))return s;if(!("toJSON"in s)){t[r]=s;const o=$s(s)?[]:{};return qr(s,(a,l)=>{const c=n(a,r+1);!Fr(c)&&(o[l]=c)}),t[r]=void 0,o}}return s};return n(e,0)},I0=Et("AsyncFunction"),U0=e=>e&&(Hr(e)||Ke(e))&&Ke(e.then)&&Ke(e.catch),Zp=((e,t)=>e?setImmediate:t?((n,s)=>($n.addEventListener("message",({source:r,data:o})=>{r===$n&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),$n.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ke($n.postMessage)),B0=typeof queueMicrotask<"u"?queueMicrotask.bind($n):typeof process<"u"&&process.nextTick||Zp,V0=e=>e!=null&&Ke(e[Ho]),_={isArray:$s,isArrayBuffer:Qp,isBuffer:Wr,isFormData:m0,isArrayBufferView:o0,isString:a0,isNumber:Kp,isBoolean:l0,isObject:Hr,isPlainObject:$i,isEmptyObject:c0,isReadableStream:y0,isRequest:v0,isResponse:x0,isHeaders:j0,isUndefined:Fr,isDate:u0,isFile:d0,isBlob:f0,isRegExp:O0,isFunction:Ke,isStream:p0,isURLSearchParams:g0,isTypedArray:_0,isFileList:h0,forEach:qr,merge:zl,extend:k0,trim:w0,stripBOM:N0,inherits:S0,toFlatObject:C0,kindOf:qo,kindOfTest:Et,endsWith:E0,toArray:T0,forEachEntry:b0,matchAll:P0,isHTMLForm:R0,hasOwnProperty:Od,hasOwnProp:Od,reduceDescriptors:Yp,freezeMethods:L0,toObjectSet:M0,toCamelCase:A0,noop:F0,toFiniteNumber:D0,findKey:Gp,global:$n,isContextDefined:Xp,isSpecCompliantForm:$0,toJSONObject:z0,isAsyncFn:I0,isThenable:U0,setImmediate:Zp,asap:B0,isIterable:V0};function W(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}_.inherits(W,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const em=W.prototype,tm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tm[e]={value:e}});Object.defineProperties(W,tm);Object.defineProperty(em,"isAxiosError",{value:!0});W.from=(e,t,n,s,r,o)=>{const a=Object.create(em);return _.toFlatObject(e,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),W.call(a,e.message,t,n,s,r),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const W0=null;function Il(e){return _.isPlainObject(e)||_.isArray(e)}function nm(e){return _.endsWith(e,"[]")?e.slice(0,-2):e}function Ld(e,t,n){return e?e.concat(t).map(function(r,o){return r=nm(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function H0(e){return _.isArray(e)&&!e.some(Il)}const q0=_.toFlatObject(_,{},null,function(t){return/^is[A-Z]/.test(t)});function Qo(e,t,n){if(!_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,j){return!_.isUndefined(j[w])});const s=n.metaTokens,r=n.visitor||d,o=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(t);if(!_.isFunction(r))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(_.isDate(x))return x.toISOString();if(_.isBoolean(x))return x.toString();if(!c&&_.isBlob(x))throw new W("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(x)||_.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,w,j){let p=x;if(x&&!j&&typeof x=="object"){if(_.endsWith(w,"{}"))w=s?w:w.slice(0,-2),x=JSON.stringify(x);else if(_.isArray(x)&&H0(x)||(_.isFileList(x)||_.endsWith(w,"[]"))&&(p=_.toArray(x)))return w=nm(w),p.forEach(function(m,k){!(_.isUndefined(m)||m===null)&&t.append(a===!0?Ld([w],k,o):a===null?w:w+"[]",u(m))}),!1}return Il(x)?!0:(t.append(Ld(j,w,o),u(x)),!1)}const h=[],g=Object.assign(q0,{defaultVisitor:d,convertValue:u,isVisitable:Il});function v(x,w){if(!_.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(x),_.forEach(x,function(p,f){(!(_.isUndefined(p)||p===null)&&r.call(t,p,_.isString(f)?f.trim():f,w,g))===!0&&v(p,w?w.concat(f):[f])}),h.pop()}}if(!_.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Md(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Xc(e,t){this._pairs=[],e&&Qo(e,this,t)}const sm=Xc.prototype;sm.append=function(t,n){this._pairs.push([t,n])};sm.toString=function(t){const n=t?function(s){return t.call(this,s,Md)}:Md;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function J0(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rm(e,t,n){if(!t)return e;const s=n&&n.encode||J0;_.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(t,n):o=_.isURLSearchParams(t)?t.toString():new Xc(t,n).toString(s),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Q0{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Fd=Q0,im={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},K0=typeof URLSearchParams<"u"?URLSearchParams:Xc,G0=typeof FormData<"u"?FormData:null,X0=typeof Blob<"u"?Blob:null,Y0={isBrowser:!0,classes:{URLSearchParams:K0,FormData:G0,Blob:X0},protocols:["http","https","file","blob","url","data"]},Yc=typeof window<"u"&&typeof document<"u",Ul=typeof navigator=="object"&&navigator||void 0,Z0=Yc&&(!Ul||["ReactNative","NativeScript","NS"].indexOf(Ul.product)<0),e1=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),t1=Yc&&window.location.href||"http://localhost",n1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yc,hasStandardBrowserEnv:Z0,hasStandardBrowserWebWorkerEnv:e1,navigator:Ul,origin:t1},Symbol.toStringTag,{value:"Module"})),Ae={...n1,...Y0};function s1(e,t){return Qo(e,new Ae.classes.URLSearchParams,{visitor:function(n,s,r,o){return Ae.isNode&&_.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function r1(e){return _.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function i1(e){const t={},n=Object.keys(e);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],t[o]=e[o];return t}function om(e){function t(n,s,r,o){let a=n[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=o>=n.length;return a=!a&&_.isArray(r)?r.length:a,c?(_.hasOwnProp(r,a)?r[a]=[r[a],s]:r[a]=s,!l):((!r[a]||!_.isObject(r[a]))&&(r[a]=[]),t(n,s,r[a],o)&&_.isArray(r[a])&&(r[a]=i1(r[a])),!l)}if(_.isFormData(e)&&_.isFunction(e.entries)){const n={};return _.forEachEntry(e,(s,r)=>{t(r1(s),r,n,0)}),n}return null}function o1(e,t,n){if(_.isString(e))try{return(t||JSON.parse)(e),_.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Zc={transitional:im,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=_.isObject(t);if(o&&_.isHTMLForm(t)&&(t=new FormData(t)),_.isFormData(t))return r?JSON.stringify(om(t)):t;if(_.isArrayBuffer(t)||_.isBuffer(t)||_.isStream(t)||_.isFile(t)||_.isBlob(t)||_.isReadableStream(t))return t;if(_.isArrayBufferView(t))return t.buffer;if(_.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return s1(t,this.formSerializer).toString();if((l=_.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qo(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),o1(t)):t}],transformResponse:[function(t){const n=this.transitional||Zc.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(_.isResponse(t)||_.isReadableStream(t))return t;if(t&&_.isString(t)&&(s&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?W.from(l,W.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ae.classes.FormData,Blob:Ae.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],e=>{Zc.headers[e]={}});const eu=Zc,a1=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),l1=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),s=a.substring(r+1).trim(),!(!n||t[n]&&a1[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Dd=Symbol("internals");function Ys(e){return e&&String(e).trim().toLowerCase()}function zi(e){return e===!1||e==null?e:_.isArray(e)?e.map(zi):String(e)}function c1(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const u1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ra(e,t,n,s,r){if(_.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!_.isString(t)){if(_.isString(s))return t.indexOf(s)!==-1;if(_.isRegExp(s))return s.test(t)}}function d1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function f1(e,t){const n=_.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,o,a){return this[s].call(this,t,r,o,a)},configurable:!0})})}class Ko{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function o(l,c,u){const d=Ys(c);if(!d)throw new Error("header name must be a non-empty string");const h=_.findKey(r,d);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||c]=zi(l))}const a=(l,c)=>_.forEach(l,(u,d)=>o(u,d,c));if(_.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(_.isString(t)&&(t=t.trim())&&!u1(t))a(l1(t),n);else if(_.isObject(t)&&_.isIterable(t)){let l={},c,u;for(const d of t){if(!_.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?_.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else t!=null&&o(n,t,s);return this}get(t,n){if(t=Ys(t),t){const s=_.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return c1(r);if(_.isFunction(n))return n.call(this,r,s);if(_.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ys(t),t){const s=_.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Ra(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function o(a){if(a=Ys(a),a){const l=_.findKey(s,a);l&&(!n||Ra(s,s[l],l,n))&&(delete s[l],r=!0)}}return _.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!t||Ra(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,s={};return _.forEach(this,(r,o)=>{const a=_.findKey(s,o);if(a){n[a]=zi(r),delete n[o];return}const l=t?d1(o):String(o).trim();l!==o&&delete n[o],n[l]=zi(r),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return _.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&_.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Dd]=this[Dd]={accessors:{}}).accessors,r=this.prototype;function o(a){const l=Ys(a);s[l]||(f1(r,a),s[l]=!0)}return _.isArray(t)?t.forEach(o):o(t),this}}Ko.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(Ko.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});_.freezeMethods(Ko);const St=Ko;function Aa(e,t){const n=this||eu,s=t||n,r=St.from(s.headers);let o=s.data;return _.forEach(e,function(l){o=l.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function am(e){return!!(e&&e.__CANCEL__)}function zs(e,t,n){W.call(this,e??"canceled",W.ERR_CANCELED,t,n),this.name="CanceledError"}_.inherits(zs,W,{__CANCEL__:!0});function lm(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new W("Request failed with status code "+n.status,[W.ERR_BAD_REQUEST,W.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function h1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function p1(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,o=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=s[o];a||(a=u),n[r]=c,s[r]=u;let h=o,g=0;for(;h!==r;)g+=n[h++],h=h%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),u-a<t)return;const v=d&&u-d;return v?Math.round(g*1e3/v):void 0}}function m1(e,t){let n=0,s=1e3/t,r,o;const a=(u,d=Date.now())=>{n=d,r=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=s?a(u,d):(r=u,o||(o=setTimeout(()=>{o=null,a(r)},s-h)))},()=>r&&a(r)]}const wo=(e,t,n=3)=>{let s=0;const r=p1(50,250);return m1(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,c=a-s,u=r(c),d=a<=l;s=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},$d=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},zd=e=>(...t)=>_.asap(()=>e(...t)),g1=Ae.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ae.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ae.origin),Ae.navigator&&/(msie|trident)/i.test(Ae.navigator.userAgent)):()=>!0,y1=Ae.hasStandardBrowserEnv?{write(e,t,n,s,r,o){const a=[e+"="+encodeURIComponent(t)];_.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),_.isString(s)&&a.push("path="+s),_.isString(r)&&a.push("domain="+r),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function v1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function x1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cm(e,t,n){let s=!v1(t);return e&&(s||n==!1)?x1(e,t):t}const Id=e=>e instanceof St?{...e}:e;function Qn(e,t){t=t||{};const n={};function s(u,d,h,g){return _.isPlainObject(u)&&_.isPlainObject(d)?_.merge.call({caseless:g},u,d):_.isPlainObject(d)?_.merge({},d):_.isArray(d)?d.slice():d}function r(u,d,h,g){if(_.isUndefined(d)){if(!_.isUndefined(u))return s(void 0,u,h,g)}else return s(u,d,h,g)}function o(u,d){if(!_.isUndefined(d))return s(void 0,d)}function a(u,d){if(_.isUndefined(d)){if(!_.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function l(u,d,h){if(h in t)return s(u,d);if(h in e)return s(void 0,u)}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,h)=>r(Id(u),Id(d),h,!0)};return _.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||r,g=h(e[d],t[d],d);_.isUndefined(g)&&h!==l||(n[d]=g)}),n}const um=e=>{const t=Qn({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:a,auth:l}=t;t.headers=a=St.from(a),t.url=rm(cm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(_.isFormData(n)){if(Ae.hasStandardBrowserEnv||Ae.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Ae.hasStandardBrowserEnv&&(s&&_.isFunction(s)&&(s=s(t)),s||s!==!1&&g1(t.url))){const u=r&&o&&y1.read(o);u&&a.set(r,u)}return t},j1=typeof XMLHttpRequest<"u",w1=j1&&function(e){return new Promise(function(n,s){const r=um(e);let o=r.data;const a=St.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=r,d,h,g,v,x;function w(){v&&v(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let j=new XMLHttpRequest;j.open(r.method.toUpperCase(),r.url,!0),j.timeout=r.timeout;function p(){if(!j)return;const m=St.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:m,config:e,request:j};lm(function(N){n(N),w()},function(N){s(N),w()},S),j=null}"onloadend"in j?j.onloadend=p:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(p)},j.onabort=function(){j&&(s(new W("Request aborted",W.ECONNABORTED,e,j)),j=null)},j.onerror=function(){s(new W("Network Error",W.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let k=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const S=r.transitional||im;r.timeoutErrorMessage&&(k=r.timeoutErrorMessage),s(new W(k,S.clarifyTimeoutError?W.ETIMEDOUT:W.ECONNABORTED,e,j)),j=null},o===void 0&&a.setContentType(null),"setRequestHeader"in j&&_.forEach(a.toJSON(),function(k,S){j.setRequestHeader(S,k)}),_.isUndefined(r.withCredentials)||(j.withCredentials=!!r.withCredentials),l&&l!=="json"&&(j.responseType=r.responseType),u&&([g,x]=wo(u,!0),j.addEventListener("progress",g)),c&&j.upload&&([h,v]=wo(c),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(d=m=>{j&&(s(!m||m.type?new zs(null,e,j):m),j.abort(),j=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const f=h1(r.url);if(f&&Ae.protocols.indexOf(f)===-1){s(new W("Unsupported protocol "+f+":",W.ERR_BAD_REQUEST,e));return}j.send(o||null)})},k1=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const o=function(u){if(!r){r=!0,l();const d=u instanceof Error?u:this.reason;s.abort(d instanceof W?d:new zs(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,o(new W(`timeout ${t} of ms exceeded`,W.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=s;return c.unsubscribe=()=>_.asap(l),c}},N1=k1,S1=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},C1=async function*(e,t){for await(const n of E1(e))yield*S1(n,t)},E1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Ud=(e,t,n,s)=>{const r=C1(e,t);let o=0,a,l=c=>{a||(a=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await r.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let g=o+=h;n(g)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},Go=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dm=Go&&typeof ReadableStream=="function",T1=Go&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_1=dm&&fm(()=>{let e=!1;const t=new Request(Ae.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Bd=64*1024,Bl=dm&&fm(()=>_.isReadableStream(new Response("").body)),ko={stream:Bl&&(e=>e.body)};Go&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ko[t]&&(ko[t]=_.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new W(`Response type '${t}' is not supported`,W.ERR_NOT_SUPPORT,s)})})})(new Response);const b1=async e=>{if(e==null)return 0;if(_.isBlob(e))return e.size;if(_.isSpecCompliantForm(e))return(await new Request(Ae.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(_.isArrayBufferView(e)||_.isArrayBuffer(e))return e.byteLength;if(_.isURLSearchParams(e)&&(e=e+""),_.isString(e))return(await T1(e)).byteLength},P1=async(e,t)=>{const n=_.toFiniteNumber(e.getContentLength());return n??b1(t)},R1=Go&&(async e=>{let{url:t,method:n,data:s,signal:r,cancelToken:o,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:g}=um(e);u=u?(u+"").toLowerCase():"text";let v=N1([r,o&&o.toAbortSignal()],a),x;const w=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let j;try{if(c&&_1&&n!=="get"&&n!=="head"&&(j=await P1(d,s))!==0){let S=new Request(t,{method:"POST",body:s,duplex:"half"}),T;if(_.isFormData(s)&&(T=S.headers.get("content-type"))&&d.setContentType(T),S.body){const[N,E]=$d(j,wo(zd(c)));s=Ud(S.body,Bd,N,E)}}_.isString(h)||(h=h?"include":"omit");const p="credentials"in Request.prototype;x=new Request(t,{...g,signal:v,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:p?h:void 0});let f=await fetch(x,g);const m=Bl&&(u==="stream"||u==="response");if(Bl&&(l||m&&w)){const S={};["status","statusText","headers"].forEach(L=>{S[L]=f[L]});const T=_.toFiniteNumber(f.headers.get("content-length")),[N,E]=l&&$d(T,wo(zd(l),!0))||[];f=new Response(Ud(f.body,Bd,N,()=>{E&&E(),w&&w()}),S)}u=u||"text";let k=await ko[_.findKey(ko,u)||"text"](f,e);return!m&&w&&w(),await new Promise((S,T)=>{lm(S,T,{data:k,headers:St.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:x})})}catch(p){throw w&&w(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new W("Network Error",W.ERR_NETWORK,e,x),{cause:p.cause||p}):W.from(p,p&&p.code,e,x)}}),Vl={http:W0,xhr:w1,fetch:R1};_.forEach(Vl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Vd=e=>`- ${e}`,A1=e=>_.isFunction(e)||e===null||e===!1,hm={getAdapter:e=>{e=_.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let o=0;o<t;o++){n=e[o];let a;if(s=n,!A1(n)&&(s=Vl[(a=String(n)).toLowerCase()],s===void 0))throw new W(`Unknown adapter '${a}'`);if(s)break;r[a||"#"+o]=s}if(!s){const o=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(Vd).join(`
`):" "+Vd(o[0]):"as no adapter specified";throw new W("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:Vl};function Oa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zs(null,e)}function Wd(e){return Oa(e),e.headers=St.from(e.headers),e.data=Aa.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hm.getAdapter(e.adapter||eu.adapter)(e).then(function(s){return Oa(e),s.data=Aa.call(e,e.transformResponse,s),s.headers=St.from(s.headers),s},function(s){return am(s)||(Oa(e),s&&s.response&&(s.response.data=Aa.call(e,e.transformResponse,s.response),s.response.headers=St.from(s.response.headers))),Promise.reject(s)})}const pm="1.11.0",Xo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xo[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Hd={};Xo.transitional=function(t,n,s){function r(o,a){return"[Axios v"+pm+"] Transitional option '"+o+"'"+a+(s?". "+s:"")}return(o,a,l)=>{if(t===!1)throw new W(r(a," has been removed"+(n?" in "+n:"")),W.ERR_DEPRECATED);return n&&!Hd[a]&&(Hd[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,l):!0}};Xo.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function O1(e,t,n){if(typeof e!="object")throw new W("options must be an object",W.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const o=s[r],a=t[o];if(a){const l=e[o],c=l===void 0||a(l,o,e);if(c!==!0)throw new W("option "+o+" must be "+c,W.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new W("Unknown option "+o,W.ERR_BAD_OPTION)}}const Ii={assertOptions:O1,validators:Xo},_t=Ii.validators;class No{constructor(t){this.defaults=t||{},this.interceptors={request:new Fd,response:new Fd}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Qn(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&Ii.assertOptions(s,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),r!=null&&(_.isFunction(r)?n.paramsSerializer={serialize:r}:Ii.assertOptions(r,{encode:_t.function,serialize:_t.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ii.assertOptions(n,{baseUrl:_t.spelling("baseURL"),withXsrfToken:_t.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&_.merge(o.common,o[n.method]);o&&_.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),n.headers=St.concat(a,o);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,h=0,g;if(!c){const x=[Wd.bind(this),void 0];for(x.unshift(...l),x.push(...u),g=x.length,d=Promise.resolve(n);h<g;)d=d.then(x[h++],x[h++]);return d}g=l.length;let v=n;for(h=0;h<g;){const x=l[h++],w=l[h++];try{v=x(v)}catch(j){w.call(this,j);break}}try{d=Wd.call(this,v)}catch(x){return Promise.reject(x)}for(h=0,g=u.length;h<g;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Qn(this.defaults,t);const n=cm(t.baseURL,t.url,t.allowAbsoluteUrls);return rm(n,t.params,t.paramsSerializer)}}_.forEach(["delete","get","head","options"],function(t){No.prototype[t]=function(n,s){return this.request(Qn(s||{},{method:t,url:n,data:(s||{}).data}))}});_.forEach(["post","put","patch"],function(t){function n(s){return function(o,a,l){return this.request(Qn(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}No.prototype[t]=n(),No.prototype[t+"Form"]=n(!0)});const Ui=No;class tu{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const a=new Promise(l=>{s.subscribe(l),o=l}).then(r);return a.cancel=function(){s.unsubscribe(o)},a},t(function(o,a,l){s.reason||(s.reason=new zs(o,a,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new tu(function(r){t=r}),cancel:t}}}const L1=tu;function M1(e){return function(n){return e.apply(null,n)}}function F1(e){return _.isObject(e)&&e.isAxiosError===!0}const Wl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wl).forEach(([e,t])=>{Wl[t]=e});const D1=Wl;function mm(e){const t=new Ui(e),n=qp(Ui.prototype.request,t);return _.extend(n,Ui.prototype,t,{allOwnKeys:!0}),_.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return mm(Qn(e,r))},n}const ve=mm(eu);ve.Axios=Ui;ve.CanceledError=zs;ve.CancelToken=L1;ve.isCancel=am;ve.VERSION=pm;ve.toFormData=Qo;ve.AxiosError=W;ve.Cancel=ve.CanceledError;ve.all=function(t){return Promise.all(t)};ve.spread=M1;ve.isAxiosError=F1;ve.mergeConfig=Qn;ve.AxiosHeaders=St;ve.formToJSON=e=>om(_.isHTMLForm(e)?new FormData(e):e);ve.getAdapter=hm.getAdapter;ve.HttpStatusCode=D1;ve.default=ve;const de=ve;const qd="/api",$1=()=>{const e=Xn(),[t,n]=y.useState([]),[s,r]=y.useState([]),[o,a]=y.useState(!0);y.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0);const[j,p]=await Promise.all([de.get(`${qd}/projects`),de.get(`${qd}/teams`)]);j.data.success&&n(j.data.data||[]),p.data.success&&r(p.data.data||[])}catch(j){console.error("Error loading dashboard data:",j)}finally{a(!1)}},c=()=>e("/projects"),u=()=>e("/teams"),d=j=>e(`/projects/${j}`),h=j=>e(`/teams/${j}`),g=()=>{e("/projects?create=true")},v=()=>{e("/teams?create=true")};if(o)return i.jsxs("div",{className:"dashboard-loading",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading dashboard..."})]});const x=t.slice(0,6),w=s.slice(0,6);return i.jsxs("div",{className:"page dashboard",children:[i.jsx("div",{className:"page-header",children:i.jsxs("div",{className:"header-info",children:[i.jsx("h1",{className:"page-title",children:"Dashboard"}),i.jsx("p",{className:"page-description",children:"Manage your projects and teams from the central hub"})]})}),i.jsx("section",{className:"dashboard-stats",children:i.jsxs(Hp,{variant:"dashboard",children:[i.jsx(cn,{label:"Projects",value:t.length,variant:"dashboard"}),i.jsx(cn,{label:"Teams",value:s.length,variant:"dashboard"}),i.jsx(cn,{label:"Active",value:s.filter(j=>j.members.some(p=>p.agentStatus==="active")).length,variant:"dashboard"}),i.jsx(cn,{label:"Running",value:t.filter(j=>j.status==="active").length,variant:"dashboard"})]})}),i.jsxs("section",{className:"dashboard-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsxs("div",{className:"section-info",children:[i.jsxs("h2",{className:"section-title",children:[i.jsx($e,{className:"section-icon"}),"Projects"]}),i.jsxs("p",{className:"section-description",children:[t.length," total projects"]})]}),i.jsxs("button",{className:"section-action",onClick:c,children:["View All",i.jsx(Sd,{className:"action-icon"})]})]}),i.jsxs("div",{className:"cards-grid",children:[x.map(j=>i.jsx(Vp,{project:j,showStatus:!0,showTeams:!0,onClick:()=>d(j.id)},j.id)),i.jsx(jo,{title:"New Project",onClick:g})]})]}),i.jsxs("section",{className:"dashboard-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsxs("div",{className:"section-info",children:[i.jsxs("h2",{className:"section-title",children:[i.jsx(ft,{className:"section-icon"}),"Teams"]}),i.jsxs("p",{className:"section-description",children:[s.length," active teams"]})]}),i.jsxs("button",{className:"section-action",onClick:u,children:["View All",i.jsx(Sd,{className:"action-icon"})]})]}),i.jsxs("div",{className:"cards-grid",children:[w.map(j=>i.jsx(Wp,{team:j,onClick:()=>h(j.id)},j.id)),i.jsx(jo,{title:"New Team",onClick:v})]})]})]})},z1=({onSave:e,onClose:t})=>{const[n,s]=y.useState(""),[r,o]=y.useState(!1),[a,l]=y.useState(""),c=async d=>{if(d.preventDefault(),!n.trim()){l("Please enter a project path");return}try{o(!0),l(""),await e(n.trim())}catch(h){l(h instanceof Error?h.message:"Failed to create project")}finally{o(!1)}},u=async()=>{try{if("showDirectoryPicker"in window&&window.showDirectoryPicker){const d=await window.showDirectoryPicker();s(d.name)}else{const d=document.createElement("input");d.type="file",d.webkitdirectory=!0,d.multiple=!0,d.addEventListener("change",h=>{const g=h.target.files;if(g&&g.length>0){const w=g[0].webkitRelativePath.split("/")[0];s(w)}}),d.click()}}catch(d){console.log("Folder selection cancelled or failed:",d)}};return i.jsx(Wt,{isOpen:!0,onClose:t,title:"Create New Project",onSubmit:c,submitText:r?"Creating...":"Create Project",submitDisabled:r||!n.trim(),loading:r,size:"md",children:i.jsxs(me,{children:[i.jsx(re,{htmlFor:"project-path",required:!0,children:"Project Path"}),i.jsxs("div",{className:"field-input-group",children:[i.jsx("input",{id:"project-path",type:"text",value:n,onChange:d=>s(d.target.value),placeholder:"/Users/name/my-project",className:"field-input",disabled:r,required:!0,style:{flex:1}}),i.jsx(X,{type:"button",onClick:u,variant:"outline",size:"sm",disabled:r,icon:$e,children:"Browse"})]}),i.jsxs("p",{className:"field-help",children:["Enter the absolute path to your project directory. AgentMux will create a",i.jsx("code",{children:".agentmux"})," subdirectory for configuration and tickets."]}),a&&i.jsxs(Xj,{children:[i.jsx(yo,{className:"error-icon"}),a]})]})})},Jd="/api",I1=()=>{const e=Xn(),[t,n]=Px(),[s,r]=y.useState([]),[o,a]=y.useState(!0),[l,c]=y.useState(""),[u,d]=y.useState("all"),[h,g]=y.useState(!1);y.useEffect(()=>{v(),t.get("create")==="true"&&(g(!0),t.delete("create"),n(t,{replace:!0}))},[]);const v=async()=>{try{a(!0);const p=await de.get(`${Jd}/projects`);p.data.success&&r(p.data.data||[])}catch(p){console.error("Error loading projects:",p)}finally{a(!1)}},x=async p=>{try{const f=await de.post(`${Jd}/projects`,{path:p});f.data.success&&f.data.data&&(r(m=>[f.data.data,...m]),g(!1),e(`/projects/${f.data.data.id}`))}catch(f){throw console.error("Error creating project:",f),f}},w=p=>{e(`/projects/${p}`)},j=s.filter(p=>{const f=p.name.toLowerCase().includes(l.toLowerCase())||p.path.toLowerCase().includes(l.toLowerCase()),m=u==="all"||p.status===u;return f&&m});return o?i.jsxs("div",{className:"projects-loading",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading projects..."})]}):i.jsxs("div",{className:"page projects-page",children:[i.jsxs("header",{className:"page-header",children:[i.jsxs("div",{className:"header-info",children:[i.jsx("h1",{className:"page-title",children:"Projects"}),i.jsx("p",{className:"page-description",children:"Manage and monitor your AgentMux projects"})]}),i.jsxs("button",{className:"primary-button",onClick:()=>g(!0),children:[i.jsx(Lt,{className:"button-icon"}),"New Project"]})]}),i.jsxs("div",{className:"page-controls",children:[i.jsxs("div",{className:"search-control",children:[i.jsx(Jx,{className:"search-icon"}),i.jsx("input",{type:"text",placeholder:"Search projects...",value:l,onChange:p=>c(p.target.value),className:"search-input"})]}),i.jsxs("div",{className:"filter-control",children:[i.jsx(zx,{className:"filter-icon"}),i.jsxs("select",{value:u,onChange:p=>d(p.target.value),className:"filter-select",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"paused",children:"Paused"}),i.jsx("option",{value:"completed",children:"Completed"})]})]})]}),i.jsx("div",{className:"projects-content",children:j.length>0?i.jsxs("div",{className:"projects-grid",children:[j.map(p=>i.jsx(Vp,{project:p,showStatus:!0,showTeams:!0,onClick:()=>w(p.id)},p.id)),i.jsx(jo,{title:"New Project",onClick:()=>g(!0)})]}):i.jsxs("div",{className:"empty-state",style:{padding:"4rem 2rem"},children:[i.jsx("div",{className:"empty-icon",children:i.jsx(Ix,{size:48,strokeWidth:1.5,style:{color:"#6B7280"}})}),i.jsx("h3",{className:"empty-title",children:l||u!=="all"?"No projects found":"No projects yet"}),i.jsx("p",{className:"empty-description",children:l||u!=="all"?"Try adjusting your search or filter criteria":"Create your first project to get started with AgentMux"}),!l&&u==="all"&&i.jsxs("button",{className:"primary-button",onClick:()=>g(!0),style:{padding:"0.75rem 1.5rem",marginTop:"1rem"},children:[i.jsx(Lt,{className:"button-icon"}),"Create Project"]})]})}),h&&i.jsx(z1,{onSave:x,onClose:()=>g(!1)})]})},ke="/api";class U1{async getProjects(){return(await de.get(`${ke}/projects`)).data.data||[]}async getProject(t){const n=await de.get(`${ke}/projects/${t}`);if(!n.data.success||!n.data.data)throw new Error(n.data.error||"Project not found");return n.data.data}async createProject(t,n,s){const r=await de.post(`${ke}/projects`,{path:t,name:n,description:s});if(!r.data.success||!r.data.data)throw new Error(r.data.error||"Failed to create project");return r.data.data}async startProject(t,n){const s=await de.post(`${ke}/projects/${t}/start`,{teamIds:n});if(!s.data.success)throw new Error(s.data.error||"Failed to start project");return{message:s.data.message||"Project started successfully"}}async assignTeamsToProject(t,n){const s=await this.getTeams(),r={};n.forEach(a=>{const l=s.find(c=>c.id===a);if(l&&l.members.length>0){const c=l.members[0].role;r[c]||(r[c]=[]),r[c].push(a)}});const o=await de.post(`${ke}/projects/${t}/assign-teams`,{teamAssignments:r});if(!o.data.success)throw new Error(o.data.error||"Failed to assign teams")}async getTeams(){return(await de.get(`${ke}/teams`)).data.data||[]}async getTeam(t){const n=await de.get(`${ke}/teams/${t}`);if(!n.data.success||!n.data.data)throw new Error(n.data.error||"Team not found");return n.data.data}async createTeam(t){const n=await de.post(`${ke}/teams`,t);if(!n.data.success||!n.data.data)throw new Error(n.data.error||"Failed to create team");return n.data.data}async deleteTeam(t){const n=await de.delete(`${ke}/teams/${t}`);if(!n.data.success)throw new Error(n.data.error||"Failed to delete team")}async unassignTeamFromProject(t,n){const s=await de.post(`${ke}/projects/${t}/unassign-team`,{teamId:n});if(!s.data.success)throw new Error(s.data.error||"Failed to unassign team")}async getProjectTickets(t){return(await de.get(`${ke}/projects/${t}/tickets`)).data.data||[]}async createTicket(t,n){const s=await de.post(`${ke}/projects/${t}/tickets`,n);if(!s.data.success||!s.data.data)throw new Error(s.data.error||"Failed to create ticket");return s.data.data}async updateTicket(t,n){const s=await de.patch(`${ke}/tickets/${t}`,n);if(!s.data.success||!s.data.data)throw new Error(s.data.error||"Failed to update ticket");return s.data.data}async deleteTicket(t,n){const s=await de.delete(`${ke}/projects/${t}/tickets/${n}`);if(!s.data.success)throw new Error(s.data.error||"Failed to delete ticket")}async getAllTasks(t){return(await de.get(`${ke}/projects/${t}/tasks`)).data.data||[]}async getMilestones(t){return(await de.get(`${ke}/projects/${t}/milestones`)).data.data||[]}async getTasksByStatus(t,n){return(await de.get(`${ke}/projects/${t}/tasks/status/${n}`)).data.data||[]}async getTasksByMilestone(t,n){return(await de.get(`${ke}/projects/${t}/tasks/milestone/${n}`)).data.data||[]}}const Rt=new U1,B1=({project:e,onClose:t,onAssignmentComplete:n})=>{const[s,r]=y.useState([]),[o,a]=y.useState(new Set),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[h,g]=y.useState(null);y.useEffect(()=>{v()},[]);const v=async()=>{try{c(!0);const f=await Rt.getTeams();r(f);const m=new Set(f.filter(k=>k.currentProject===e.id).map(k=>k.id));a(m)}catch(f){g("Failed to load teams"),console.error("Error loading teams:",f)}finally{c(!1)}},x=f=>{const m=new Set(o);m.has(f)?m.delete(f):m.add(f),a(m)},w=async()=>{try{d(!0),g(null),await Rt.assignTeamsToProject(e.id,Array.from(o)),n(),t()}catch(f){g(f instanceof Error?f.message:"Failed to assign teams"),console.error("Error assigning teams:",f)}finally{d(!1)}},j=f=>{f.target===f.currentTarget&&t()},p=f=>({orchestrator:"#8b5cf6",pm:"#3b82f6",developer:"#10b981",qa:"#f59e0b",tester:"#ef4444",designer:"#ec4899"})[f]||"#6b7280";return i.jsx("div",{className:"modal-overlay",onClick:j,children:i.jsxs("div",{className:"modal-content team-assignment-modal",children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("div",{className:"modal-title",children:[i.jsx(ft,{className:"title-icon"}),i.jsxs("div",{children:[i.jsx("h2",{children:"Assign Teams"}),i.jsxs("p",{children:['Select teams to assign to "',e.name,'"']})]})]}),i.jsx("button",{className:"close-button",onClick:t,children:i.jsx(Yn,{size:20})})]}),i.jsx("div",{className:"modal-body",children:l?i.jsxs("div",{className:"loading-state",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading teams..."})]}):h?i.jsxs("div",{className:"error-state",children:[i.jsxs("p",{children:["Error: ",h]}),i.jsx("button",{onClick:v,className:"retry-button",children:"Retry"})]}):s.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx(ft,{size:48}),i.jsx("h3",{children:"No Teams Available"}),i.jsx("p",{children:"Create some teams first before assigning them to projects."})]}):i.jsxs("div",{className:"teams-selection",children:[i.jsxs("div",{className:"selection-header",children:[i.jsxs("h3",{children:["Available Teams (",s.length,")"]}),i.jsxs("p",{children:["Selected: ",o.size," team",o.size!==1?"s":""]})]}),i.jsx("div",{className:"teams-grid",children:s.map(f=>{var T,N;const m=o.has(f.id),k=f.currentProject===e.id,S=f.currentProject&&f.currentProject!==e.id;return i.jsxs("div",{className:`team-selection-card ${m?"selected":""} ${S?"unavailable":""}`,onClick:()=>!S&&x(f.id),children:[m&&i.jsx("div",{className:"selection-indicator",children:i.jsx(Cd,{size:16})}),i.jsxs("div",{className:"team-card-header",children:[i.jsxs("div",{className:"team-info",children:[i.jsx("h4",{className:"team-name",children:f.name}),f.description&&i.jsx("p",{className:"team-description",children:f.description})]}),i.jsx("div",{className:"team-meta",children:i.jsx("span",{className:"team-meta-info",children:new Date(f.updatedAt).toLocaleDateString()})})]}),i.jsxs("div",{className:"team-members-summary",children:[i.jsxs("div",{className:"members-count",children:[i.jsx(ft,{size:14}),i.jsxs("span",{children:[((T=f.members)==null?void 0:T.length)||0," member",(((N=f.members)==null?void 0:N.length)||0)!==1?"s":""]})]}),f.members&&f.members.length>0&&i.jsxs("div",{className:"member-roles",children:[f.members.slice(0,3).map((E,L)=>i.jsx("span",{className:"role-badge",style:{color:p(E.role)},children:E.role},L)),f.members.length>3&&i.jsxs("span",{className:"more-roles",children:["+",f.members.length-3," more"]})]})]}),k&&i.jsx("div",{className:"assignment-status current-project",children:"Currently assigned to this project"}),S&&i.jsx("div",{className:"assignment-status other-project",children:"Assigned to another project"})]},f.id)})})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"secondary-button",onClick:t,disabled:u,children:"Cancel"}),i.jsx("button",{className:"primary-button",onClick:w,disabled:u||s.length===0,children:u?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"button-spinner"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Cd,{size:16}),"Assign ",o.size," Team",o.size!==1?"s":""]})})]})]})})};const V1=({projectPath:e,onClose:t})=>{const[n,s]=y.useState(null),[r,o]=y.useState([]),[a,l]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState(null),g={"project-spec.md":`# Project Specification

## Overview
Brief description of the project goals and objectives.

## Requirements
- [ ] Requirement 1
- [ ] Requirement 2
- [ ] Requirement 3

## Architecture
Description of the system architecture and design decisions.

## Implementation Notes
Key implementation details and considerations.
`,"team-prompts.md":`# Team System Prompts

## Project Manager
You are a Project Manager AI agent responsible for:
- Coordinating team activities
- Managing project timeline and milestones
- Facilitating communication between team members
- Ensuring project deliverables meet requirements

## Developer
You are a Developer AI agent responsible for:
- Writing clean, maintainable code
- Implementing features according to specifications
- Following coding standards and best practices
- Collaborating with other developers

## QA Tester
You are a QA Tester AI agent responsible for:
- Creating comprehensive test plans
- Executing manual and automated tests
- Reporting and tracking bugs
- Ensuring quality standards are met
`,"workflow.md":`# Project Workflow

## Development Process
1. **Planning Phase**
   - Requirements gathering
   - Architecture design
   - Task breakdown

2. **Implementation Phase**
   - Feature development
   - Code reviews
   - Testing

3. **Deployment Phase**
   - Build and deployment
   - Monitoring and maintenance

## Team Coordination
- Daily standups
- Sprint planning
- Retrospectives

## Tools and Resources
- Development environment setup
- CI/CD pipeline
- Documentation standards
`};y.useEffect(()=>{e&&v()},[e]);const v=async()=>{if(e){u(!0),h(null);try{const m=await fetch(`/api/projects/files?projectPath=${encodeURIComponent(e)}&type=agentmux-md`);if(m.ok){const k=await m.json();o(k.files||[])}else h("Failed to load available files")}catch(m){h("Error loading files: "+m.message)}finally{u(!1)}}},x=async m=>{u(!0),h(null);try{const k=await fetch(`/api/projects/file-content?projectPath=${encodeURIComponent(e||"")}&filePath=${encodeURIComponent(m)}`);if(k.ok){const S=await k.json();s({name:m.split("/").pop()||m,path:m,content:S.content,modified:!1})}else h("Failed to load file")}catch(k){h("Error loading file: "+k.message)}finally{u(!1)}},w=m=>{const k=m;s({name:k,path:`.agentmux/${k}`,content:g[m],modified:!0})},j=async()=>{if(!(!n||!e)){u(!0),h(null);try{(await fetch("/api/projects/save-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectPath:e,filePath:n.path,content:n.content})})).ok?(s({...n,modified:!1}),await v()):h("Failed to save file")}catch(m){h("Error saving file: "+m.message)}finally{u(!1)}}},p=m=>{n&&s({...n,content:m,modified:!0})},f=m=>m.replace(/^# (.*)/gm,"<h1>$1</h1>").replace(/^## (.*)/gm,"<h2>$1</h2>").replace(/^### (.*)/gm,"<h3>$1</h3>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,"<code>$1</code>").replace(/- \[ \] (.*)/g,"☐ $1").replace(/- \[x\] (.*)/gi,"☑ $1").replace(/^- (.*)/gm,"• $1").replace(/\n/g,"<br>");return i.jsx("div",{className:"markdown-editor-overlay",children:i.jsxs("div",{className:"markdown-editor",children:[i.jsxs("div",{className:"markdown-editor-header",children:[i.jsxs("div",{className:"header-left",children:[i.jsx("h2",{children:"Markdown Editor"}),n&&i.jsxs("span",{className:"file-info",children:[n.name,n.modified&&i.jsx("span",{className:"modified-indicator",children:"●"})]})]}),i.jsxs("div",{className:"header-right",children:[n&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>l(!a),className:`btn btn-secondary ${a?"active":""}`,title:a?"Edit Mode":"Preview Mode",children:a?i.jsx(Vx,{size:16}):i.jsx($x,{size:16})}),i.jsx("button",{onClick:j,disabled:!n.modified||c,className:"btn btn-primary",title:"Save File",children:i.jsx(Np,{size:16})})]}),i.jsx("button",{onClick:t,className:"btn btn-ghost",title:"Close",children:i.jsx(Yn,{size:16})})]})]}),d&&i.jsx("div",{className:"error-message",children:d}),i.jsx("div",{className:"markdown-editor-content",children:n?i.jsx("div",{className:"editor-pane",children:a?i.jsx("div",{className:"markdown-preview",dangerouslySetInnerHTML:{__html:f(n.content)}}):i.jsx("textarea",{className:"markdown-textarea",value:n.content,onChange:m=>p(m.target.value),placeholder:"Enter your markdown content here...",spellCheck:!1})}):i.jsxs("div",{className:"file-browser",children:[i.jsxs("div",{className:"file-section",children:[i.jsxs("h3",{children:[i.jsx($e,{size:16})," Available Files"]}),c?i.jsx("div",{className:"loading",children:"Loading files..."}):r.length>0?i.jsx("ul",{className:"file-list",children:r.map((m,k)=>i.jsx("li",{children:i.jsxs("button",{onClick:()=>x(m),className:"file-item",children:[i.jsx(Ta,{size:14}),m]})},k))}):i.jsx("p",{className:"no-files",children:"No .agentmux markdown files found"})]}),i.jsxs("div",{className:"file-section",children:[i.jsxs("h3",{children:[i.jsx(Ta,{size:16})," Create New File"]}),i.jsx("div",{className:"template-list",children:Object.keys(g).map(m=>i.jsxs("button",{onClick:()=>w(m),className:"template-item",children:[i.jsx(Ta,{size:14}),m]},m))})]})]})}),n&&i.jsxs("div",{className:"editor-footer",children:[i.jsx("span",{className:"file-path",children:n.path}),i.jsxs("span",{className:"editor-mode",children:[a?"Preview":"Edit"," Mode"]})]})]})})},W1=({project:e,onAddGoal:t,onEditGoal:n,onAddUserJourney:s,onEditUserJourney:r,onBuildSpecs:o,onBuildTasks:a,buildSpecsWorkflow:l,alignmentStatus:c,onContinueWithMisalignment:u,onViewAlignment:d,selectedBuildSpecsTeam:h,setSelectedBuildSpecsTeam:g,selectedBuildTasksTeam:v,setSelectedBuildTasksTeam:x,availableTeams:w,onCreateSpecsTasks:j,onCreateDevTasks:p,onCreateE2ETasks:f})=>{const[m,k]=y.useState({mdFileCount:0,taskCount:0,hasProjectMd:!1,hasUserJourneyMd:!1,hasInitialGoalMd:!1,hasInitialUserJourneyMd:!1}),[S,T]=y.useState(!0);y.useEffect(()=>{N()},[e.id]);const N=async()=>{try{T(!0);const E=await fetch(`/api/projects/${e.id}/stats`);if(E.ok){const L=await E.json();L.success&&k(L.data)}}catch(E){console.error("Error loading project stats:",E)}finally{T(!1)}};return i.jsxs("div",{className:"detail-view",children:[i.jsxs("div",{className:"detail-header",children:[i.jsx("h3",{children:"Project Details"}),i.jsx("p",{className:"detail-description",children:"Overview and key metrics for your project"})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("div",{className:"section-header",children:i.jsx("h4",{children:"Project Metrics"})}),S?i.jsx("div",{className:"loading-stats",children:i.jsx("p",{children:"Loading project metrics..."})}):i.jsxs("div",{className:"scorecards-grid",children:[i.jsxs("div",{className:"scorecard",children:[i.jsxs("div",{className:"scorecard-header",children:[i.jsx(On,{className:"scorecard-icon"}),i.jsx("h5",{children:"Specification Files"})]}),i.jsx("div",{className:"scorecard-value",children:m.mdFileCount}),i.jsx("div",{className:"scorecard-label",children:"Markdown files in specs/"})]}),i.jsxs("div",{className:"scorecard",children:[i.jsxs("div",{className:"scorecard-header",children:[i.jsx(Al,{className:"scorecard-icon"}),i.jsx("h5",{children:"Tasks Defined"})]}),i.jsx("div",{className:"scorecard-value",children:m.taskCount}),i.jsx("div",{className:"scorecard-label",children:"Total project tasks"})]}),i.jsxs("div",{className:"scorecard",children:[i.jsxs("div",{className:"scorecard-header",children:[i.jsx(Or,{className:"scorecard-icon"}),i.jsx("h5",{children:"Project Status"})]}),i.jsx("div",{className:"scorecard-value",children:i.jsx("span",{className:`status-badge status-${e.status}`,children:e.status})}),i.jsx("div",{className:"scorecard-label",children:"Current state"})]})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("div",{className:"section-header",children:i.jsx("h4",{children:"Project Information"})}),i.jsxs("div",{className:"project-info-grid",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h5",{children:"Name"}),i.jsx("p",{children:e.name})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h5",{children:"Path"}),i.jsx("p",{children:e.path})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h5",{children:"Status"}),i.jsx("p",{children:i.jsx("span",{className:`status-badge status-${e.status}`,children:e.status})})]}),e.description&&i.jsxs("div",{className:"info-section",children:[i.jsx("h5",{children:"Description"}),i.jsx("p",{children:e.description})]})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("div",{className:"section-header",children:i.jsx("h4",{children:"Specification Management"})}),i.jsxs("div",{className:"spec-management",children:[i.jsxs("div",{className:"spec-status-grid",children:[i.jsxs("div",{className:"spec-status-item",children:[i.jsxs("div",{className:"spec-status-info",children:[i.jsx(On,{className:"spec-icon"}),i.jsxs("div",{className:"spec-details",children:[i.jsx("h5",{children:"Project Goal"}),i.jsx("p",{className:"spec-description",children:"Define project objectives and success criteria"})]})]}),i.jsx("div",{className:"spec-status-indicator",children:m.hasInitialGoalMd?i.jsx(X,{variant:"secondary",icon:On,onClick:n,children:"Edit"}):i.jsx(X,{variant:"primary",icon:Lt,onClick:t,children:"Add Goal"})})]}),i.jsxs("div",{className:"spec-status-item",children:[i.jsxs("div",{className:"spec-status-info",children:[i.jsx(On,{className:"spec-icon"}),i.jsxs("div",{className:"spec-details",children:[i.jsx("h5",{children:"User Journey"}),i.jsx("p",{className:"spec-description",children:"Map user interactions and experience flows"})]})]}),i.jsx("div",{className:"spec-status-indicator",children:m.hasInitialUserJourneyMd?i.jsx(X,{variant:"secondary",icon:On,onClick:r,children:"Edit"}):i.jsx(X,{variant:"primary",icon:Lt,onClick:s,children:"Add User Journey"})})]})]}),i.jsxs("div",{className:"spec-task-actions",children:[i.jsx("h5",{children:"Generate Project Tasks"}),i.jsxs("div",{className:"task-creation-buttons",children:[i.jsx(X,{variant:"success",icon:On,onClick:j,disabled:S,title:"Create specification and requirements tasks for TPM role",children:"Create Specs Tasks"}),i.jsx(X,{variant:"success",icon:Al,onClick:p,disabled:S,title:"Create development and implementation tasks for dev role",children:"Create Dev Tasks"}),i.jsx(X,{variant:"success",icon:Jn,onClick:f,disabled:S,title:"Create end-to-end testing tasks with intelligent technology selection for QA role",children:"Create E2E Tasks"})]})]})]})]})]})},H1=({project:e,tickets:t,onTicketsUpdate:n,onCreateSpecsTasks:s,onCreateDevTasks:r,onCreateE2ETasks:o,loading:a,onTaskClick:l,onTaskAssign:c,taskAssignmentLoading:u})=>{const[d,h]=y.useState(null),[g,v]=y.useState(!1),[x,w]=y.useState(!1),[j,p]=y.useState({title:"",status:"open",priority:"medium",targetRole:"",milestone:"",description:""}),[f,m]=y.useState({name:"",description:""}),k=y.useRef(null),S=d?t.filter(P=>(P.milestone||P.milestoneId||"Uncategorized")===d):t,T={open:S.filter(P=>P.status==="open"||P.status==="pending"),in_progress:S.filter(P=>P.status==="in_progress"),done:S.filter(P=>P.status==="done"||P.status==="completed"),blocked:S.filter(P=>P.status==="blocked")},N=t.reduce((P,R)=>{const O=R.milestone||R.milestoneId||"Uncategorized";return P[O]||(P[O]=[]),P[O].push(R),P},{}),E=P=>{const R=P.match(/^m(\d+)/i);return R?parseInt(R[1],10):999},L=Object.entries(N).sort(([P],[R])=>E(P)-E(R)),$=Object.keys(N);y.useEffect(()=>{if(!k.current||L.length===0)return;const P=L.findIndex(([R,O])=>O.some(I=>I.status==="in_progress"));P!==-1&&setTimeout(()=>{const R=k.current;if(R){const I=R.querySelectorAll(".milestone-card")[P];if(I){const ee=R.clientWidth,D=I.offsetLeft,U=I.clientWidth,B=D-ee/2+U/2;R.scrollTo({left:Math.max(0,B),behavior:"smooth"})}}},100)},[L,t]);const b=async()=>{try{const P=await fetch(`/api/projects/${e.id}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(P.ok)v(!1),p({title:"",status:"open",priority:"medium",targetRole:"",milestone:"",description:""}),n();else{const R=await P.text();alert("Failed to create task: "+R)}}catch(P){console.error("Error creating task:",P),alert("Failed to create task")}},H=async()=>{try{const P=await fetch(`/api/projects/${e.id}/milestones`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(P.ok)w(!1),m({name:"",description:""}),n();else{const R=await P.text();alert("Failed to create milestone: "+R)}}catch(P){console.error("Error creating milestone:",P),alert("Failed to create milestone")}};return i.jsxs("div",{className:"tasks-view",children:[i.jsxs("div",{className:"tasks-header",children:[i.jsxs("div",{className:"tasks-title-section",children:[i.jsxs("h3",{children:["Project Tasks (",t.length,")"]}),i.jsx("div",{className:"tasks-info",children:i.jsxs("span",{className:"tasks-summary",children:[Object.keys(N).length," Milestones • ",t.length," Tasks"]})})]}),i.jsxs("div",{className:"task-creation-controls",children:[i.jsx(X,{variant:"primary",icon:Lt,onClick:()=>v(!0),title:"Create a new task",children:"Create Task"}),i.jsx(X,{variant:"secondary",icon:$e,onClick:()=>w(!0),title:"Create a new milestone",children:"Create Milestone"})]})]}),i.jsxs("div",{className:"milestones-section",children:[i.jsxs("div",{className:"milestones-header",children:[i.jsx("h4",{children:"Milestones Overview"}),d&&i.jsx(X,{variant:"secondary",onClick:()=>h(null),title:"Clear milestone filter",children:"Clear Filter"})]}),i.jsx("div",{className:"milestones-grid",ref:k,children:L.map(([P,R],O)=>{const I=E(P),ee=I!==999?I:null,D=R.filter(A=>A.status==="open"||A.status==="pending").length,U=R.filter(A=>A.status==="in_progress").length,B=R.filter(A=>A.status==="done").length,te=D===0&&U===0;return i.jsxs("div",{className:`milestone-card milestone-card-compact ${d===P?"milestone-card--active":""} ${te?"milestone-card--completed":"milestone-card--active-work"}`,onClick:()=>h(d===P?null:P),children:[i.jsxs("div",{className:"milestone-header",children:[i.jsxs("h5",{className:"milestone-title",children:[ee!==null&&i.jsxs("span",{className:"milestone-sequence",children:[ee,". "]}),P.replace(/_/g," ").replace(/^m\d+\s*/,"").replace(/^\w/,A=>A.toUpperCase())]}),i.jsxs("span",{className:"milestone-count",children:[R.length," tasks"]})]}),i.jsx("div",{className:"milestone-progress",children:i.jsxs("div",{className:"progress-stats",children:[i.jsxs("span",{className:"stat",children:[i.jsx("span",{className:"stat-value",children:D}),i.jsx("span",{className:"stat-label",children:"Open"})]}),i.jsxs("span",{className:"stat",children:[i.jsx("span",{className:"stat-value",children:U}),i.jsx("span",{className:"stat-label",children:"In Progress"})]}),i.jsxs("span",{className:"stat",children:[i.jsx("span",{className:"stat-value",children:B}),i.jsx("span",{className:"stat-label",children:"Done"})]})]})})]},P)})})]}),i.jsxs("div",{className:"kanban-section",children:[i.jsx("h4",{children:"Task Board"}),i.jsxs("div",{className:"kanban-board",children:[i.jsx(ji,{title:"Open",count:T.open.length,tasks:T.open,status:"open",onTaskClick:l,onTaskAssign:c,taskAssignmentLoading:u}),i.jsx(ji,{title:"In Progress",count:T.in_progress.length,tasks:T.in_progress,status:"in_progress",onTaskClick:l,onTaskAssign:c,taskAssignmentLoading:u}),i.jsx(ji,{title:"Done",count:T.done.length,tasks:T.done,status:"done",onTaskClick:l,onTaskAssign:c,taskAssignmentLoading:u}),i.jsx(ji,{title:"Blocked",count:T.blocked.length,tasks:T.blocked,status:"blocked",onTaskClick:l,onTaskAssign:c,taskAssignmentLoading:u})]})]}),i.jsx(Wt,{isOpen:g,onClose:()=>v(!1),onSubmit:b,title:"Create New Task",submitText:"Create Task",children:i.jsxs(me,{children:[i.jsx(Ln,{children:i.jsxs("div",{children:[i.jsx(re,{children:"Title"}),i.jsx(hr,{type:"text",value:j.title,onChange:P=>p({...j,title:P.target.value}),placeholder:"Enter task title",required:!0})]})}),i.jsxs(Ln,{children:[i.jsxs("div",{children:[i.jsx(re,{children:"Status"}),i.jsxs("select",{value:j.status,onChange:P=>p({...j,status:P.target.value}),className:"form-input",children:[i.jsx("option",{value:"open",children:"Open"}),i.jsx("option",{value:"in_progress",children:"In Progress"}),i.jsx("option",{value:"done",children:"Done"}),i.jsx("option",{value:"blocked",children:"Blocked"})]})]}),i.jsxs("div",{children:[i.jsx(re,{children:"Priority"}),i.jsxs("select",{value:j.priority,onChange:P=>p({...j,priority:P.target.value}),className:"form-input",children:[i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"}),i.jsx("option",{value:"critical",children:"Critical"})]})]})]}),i.jsxs(Ln,{children:[i.jsxs("div",{children:[i.jsx(re,{children:"Target Role"}),i.jsx(hr,{type:"text",value:j.targetRole,onChange:P=>p({...j,targetRole:P.target.value}),placeholder:"e.g., frontend-developer, backend-developer, qa"})]}),i.jsxs("div",{children:[i.jsx(re,{children:"Milestone"}),i.jsxs("select",{value:j.milestone,onChange:P=>p({...j,milestone:P.target.value}),className:"form-input",children:[i.jsx("option",{value:"",children:"Select milestone"}),$.map(P=>i.jsx("option",{value:P,children:P},P))]})]})]}),i.jsx(Ln,{children:i.jsxs("div",{children:[i.jsx(re,{children:"Description"}),i.jsx(Mr,{value:j.description,onChange:P=>p({...j,description:P.target.value}),placeholder:"Enter task description",rows:4})]})})]})}),i.jsx(Wt,{isOpen:x,onClose:()=>w(!1),onSubmit:H,title:"Create New Milestone",submitText:"Create Milestone",children:i.jsxs(me,{children:[i.jsx(Ln,{children:i.jsxs("div",{children:[i.jsx(re,{children:"Milestone Name"}),i.jsx(hr,{type:"text",value:f.name,onChange:P=>m({...f,name:P.target.value}),placeholder:"e.g., m1_foundation, m2_development",required:!0}),i.jsx(xo,{children:"Use format like m0_*, m1_*, etc. This will create the folder structure for task organization."})]})}),i.jsx(Ln,{children:i.jsxs("div",{children:[i.jsx(re,{children:"Description"}),i.jsx(Mr,{value:f.description,onChange:P=>m({...f,description:P.target.value}),placeholder:"Describe the milestone objectives",rows:3})]})})]})})]})},ji=({title:e,count:t,tasks:n,status:s,onTaskClick:r,onTaskAssign:o,taskAssignmentLoading:a})=>i.jsxs("div",{className:`task-column task-column--${s}`,children:[i.jsxs("div",{className:"column-header",children:[i.jsx("h4",{className:"column-title",children:e}),i.jsx("span",{className:"task-count",children:t})]}),i.jsxs("div",{className:"column-content",children:[n.map(l=>{var c;return i.jsxs("div",{className:"task-card task-card-clickable",onClick:()=>r(l),children:[i.jsxs("div",{className:"task-header",children:[i.jsx("h5",{className:"task-title",children:l.title}),i.jsxs("div",{className:"task-actions",children:[i.jsx("button",{className:`task-play-btn ${a===l.id?"loading":""}`,onClick:u=>{u.stopPropagation(),o(l)},disabled:a===l.id,title:"Assign this task to the orchestrator team",children:a===l.id?i.jsx("div",{className:"task-spinner"}):i.jsx(Jn,{className:"task-play-icon"})}),i.jsx("div",{className:"task-badges",children:l.priority&&i.jsx("span",{className:`priority-badge priority-${l.priority}`,children:l.priority})})]})]}),i.jsx("p",{className:"task-description",children:l.description}),i.jsxs("div",{className:"task-meta",children:[i.jsx("div",{className:"task-milestone",children:i.jsx("span",{className:"milestone-badge",children:((c=l.milestoneId)==null?void 0:c.replace(/_/g," ").replace(/^m\d+\s*/,""))||"General"})}),l.assignee&&i.jsx("div",{className:"task-assignee",children:i.jsx("span",{className:"assignee-badge",children:l.assignee})})]}),l.tasks&&l.tasks.length>0&&i.jsxs("div",{className:"task-subtasks",children:[i.jsx("div",{className:"subtasks-header",children:i.jsx("span",{className:"subtasks-title",children:"Tasks:"})}),i.jsxs("div",{className:"subtasks-list",children:[l.tasks.slice(0,3).map((u,d)=>i.jsx("div",{className:"subtask-item",children:i.jsx("span",{className:"subtask-text",children:u.replace(/^\[x\]\s*|\[\s*\]\s*/i,"")})},d)),l.tasks.length>3&&i.jsxs("div",{className:"subtask-more",children:["+",l.tasks.length-3," more"]})]})]})]},l.id)}),n.length===0&&i.jsxs("div",{className:"column-empty-state",children:[i.jsx("div",{className:"column-empty-icon",children:"📋"}),i.jsxs("p",{children:["No ",e.toLowerCase()," tasks"]})]})]})]}),gm=({files:e,selectedFile:t,expandedFolders:n,onFileSelect:s,onToggleFolder:r,level:o=0})=>i.jsx("div",{children:e.map(a=>i.jsxs("div",{children:[i.jsxs("div",{className:`file-item ${t===a.path?"file-item--selected":""}`,style:{paddingLeft:`${o*16+8}px`},onClick:()=>{a.type==="folder"?r(a.path):s(a.path)},children:[a.type==="folder"&&i.jsx("span",{className:"folder-toggle",children:n.has(a.path)?"▼":"▶"}),i.jsx("span",{className:"file-icon",children:a.icon}),i.jsx("span",{className:"file-name",children:a.name})]}),a.type==="folder"&&n.has(a.path)&&a.children&&a.children.length>0&&i.jsx(gm,{files:a.children,selectedFile:t,expandedFolders:n,onFileSelect:s,onToggleFolder:r,level:o+1})]},a.path))}),q1=({project:e,selectedFile:t,onFileSelect:n,setIsMarkdownEditorOpen:s})=>{const[r,o]=y.useState([]),[a,l]=y.useState(new Set([".agentmux"])),[c,u]=y.useState(""),[d,h]=y.useState(!1),[g,v]=y.useState(null);y.useEffect(()=>{w()},[e]),y.useEffect(()=>{t?x(t):(u(""),v(null))},[t,e]);const x=async p=>{try{h(!0),v(null);const f=await fetch(`/api/projects/${e.id}/file-content?filePath=${encodeURIComponent(p)}`);if(f.ok){const m=await f.json();u(m.data.content)}else{const m=await f.json();v(m.error||"Failed to load file")}}catch(f){console.error("Error loading file content:",f),v("Failed to load file content")}finally{h(!1)}},w=async()=>{try{console.log(`Loading files for project: ${e.name} at path: ${e.path}`);const p=await fetch(`/api/projects/${e.id}/files?depth=4&includeDotFiles=true`);if(p.ok){const f=await p.json();f.success&&f.data.files?(console.log(`Loaded ${f.data.files.length} items from project directory:`),console.log(`Original path: ${f.data.projectPath}`),console.log(`Resolved path: ${f.data.resolvedPath}`),console.log("Files found:",f.data.files.map(k=>k.name).join(", ")),o(f.data.files),f.data.files.some(k=>k.name===".agentmux")&&l(k=>new Set([...k,".agentmux"]))):(console.error("Failed to load project files:",f.error),o([]))}else console.error("Error loading project files:",p.status),o([])}catch(p){console.error("Error loading project files:",p),o([])}},j=p=>{const f=new Set(a);f.has(p)?f.delete(p):f.add(p),l(f)};return i.jsxs("div",{className:"editor-view",children:[i.jsxs("div",{className:"file-tree-panel",children:[i.jsxs("div",{className:"file-tree-header",children:[i.jsx("h3",{children:"Project Files"}),i.jsx("div",{className:"project-path-display",children:i.jsx("small",{title:e.path,children:e.path})})]}),i.jsx("div",{className:"file-tree",children:i.jsx(gm,{files:r,selectedFile:t,expandedFolders:a,onFileSelect:n,onToggleFolder:j})})]}),i.jsx("div",{className:"editor-panel",children:t?i.jsxs("div",{className:"file-viewer",children:[i.jsx("div",{className:"file-header",children:i.jsx("h3",{children:t})}),i.jsx("div",{className:"file-content",children:d?i.jsx("div",{className:"loading-state",children:i.jsx("p",{children:"Loading file content..."})}):g?i.jsx("div",{className:"error-state",children:i.jsxs("p",{children:["Error: ",g]})}):i.jsx("pre",{className:"code-viewer",children:i.jsx("code",{children:c})})})]}):i.jsxs("div",{className:"project-info",children:[i.jsxs("div",{className:"info-header",children:[i.jsx("h3",{children:"Project Information"}),i.jsx(X,{variant:"primary",icon:On,onClick:()=>s(!0),title:"Edit .agentmux spec files",children:"Edit Specs"})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Name"}),i.jsx("p",{children:e.name})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Path"}),i.jsx("p",{children:e.path})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Status"}),i.jsx("p",{children:e.status})]}),e.description&&i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Description"}),i.jsx("p",{children:e.description})]})]})})]})},J1=({assignedTeams:e,onUnassignTeam:t,openTerminalWithSession:n})=>i.jsxs("div",{className:"teams-view",children:[i.jsxs("div",{className:"teams-header",children:[i.jsx("h3",{children:"Assigned Teams"}),i.jsx("p",{className:"teams-description",children:"Teams currently working on this project"})]}),e.length>0?i.jsx("div",{className:"assigned-teams-grid",children:e.map(s=>i.jsxs("div",{className:"assigned-team-card",children:[i.jsxs("div",{className:"team-header",children:[i.jsxs("div",{className:"team-info",children:[i.jsx("h4",{className:"team-name",children:s.name}),i.jsx("span",{className:`status-badge status-${s.members.some(r=>r.agentStatus==="active")?"active":"inactive"}`,children:s.members.some(r=>r.agentStatus==="active")?"active":"inactive"})]}),i.jsxs("button",{className:"unassign-btn",onClick:()=>t(s.id,s.name),title:`Unassign ${s.name} from project`,children:[i.jsx(Vc,{className:"button-icon"}),"Unassign"]})]}),s.members&&s.members.length>0&&i.jsxs("div",{className:"team-members",children:[i.jsxs("h5",{className:"members-title",children:["Members (",s.members.length,")"]}),i.jsx("div",{className:"members-list",children:s.members.map(r=>i.jsxs("div",{className:"member-item",onClick:()=>{const o=r.sessionName||r.name;console.log("Member clicked:",r.name,"using session:",o),n(o)},title:r.sessionName?`Click to open terminal session: ${r.sessionName}`:"No session available",children:[i.jsxs("div",{className:"member-info",children:[i.jsx("span",{className:"member-name",children:r.name}),i.jsx("span",{className:"member-role",children:r.role})]}),i.jsxs("div",{className:"member-status",children:[i.jsx("div",{className:`status-dot status-dot--${r.agentStatus}`}),i.jsx("span",{className:"status-text",children:r.agentStatus})]})]},r.id))})]}),i.jsxs("div",{className:"team-meta",children:[i.jsxs("div",{className:"meta-item",children:[i.jsx("span",{className:"meta-label",children:"Created:"}),i.jsx("span",{className:"meta-value",children:new Date(s.createdAt).toLocaleDateString()})]}),i.jsxs("div",{className:"meta-item",children:[i.jsx("span",{className:"meta-label",children:"Last Activity:"}),i.jsx("span",{className:"meta-value",children:new Date(s.updatedAt).toLocaleDateString()})]})]})]},s.id))}):i.jsxs("div",{className:"empty-teams",children:[i.jsx("div",{className:"empty-icon",children:"👥"}),i.jsx("h4",{className:"empty-title",children:"No teams assigned"}),i.jsx("p",{className:"empty-description",children:"Assign teams to this project to start collaborative development."})]})]});class Q1{constructor(){ot(this,"cache",null);ot(this,"lastCacheTime",0);ot(this,"cacheTimeout",3e4)}async getInProgressTasks(){var n,s;const t=Date.now();if(this.cache&&t-this.lastCacheTime<this.cacheTimeout)return this.cache.tasks;try{const r=await fetch("/api/in-progress-tasks");if(!r.ok)return console.warn("Failed to fetch in-progress tasks:",r.statusText),((n=this.cache)==null?void 0:n.tasks)||[];const o=await r.json();return this.cache=o,this.lastCacheTime=t,o.tasks}catch(r){return console.error("Error loading in-progress tasks:",r),((s=this.cache)==null?void 0:s.tasks)||[]}}async getTaskAssignedMember(t){return(await this.getInProgressTasks()).find(s=>{var r;return s.taskPath===t||s.originalPath===t||t.includes(s.taskName)||s.originalPath.includes(((r=t.split("/").pop())==null?void 0:r.replace(".md",""))||"")})||null}async getTaskAssignedMemberDetails(t){try{const n=await this.getTaskAssignedMember(t);if(!n)return{};const s=await fetch("/api/teams");if(!s.ok)return{sessionName:n.assignedSessionName};const r=await s.json(),o=r.success?r.data.teams:r.teams||[];for(const a of o)if(a.members){const l=a.members.find(c=>c.id===n.assignedMemberId||c.sessionName===n.assignedSessionName);if(l)return{memberName:l.name,sessionName:l.sessionName||n.assignedSessionName,teamName:a.name}}return{sessionName:n.assignedSessionName}}catch(n){return console.error("Error getting task assigned member details:",n),{}}}clearCache(){this.cache=null,this.lastCacheTime=0}}const K1=new Q1,G1=()=>{var au;const{id:e}=xp(),t=En(),n=Xn(),{openTerminalWithSession:s}=Zn(),{showAlert:r,showSuccess:o,showError:a,AlertComponent:l}=Kj(),{showConfirm:c,showDeleteConfirm:u,ConfirmComponent:d}=Gj(),h=()=>{const C=t.hash.replace("#","");return["detail","editor","tasks","teams"].includes(C)?C:"detail"},[g,v]=y.useState(h()),[x,w]=y.useState(null),[j,p]=y.useState(!1),[f,m]=y.useState(!1),[k,S]=y.useState(!1),[T,N]=y.useState(!1),[E,L]=y.useState(""),[$,b]=y.useState(""),[H,P]=y.useState(!1),[R,O]=y.useState(null),[I,ee]=y.useState(null),[D,U]=y.useState({}),[B,te]=y.useState({isActive:!1,steps:[]}),[A,ue]=y.useState({project:null,assignedTeams:[],tickets:[],loading:!0,error:null}),[Ft,es]=y.useState({hasAlignmentIssues:!1,alignmentFilePath:null,content:null}),[Ue,ts]=y.useState(""),[Is,ym]=y.useState(""),[Jr,vm]=y.useState([]);y.useState(!1),y.useState(!1),y.useState(null),y.useEffect(()=>{const C=()=>{v(h())};return window.addEventListener("hashchange",C),()=>window.removeEventListener("hashchange",C)},[t.hash]);const Qr=C=>{v(C),n(`${t.pathname}#${C}`,{replace:!0})};y.useEffect(()=>{e&&rt(e)},[e]),y.useEffect(()=>{e&&g==="teams"&&rt(e)},[g,e]);const xm=async C=>{try{const M=await fetch(`/api/projects/${C}/alignment-status`);if(M.ok){const G=await M.json();G.success&&es(G.data)}}catch(M){console.error("Failed to check alignment status:",M)}},jm=async()=>{if(A.project)try{(await fetch(`/api/projects/${A.project.id}/continue-with-misalignment`,{method:"POST"})).ok?(o("Orchestrator notified to continue Build Specs despite alignment issues"),es({hasAlignmentIssues:!1,alignmentFilePath:null,content:null})):a("Failed to notify orchestrator")}catch(C){a("Failed to continue with misalignment: "+(C instanceof Error?C.message:"Unknown error"))}},wm=async()=>{if(A.project)try{const C=await fetch(`/api/projects/${A.project.id}/specs?fileName=alignment_comparison.md`);if(C.ok){const M=await C.json();if(M.success&&M.data){const G=window.open("","_blank");G&&(G.document.write(`
              <html>
                <head>
                  <title>Alignment Comparison Analysis</title>
                  <style>
                    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; padding: 20px; max-width: 800px; margin: 0 auto; }
                    h1, h2, h3 { color: #333; }
                    pre { background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; }
                    code { background: #f5f5f5; padding: 2px 4px; border-radius: 3px; }
                  </style>
                </head>
                <body>
                  <h1>Codebase Alignment Analysis</h1>
                  <pre>${M.data.content.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</pre>
                </body>
              </html>
            `),G.document.close())}}else a("Failed to load alignment analysis")}catch(C){a("Failed to view alignment analysis: "+(C instanceof Error?C.message:"Unknown error"))}},rt=async C=>{try{ue(it=>({...it,loading:!0,error:null}));const[M,G]=await Promise.all([Rt.getProject(C),Rt.getAllTasks(C)]),we=await Rt.getTeams(),mt=we.filter(it=>{const Xt=it.currentProject===C,Tn=it.currentProject===M.name;return it.currentProject&&console.log("Team assignment check:",{teamName:it.name,teamCurrentProject:it.currentProject,projectId:C,projectName:M.name,matchesById:Xt,matchesByName:Tn}),Xt||Tn});vm(we),ue({project:M,assignedTeams:mt,tickets:G,loading:!1,error:null}),await xm(C)}catch(M){ue(G=>({...G,loading:!1,error:M instanceof Error?M.message:"Failed to load project"}))}},km=()=>{p(!0)},Nm=async()=>{if(!(!A.project||A.assignedTeams.length===0))try{ue(M=>({...M,loading:!0}));const C=await Rt.startProject(A.project.id,A.assignedTeams.map(M=>M.id));await rt(A.project.id),o(`${C.message||"Project started with automated check-ins and git commit reminders."}`,"Project Started Successfully")}catch(C){console.error("Failed to start project:",C),a("Failed to start project: "+(C instanceof Error?C.message:"Unknown error"),"Start Project Failed")}finally{ue(C=>({...C,loading:!1}))}},Sm=async()=>{A.project&&c(`Are you sure you want to stop "${A.project.name}"?

This will:
• Stop all scheduled check-ins and git reminders
• Set project status to 'stopped'
• Keep all teams and work intact

You can restart the project at any time.`,async()=>await Cm(),{title:"Stop Project",confirmText:"Stop Project",type:"warning"})},Cm=async()=>{if(A.project)try{ue(M=>({...M,loading:!0}));const C=await fetch(`/api/projects/${A.project.id}/stop`,{method:"POST",headers:{"Content-Type":"application/json"}});if(C.ok){const M=await C.json();await rt(A.project.id),o(M.message||"Project stopped successfully. Scheduled messages have been cancelled.","Project Stopped")}else{const M=await C.json();throw new Error(M.error||"Failed to stop project")}}catch(C){console.error("Failed to stop project:",C),a("Failed to stop project: "+(C instanceof Error?C.message:"Unknown error"),"Stop Project Failed")}finally{ue(C=>({...C,loading:!1}))}},Em=async C=>{var M;if(O(C),P(!0),C.status==="in_progress"||(M=C.path)!=null&&M.includes("/in_progress/"))try{const G=await K1.getTaskAssignedMemberDetails(C.path||C.filePath||"");U(G)}catch(G){console.error("Failed to load task assigned member details:",G),U({})}else U({})},nu=async C=>{if(A.project)try{ee(C.id);const M=await fetch("/api/orchestrator/health");if(!M.ok)throw new Error("Failed to check orchestrator status");const G=await M.json();if(!G.success||!G.data||!G.data.orchestrator||!G.data.orchestrator.running){a("Orchestrator session is not running. Please start the orchestrator first.","Assignment Failed");return}const we=await fetch(`/api/projects/${A.project.id}/assign-task`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskId:C.id,taskTitle:C.title,taskDescription:C.description,taskPriority:C.priority,taskMilestone:C.milestoneId,projectName:A.project.name,projectPath:A.project.path})});if(we.ok){const mt=await we.json();o(`Task "${C.title}" has been assigned to the orchestrator team.`,"Task Assigned")}else{const mt=await we.json();throw new Error(mt.error||"Failed to assign task")}}catch(M){console.error("Failed to assign task:",M),a("Failed to assign task: "+(M instanceof Error?M.message:"Unknown error"),"Assignment Failed")}finally{ee(null)}},su=async()=>{A.project&&c(`Create Specs Tasks?

This will generate specification-focused tasks using the TPM role. The orchestrator will analyze project requirements and create detailed specification tasks.`,async()=>await Tm(),{title:"Create Specs Tasks",confirmText:"Create Specs Tasks",type:"info"})},Tm=async()=>{if(A.project)try{ue(M=>({...M,loading:!0}));const C=await fetch("/api/tasks/create-from-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:A.project.id,projectName:A.project.name,projectPath:A.project.path,configType:"build_spec_prompt"})});if(C.ok){const M=await C.json();await rt(A.project.id),o(M.message||"Specs tasks created successfully! Tasks have been assigned to the orchestrator for TPM assignment.","Specs Tasks Created")}else{const M=await C.json();throw new Error(M.error||"Failed to create specs tasks")}}catch(C){console.error("Failed to create specs tasks:",C),a("Failed to create specs tasks: "+(C instanceof Error?C.message:"Unknown error"),"Create Specs Tasks Failed")}finally{ue(C=>({...C,loading:!1}))}},ru=async()=>{A.project&&c(`Create Dev Tasks?

This will generate development-focused tasks using the dev role. The orchestrator will create detailed development and implementation tasks.`,async()=>await _m(),{title:"Create Dev Tasks",confirmText:"Create Dev Tasks",type:"info"})},_m=async()=>{if(A.project)try{ue(M=>({...M,loading:!0}));const C=await fetch("/api/tasks/create-from-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:A.project.id,projectName:A.project.name,projectPath:A.project.path,configType:"build_tasks_prompt",targetRole:"dev"})});if(C.ok){const M=await C.json();await rt(A.project.id),o(M.message||"Dev tasks created successfully! Tasks have been assigned to the orchestrator for developer assignment.","Dev Tasks Created")}else{const M=await C.json();throw new Error(M.error||"Failed to create dev tasks")}}catch(C){console.error("Failed to create dev tasks:",C),a("Failed to create dev tasks: "+(C instanceof Error?C.message:"Unknown error"),"Create Dev Tasks Failed")}finally{ue(C=>({...C,loading:!1}))}},iu=async()=>{A.project&&c(`Create E2E Tasks?

This will generate end-to-end testing tasks using the QA role. The system will analyze your project type and create appropriate E2E testing tasks with technology recommendations.`,async()=>await bm(),{title:"Create E2E Tasks",confirmText:"Create E2E Tasks",type:"info"})},bm=async()=>{if(A.project)try{ue(M=>({...M,loading:!0}));const C=await fetch("/api/tasks/create-from-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:A.project.id,projectName:A.project.name,projectPath:A.project.path,configType:"build_e2e_test_plan_prompt",targetRole:"qa"})});if(C.ok){const M=await C.json();await rt(A.project.id),o(M.message||"E2E tasks created successfully! Tasks have been assigned to the orchestrator for QA assignment.","E2E Tasks Created")}else{const M=await C.json();throw new Error(M.error||"Failed to create E2E tasks")}}catch(C){console.error("Failed to create E2E tasks:",C),a("Failed to create E2E tasks: "+(C instanceof Error?C.message:"Unknown error"),"Create E2E Tasks Failed")}finally{ue(C=>({...C,loading:!1}))}},Pm=()=>{e&&rt(e)},Rm=(C,M)=>{A.project&&c(`Are you sure you want to unassign "${M}" from this project?

This will send a command to the orchestrator to delete the team's tmux sessions.`,async()=>await Am(C,M),{title:"Unassign Team",confirmText:"Unassign Team",type:"warning"})},Am=async(C,M)=>{if(A.project)try{ue(G=>({...G,loading:!0})),await fetch("/api/orchestrator/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:`unassign_team ${C} ${A.project.id}`})}),await Rt.unassignTeamFromProject(A.project.id,C),await rt(A.project.id),o(`Team "${M}" has been unassigned from the project and their tmux sessions have been terminated.`,"Team Unassigned")}catch(G){console.error("Failed to unassign team:",G),a("Failed to unassign team: "+(G instanceof Error?G.message:"Unknown error"),"Unassign Failed")}finally{ue(G=>({...G,loading:!1}))}},Om=()=>{A.project&&c(`Are you sure you want to delete "${A.project.name}"?

This will:
• Remove the project from AgentMux registry
• Keep all project files and .agentmux folder intact
• Unassign any active teams from this project

This action cannot be undone.`,async()=>await Lm(),{title:"Delete Project",confirmText:"Delete Project",type:"error"})},Lm=async()=>{if(A.project)try{ue(M=>({...M,loading:!0}));const C=await fetch(`/api/projects/${A.project.id}`,{method:"DELETE"});if(C.ok){const M=await C.json();o(`Project deleted successfully!

${M.message}`,"Project Deleted"),setTimeout(()=>{window.location.href="/"},1e3)}else{const M=await C.json();throw new Error(M.error||"Failed to delete project")}}catch(C){console.error("Failed to delete project:",C),a("Failed to delete project: "+(C instanceof Error?C.message:"Unknown error"),"Delete Failed")}finally{ue(C=>({...C,loading:!1}))}},Mm=()=>{L(""),S(!0)},Fm=async()=>{if(A.project)try{const C=await fetch(`/api/projects/${A.project.id}/specs?fileName=initial_goal.md`);if(C.ok){const M=await C.json();if(M.success)L(M.data.content),S(!0);else throw new Error(M.error||"Failed to load goal content")}else throw new Error("Failed to load goal content")}catch(C){console.error("Error loading goal content:",C),alert("❌ Failed to load goal content: "+(C instanceof Error?C.message:"Unknown error"))}},Dm=async()=>{if(!E.trim()){alert("Please enter project goal content");return}if(A.project)try{const C=await fetch(`/api/projects/${A.project.id}/create-spec-file`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:"initial_goal.md",content:E})});if(C.ok){const M=await C.json();if(M.success)S(!1),L(""),o("Project goal saved successfully!","Goal Saved"),e&&rt(e);else throw new Error(M.error||"Failed to save goal")}else throw new Error("Failed to save goal")}catch(C){console.error("Error saving goal:",C),alert("Failed to save goal: "+(C instanceof Error?C.message:"Unknown error"))}},$m=()=>{b(""),N(!0)},zm=async()=>{if(A.project)try{const C=await fetch(`/api/projects/${A.project.id}/specs?fileName=initial_user_journey.md`);if(C.ok){const M=await C.json();if(M.success)b(M.data.content),N(!0);else throw new Error(M.error||"Failed to load user journey content")}else throw new Error("Failed to load user journey content")}catch(C){console.error("Error loading user journey content:",C),alert("❌ Failed to load user journey content: "+(C instanceof Error?C.message:"Unknown error"))}},Im=async()=>{if(!$.trim()){alert("Please enter user journey content");return}if(A.project)try{const C=await fetch(`/api/projects/${A.project.id}/create-spec-file`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:"initial_user_journey.md",content:$})});if(C.ok){const M=await C.json();if(M.success)N(!1),b(""),o("User journey saved successfully!","User Journey Saved"),e&&rt(e);else throw new Error(M.error||"Failed to save user journey")}else throw new Error("Failed to save user journey")}catch(C){console.error("Error saving user journey:",C),alert("Failed to save user journey: "+(C instanceof Error?C.message:"Unknown error"))}},Um=async()=>{A.project&&c("This will create a Product Manager for this project and instruct them to build detailed specifications and task planning using a step-by-step process. Continue?",async()=>await Hm(),{title:"Build Specifications",confirmText:"Start Build Process",type:"info"})},Bm=async()=>{if(A.project)try{const C=await fetch(`/api/projects/${A.project.id}/open-finder`,{method:"POST"});if(!C.ok)throw new Error("Failed to open Finder");const M=await C.json();if(M.success)o("Project folder opened in Finder","Finder Opened");else throw new Error(M.error||"Failed to open Finder")}catch(C){console.error("Error opening Finder:",C),a("Failed to open Finder: "+(C instanceof Error?C.message:"Unknown error"))}},Vm=async()=>{A.project&&c("This will generate detailed project tasks organized by milestone phases. The selected team member will analyze specifications and create milestone directories with detailed task files. Continue?",async()=>await Wm(),{title:"Build Tasks",confirmText:"Start Build Tasks",type:"info"})},Wm=async()=>{if(A.project){if(!Is||Is==="orchestrator"){a("Please select a team member first. Build Tasks must be assigned to an existing team member.");return}try{const C=await fetch("/api/build-tasks/config");if(!C.ok)throw new Error("Failed to load Build Tasks configuration");const M=await C.json();if(!M.success)throw new Error(M.error||"Failed to load Build Tasks configuration");const G=M.data,[we,mt]=await Promise.all([fetch(`/api/projects/${A.project.id}/specs?fileName=initial_goal.md`),fetch(`/api/projects/${A.project.id}/specs?fileName=initial_user_journey.md`)]);if(!we.ok||!mt.ok)throw new Error("Failed to load initial specifications");const[it,Xt]=await Promise.all([we.json(),mt.json()]);if(!it.success||!Xt.success)throw new Error("Failed to read initial specifications");const Tn=it.data.content,Gr=Xt.data.content;console.log("Using selected team member for Build Tasks:",Is);const[Xr,Yo]=Is.split(":"),Yt=Jr.find(Le=>Le.id===Xr),_n=Yt==null?void 0:Yt.members.find(Le=>Le.id===Yo);if(!Yt||!_n)throw new Error("Selected team member not found");console.log("Selected team:",Yt.name,"Member:",_n.name);const ns=G.steps,Us=_n.sessionName||_n.name;console.log("Target session name for Build Tasks:",Us);const Dt=[];for(let Le=0;Le<ns.length;Le++){const Xe=ns[Le];console.log(`Scheduling Build Tasks Step ${Xe.id}: ${Xe.name} with ${Xe.delayMinutes} minute delay...`);const Bs=fetch("/api/build-tasks/retry-step",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:A.project.id,stepId:Xe.id,targetSession:Us,projectName:A.project.name,projectPath:A.project.path,initialGoal:Tn,userJourney:Gr})});Dt.push(Bs.then(async Yr=>{if(Yr.ok){const Z=await Yr.json();return console.log(`Build Tasks Step ${Xe.id} scheduled:`,Z.message),{stepId:Xe.id,success:!0,message:Z.message}}else{const Z=await Yr.text();return console.error(`Build Tasks Step ${Xe.id} failed:`,Z),{stepId:Xe.id,success:!1,error:Z}}}))}if((await Promise.all(Dt)).every(Le=>Le.success)){s(Us);const Le=ns.length,Xe=Math.max(...ns.map(Bs=>Bs.delayMinutes));o(`Build Tasks process sent to ${_n.name}!

📋 ${Le} steps sent to ${Yt.name}
⏱️ Final step in ${Xe} minutes

🔍 Monitor ${_n.name}'s terminal for progress.

This will create milestone directories and detailed task files in .agentmux/tasks/`,"Build Tasks Started")}else throw new Error("Some Build Tasks steps failed to schedule")}catch(C){console.error("Error building tasks:",C),a("Failed to build tasks: "+(C instanceof Error?C.message:"Unknown error"))}}},Hm=async()=>{var G;if(!A.project)return;if(!Ue||Ue==="orchestrator"){a("Please select a team member first. Build Specs must be assigned to an existing team member.");return}const C=Jr.find(we=>we.id===Ue),M=(G=C==null?void 0:C.members)==null?void 0:G[0];if(!(M!=null&&M.sessionName)){a('Team must be started before using Build Specs. Please click "Start Team" first to create tmux sessions for team members.');return}try{const we=await fetch("/api/build-specs/config");if(!we.ok)throw new Error("Failed to load Build Specs configuration");const mt=await we.json();if(!mt.success)throw new Error(mt.error||"Failed to load Build Specs configuration");const it=mt.data,[Xt,Tn]=await Promise.all([fetch(`/api/projects/${A.project.id}/specs?fileName=initial_goal.md`),fetch(`/api/projects/${A.project.id}/specs?fileName=initial_user_journey.md`)]);if(!Xt.ok||!Tn.ok)throw new Error("Failed to load initial specifications");const[Gr,Xr]=await Promise.all([Xt.json(),Tn.json()]);if(!Gr.success||!Xr.success)throw new Error("Failed to read initial specifications");const Yo=Gr.data.content,Yt=Xr.data.content,_n=Z=>Z.map(Be=>Be.replace(/\{PROJECT_NAME\}/g,A.project.name).replace(/\{PROJECT_PATH\}/g,A.project.path).replace(/\{PROJECT_ID\}/g,A.project.id).replace(/\{INITIAL_GOAL\}/g,Yo).replace(/\{USER_JOURNEY\}/g,Yt)).join(`
`);console.log("Using selected team member:",Ue);const[ns,Us]=Ue.split(":"),Dt=Jr.find(Z=>Z.id===ns),bn=Dt==null?void 0:Dt.members.find(Z=>Z.id===Us);if(!Dt||!bn)throw new Error("Selected team member not found");console.log("Selected team:",Dt.name,"Member:",bn.name),console.log("Using existing team - no assignment needed");const Zt=it.steps,Le=bn.sessionName||bn.name;console.log("Target session name:",Le);const Xe=[];for(let Z=0;Z<Zt.length;Z++){const Be=Zt[Z];console.log(`Scheduling Step ${Be.id}: ${Be.name} with ${Be.delayMinutes} minute delay...`);const Me=fetch("/api/build-specs/retry-step",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:A.project.id,stepId:Be.id,targetSession:Le,projectName:A.project.name})});Xe.push(Me.then(async Ve=>{if(Ve.ok){const gt=await Ve.json();return console.log(`Step ${Be.id} scheduled:`,gt.message),{stepId:Be.id,success:!0,message:gt.message}}else{const gt=await Ve.text();return console.error(`Step ${Be.id} failed:`,gt),{stepId:Be.id,success:!1,error:gt}}}))}const Bs=await Promise.all(Xe);if((await Promise.all(Bs.map(async(Z,Be)=>{const Me=Zt[Be];if(Me.delayMinutes===0){const Ve=await Z,gt=Ve.messageResponse.ok,Zr=Ve.enterResponse?Ve.enterResponse.ok:!0;return gt&&Zr?(console.log(`Step ${Me.id} (${Me.name}) sent successfully with Enter key`),!0):(console.error(`Step ${Me.id} (${Me.name}) failed - Message: ${gt}, Enter: ${Zr}`),!1)}else if(Z.ok){const Ve=await Z.json();return console.log(`Step ${Me.id} (${Me.name}) scheduled successfully:`,Ve),!0}else{console.error(`Step ${Me.id} (${Me.name}) scheduling failed:`,Z.status,Z.statusText);try{const Ve=await Z.text();console.error(`Step ${Me.id} error body:`,Ve)}catch{console.error(`Could not read error body for step ${Me.id}`)}return!1}}))).every(Z=>Z)){const Z=new Date,Be=Zt.map((_e,ei)=>({id:_e.id,name:_e.name,delayMinutes:_e.delayMinutes,status:_e.delayMinutes===0?"scheduled":"pending",scheduledAt:_e.delayMinutes===0?Z:new Date(Z.getTime()+_e.delayMinutes*6e4)}));te({isActive:!0,steps:Be}),s(Le);const Me=Zt.length,Ve=Math.max(...Zt.map(_e=>_e.delayMinutes));o(`Build Specs process sent to ${bn.name}!

📋 ${Me} steps sent to ${Dt.name}
⏱️ Final step in ${Ve} minutes

🔍 Monitor ${bn.name}'s terminal for progress.`,"Build Specs Started");const gt=setInterval(()=>{te(_e=>{if(!_e.isActive)return _e;const ei=new Date,Zo=_e.steps.map(Pn=>Pn.status==="pending"&&Pn.scheduledAt&&ei>=Pn.scheduledAt?{...Pn,status:"scheduled"}:Pn);return Zo.every(Pn=>Pn.status==="scheduled")?(clearInterval(gt),{..._e,steps:Zo}):{..._e,steps:Zo}})},3e4),Zr=Zt.reduce((_e,ei)=>_e+ei.delayMinutes,0);setTimeout(()=>{clearInterval(gt)},(Zr+5)*6e4)}else throw new Error("Some Build Specs steps failed to schedule")}catch(we){console.error("Error building specs:",we),alert("❌ Failed to build specs: "+(we instanceof Error?we.message:"Unknown error"))}};if(A.loading)return i.jsxs("div",{className:"project-detail-loading",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading project..."})]});if(A.error||!A.project)return i.jsxs("div",{className:"project-detail-error",children:[i.jsx("h2",{children:"Error Loading Project"}),i.jsx("p",{children:A.error||"Project not found"})]});const{project:Ge,assignedTeams:Kr,tickets:ou}=A;return i.jsxs("div",{className:"project-detail",children:[i.jsxs("div",{className:"page-header",children:[i.jsxs("div",{className:"header-info",children:[i.jsx("h1",{className:"page-title",children:Ge.name}),i.jsxs("p",{className:"page-description",children:[Ge.description||"AgentMux project for collaborative development",i.jsx("br",{}),i.jsxs("span",{className:"project-path-with-action",children:[i.jsxs("span",{className:"project-path",children:[i.jsx($e,{className:"path-icon"}),Ge.path]}),i.jsx(X,{variant:"secondary",size:"sm",icon:Dx,onClick:Bm,title:"Open project folder in Finder",children:"Open in Finder"})]})]})]}),i.jsxs("div",{className:"header-controls",children:[i.jsx("span",{className:`status-badge status-${Ge.status}`,children:Ge.status}),i.jsx(X,{variant:"secondary",icon:Ed,onClick:km,children:"Assign Team"}),Ge.status==="active"?i.jsx(X,{variant:"warning",icon:Sp,onClick:Sm,disabled:A.loading,title:"Stop project and cancel scheduled messages",children:"Stop Project"}):i.jsx(X,{variant:"primary",icon:Jn,onClick:Nm,disabled:A.loading||Kr.length===0,loading:A.loading,title:Kr.length===0?"Assign a team before starting the project":"Start project with assigned teams",children:A.loading?"Starting...":"Start Project"}),i.jsx(X,{variant:"danger",icon:Bc,onClick:Om,disabled:A.loading,title:"Delete project from AgentMux (files will be kept)",children:"Delete"})]})]}),i.jsxs("div",{className:"project-tabs",children:[i.jsxs("button",{className:`tab ${g==="detail"?"tab--active":""}`,onClick:()=>Qr("detail"),children:[i.jsx(Or,{className:"tab-icon"}),"Detail"]}),i.jsxs("button",{className:`tab ${g==="editor"?"tab--active":""}`,onClick:()=>Qr("editor"),children:[i.jsx($e,{className:"tab-icon"}),"Editor"]}),i.jsxs("button",{className:`tab ${g==="tasks"?"tab--active":""}`,onClick:()=>Qr("tasks"),children:[i.jsx(Al,{className:"tab-icon"}),"Tasks (",ou.length,")"]}),i.jsxs("button",{className:`tab ${g==="teams"?"tab--active":""}`,onClick:()=>Qr("teams"),children:[i.jsx(Ed,{className:"tab-icon"}),"Teams (",Kr.length,")"]})]}),i.jsx("div",{className:"tab-content",children:g==="detail"?i.jsx(W1,{project:Ge,onAddGoal:Mm,onEditGoal:Fm,onAddUserJourney:$m,onEditUserJourney:zm,onBuildSpecs:Um,onBuildTasks:Vm,buildSpecsWorkflow:B,alignmentStatus:Ft,onContinueWithMisalignment:jm,onViewAlignment:wm,selectedBuildSpecsTeam:Ue,setSelectedBuildSpecsTeam:ts,selectedBuildTasksTeam:Is,setSelectedBuildTasksTeam:ym,availableTeams:Jr,onCreateSpecsTasks:su,onCreateDevTasks:ru,onCreateE2ETasks:iu},Ge.updatedAt):g==="editor"?i.jsx(q1,{project:Ge,selectedFile:x,onFileSelect:w,setIsMarkdownEditorOpen:m}):g==="tasks"?i.jsx(H1,{project:Ge,tickets:ou,onTicketsUpdate:()=>rt(Ge.id),onCreateSpecsTasks:su,onCreateDevTasks:ru,onCreateE2ETasks:iu,loading:A.loading,onTaskClick:Em,onTaskAssign:nu,taskAssignmentLoading:I}):i.jsx(J1,{assignedTeams:Kr,onUnassignTeam:Rm,openTerminalWithSession:s})}),j&&i.jsx(B1,{project:Ge,onClose:()=>p(!1),onAssignmentComplete:Pm}),f&&i.jsx(V1,{projectPath:Ge.path,onClose:()=>m(!1)}),H&&R&&i.jsx(Wt,{isOpen:H,onClose:()=>{P(!1),O(null)},title:"Task Details",subtitle:`${R.title} - Full Information`,onSubmit:C=>{C.preventDefault(),nu(R),P(!1),O(null)},submitText:I===R.id?"Starting...":"Start",submitDisabled:I===R.id,loading:I===R.id,cancelText:"Close",size:"xxl",children:i.jsxs("div",{className:"task-detail-content",children:[i.jsxs(me,{children:[i.jsx(re,{children:"Task Title"}),i.jsx("div",{className:"task-detail-field",children:R.title})]}),i.jsxs(me,{children:[i.jsx(re,{children:"Description"}),i.jsx("div",{className:"task-detail-field task-detail-description",children:R.description?i.jsx("div",{className:"task-content",children:R.description.split(`
`).map((C,M)=>i.jsx("p",{className:"task-description-line",children:C},M))}):i.jsxs("div",{className:"task-no-description",children:[i.jsx("span",{className:"no-description-text",children:"No description provided"}),R.tasks&&R.tasks.length>0||R.acceptanceCriteria&&R.acceptanceCriteria.length>0?i.jsx("p",{className:"no-description-help",children:"Task details are available in the sections below."}):i.jsx("p",{className:"no-description-help",children:"This task may need additional details to be added."})]})})]}),R.acceptanceCriteria&&R.acceptanceCriteria.length>0&&i.jsxs(me,{children:[i.jsxs(re,{children:["Acceptance Criteria (",R.acceptanceCriteria.length,")"]}),i.jsx("div",{className:"task-detail-acceptance-criteria",children:R.acceptanceCriteria.map((C,M)=>i.jsxs("div",{className:"task-detail-criteria",children:[i.jsx("span",{className:"criteria-bullet",children:"✓"}),i.jsx("span",{className:"criteria-text",children:C})]},M))})]}),i.jsxs(Ln,{children:[i.jsxs(me,{children:[i.jsx(re,{children:"Priority"}),i.jsx("div",{className:`task-detail-badge priority-badge priority-${R.priority||"medium"}`,children:R.priority||"Medium"})]}),i.jsxs(me,{children:[i.jsx(re,{children:"Milestone"}),i.jsx("div",{className:"task-detail-badge milestone-badge",children:((au=R.milestoneId)==null?void 0:au.replace(/_/g," ").replace(/^m\d+\s*/,""))||"General"})]})]}),R.assignee&&i.jsxs(me,{children:[i.jsx(re,{children:"Assignee"}),i.jsx("div",{className:"task-detail-badge assignee-badge",children:R.assignee})]}),(D.memberName||D.sessionName)&&i.jsxs(me,{children:[i.jsx(re,{children:"Currently Assigned To"}),i.jsxs("div",{className:"task-detail-assigned-member",children:[i.jsxs("div",{className:"assigned-member-info",children:[D.memberName&&i.jsxs("div",{className:"task-detail-badge assignee-badge active-assignee",children:["👤 ",D.memberName]}),D.sessionName&&i.jsxs("div",{className:"task-detail-badge session-badge",children:["🖥️ ",D.sessionName]}),D.teamName&&i.jsxs("div",{className:"task-detail-badge team-badge",children:["👥 ",D.teamName]})]}),i.jsx("div",{className:"assigned-member-status",children:i.jsx("span",{className:"status-indicator in-progress",children:"● In Progress"})})]})]}),R.tasks&&R.tasks.length>0&&i.jsxs(me,{children:[i.jsxs(re,{children:["Subtasks (",R.tasks.length,")"]}),i.jsx("div",{className:"task-detail-subtasks",children:R.tasks.map((C,M)=>i.jsx("div",{className:"task-detail-subtask",children:i.jsx("span",{className:"subtask-text",children:C.replace(/^\[x\]\s*|\[\s*\]\s*/i,"")})},M))})]})]})}),k&&i.jsx(Wt,{isOpen:k,onClose:()=>S(!1),title:"Add Project Goal",subtitle:"Define your project's main objective and success criteria",onSubmit:C=>{C.preventDefault(),Dm()},submitText:"Save Goal",size:"md",children:i.jsxs(me,{children:[i.jsx(re,{htmlFor:"goal-content",required:!0,children:"Project Goal"}),i.jsx(Mr,{id:"goal-content",value:E,onChange:C=>L(C.target.value),placeholder:"Describe your project's main objective, success criteria, and key outcomes...",rows:8,required:!0}),i.jsx(xo,{children:"Define what you want to achieve with this project. Be specific about goals, target users, and success metrics."})]})}),T&&i.jsx(Wt,{isOpen:T,onClose:()=>N(!1),title:"Add User Journey",subtitle:"Map out how users will interact with your solution",onSubmit:C=>{C.preventDefault(),Im()},submitText:"Save User Journey",size:"md",children:i.jsxs(me,{children:[i.jsx(re,{htmlFor:"journey-content",required:!0,children:"User Journey"}),i.jsx(Mr,{id:"journey-content",value:$,onChange:C=>b(C.target.value),placeholder:"Describe your users' journey from discovery to success. Include user personas, key interactions, pain points, and desired outcomes...",rows:8,required:!0}),i.jsx(xo,{children:"Map out how users will interact with your solution. Include user types, main flows, and critical touchpoints."})]})}),i.jsx(l,{}),i.jsx(d,{})]})},X1=({isOpen:e,onClose:t,onSubmit:n,team:s})=>{const[r,o]=y.useState({name:"",description:"",projectPath:""}),[a,l]=y.useState([]),[c,u]=y.useState([]),[d,h]=y.useState([]),[g,v]=y.useState(!1);y.useEffect(()=>{if(x(),w(),s&&(o({name:s.name||"",description:s.description||"",projectPath:s.projectPath||""}),s.members&&Array.isArray(s.members))){const S=s.members.map(T=>({...T,runtimeType:T.runtimeType||"claude-code"}));l(S)}},[s]),y.useEffect(()=>{if(d.length>0&&a.length===0&&!s){const T=d.filter(N=>N.isDefault).map((N,E)=>({id:(E+1).toString(),name:N.displayName,role:N.key,systemPrompt:`Load from ${N.promptFile}`,runtimeType:"claude-code"}));T.length>0&&l(T)}},[d,a.length,s]);const x=async()=>{try{const S=await fetch("/api/projects");if(S.ok){const T=await S.json(),N=T.success?T.data||[]:T||[];u(Array.isArray(N)?N:[])}}catch(S){console.error("Error fetching projects:",S),u([])}},w=async()=>{try{const S=await fetch("/api/config/available_team_roles.json");if(S.ok){const T=await S.json();T.roles&&Array.isArray(T.roles)&&h(T.roles)}}catch(S){console.error("Error fetching available roles:",S),h([])}},j=S=>{const{name:T,value:N}=S.target;o(E=>({...E,[T]:N}))},p=(S,T,N)=>{l(E=>E.map(L=>{if(L.id===S){const $={...L,[T]:N};if(T==="role"){const b=d.find(H=>H.key===N);b&&($.systemPrompt=`Load from ${b.promptFile}`)}return $}return L}))},f=()=>{const S=(Math.max(...a.map(E=>parseInt(E.id)))+1).toString(),T=d.find(E=>E.key==="fullstack-dev"),N={id:S,name:"Fullstack Developer",role:"fullstack-dev",systemPrompt:T?`Load from ${T.promptFile}`:"Default fullstack developer prompt",runtimeType:"claude-code"};l(E=>[...E,N])},m=S=>{a.length>1&&l(T=>T.filter(N=>N.id!==S))},k=async S=>{if(S.preventDefault(),!(!r.name.trim()||a.length===0)){for(const T of a)if(!T.name.trim()){alert("All team members must have a name");return}v(!0);try{const T=c.find(E=>E.id===r.projectPath),N={...r,members:a.map(E=>({name:E.name,role:E.role,systemPrompt:E.systemPrompt,runtimeType:E.runtimeType})),currentProject:r.projectPath||void 0,projectPath:T?T.path:void 0};await n(N)}catch(T){console.error("Error submitting team:",T)}finally{v(!1)}}};return i.jsxs(Wt,{isOpen:e,onClose:t,title:s?"Edit Team":"Create New Team",subtitle:s?"Modify team configuration and members":"Set up a new collaborative team",size:"xl",onSubmit:k,submitText:s?"Update Team":"Create Team",submitDisabled:!r.name.trim()||a.length===0,loading:g,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"name",children:"Team Name *"}),i.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:j,placeholder:"Enter team name (e.g., Frontend Team)",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"description",children:"Description"}),i.jsx("input",{type:"text",id:"description",name:"description",value:r.description,onChange:j,placeholder:"Brief description of the team's purpose"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"projectPath",children:"Project (Optional)"}),i.jsx(Ns,{id:"projectPath",name:"projectPath",value:r.projectPath,onChange:S=>o(T=>({...T,projectPath:S})),placeholder:"No project assigned",options:c.map(S=>({value:S.id,label:`${S.name} (${S.path})`}))})]}),i.jsxs("div",{className:"team-members-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsxs("h3",{children:["Team Members (",a.length,")"]}),i.jsx("button",{type:"button",className:"add-member-button",onClick:f,children:"+ Add Member"})]}),i.jsx("div",{className:"team-members-list",children:a.map((S,T)=>i.jsxs("div",{className:"team-member-card",children:[i.jsxs("div",{className:"member-header",children:[i.jsxs("h4",{children:["Member ",T+1]}),a.length>1&&i.jsx("button",{type:"button",className:"remove-member-button",onClick:()=>m(S.id),children:"Remove"})]}),i.jsx("div",{className:"member-form",children:i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Name *"}),i.jsx("input",{type:"text",value:S.name,onChange:N=>p(S.id,"name",N.target.value),placeholder:"Member name",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Role *"}),i.jsx(Ns,{value:S.role,onChange:N=>p(S.id,"role",N),required:!0,options:d.filter(N=>!N.hidden).map(N=>({value:N.key,label:N.displayName}))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Runtime Type *"}),i.jsx(Ns,{value:S.runtimeType,onChange:N=>p(S.id,"runtimeType",N),required:!0,options:[{value:"claude-code",label:"Claude Code"},{value:"gemini-cli",label:"Gemini CLI"},{value:"codex-cli",label:"Codex CLI"}]})]})]})})]},S.id))})]})]})},Y1=({member:e,teamId:t,onClose:n})=>{const[s,r]=y.useState(null),[o,a]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(!1),[h,g]=y.useState(null),[v,x]=y.useState(!1),[w,j]=y.useState("prompt"),p=y.useRef(null);y.useEffect(()=>(f(),()=>{k()}),[e.id,t]);const f=async()=>{if(!e.sessionName){c("No active session for this team member");return}try{a(!0),c(null),V.isConnected()||await V.connect(),m(),V.subscribeToSession(e.sessionName),await S()}catch(b){console.error("Error initializing terminal:",b),c("Failed to connect to terminal"),x(!1)}finally{a(!1)}},m=()=>{if(!e.sessionName)return;const b=I=>{I.sessionName===e.sessionName&&(r(ee=>({...ee,memberId:e.id,memberName:e.name,sessionName:e.sessionName,output:I.content,timestamp:I.timestamp})),setTimeout(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},10))},H=I=>{I.sessionName===e.sessionName&&(r({memberId:e.id,memberName:e.name,sessionName:e.sessionName,output:I.content,timestamp:I.timestamp}),x(!0),c(null))},P=I=>{I.sessionName===e.sessionName&&(console.log("Successfully subscribed to session:",I.sessionName),x(!0),c(null))},R=I=>{I.sessionName===e.sessionName&&(console.error("WebSocket error for session:",I),c(I.error||"WebSocket error occurred"),x(!1))},O=()=>{x(!0)};return V.on("terminal_output",b),V.on("initial_terminal_state",H),V.on("subscription_confirmed",P),V.on("error",R),V.on("connected",O),()=>{V.off("terminal_output",b),V.off("initial_terminal_state",H),V.off("subscription_confirmed",P),V.off("error",R),V.off("connected",O)}},k=()=>{h&&clearInterval(h),e.sessionName&&V.isConnected()&&V.unsubscribeFromSession(e.sessionName)};y.useEffect(()=>{if(u){const b=setInterval(()=>{S()},15e3);g(b)}else h&&(clearInterval(h),g(null));return()=>{h&&clearInterval(h)}},[u]);const S=async()=>{if(!e.sessionName){c("No active session for this team member");return}a(!0),c(null);try{const b=await fetch(`/api/teams/${t}/members/${e.id}/session?lines=100`);if(b.ok){const H=await b.json();H.success?r(H.data):c(H.error||"Failed to fetch session data")}else{const H=await b.json();c(H.error||"Failed to fetch session data")}}catch(b){c("Network error while fetching session data"),console.error("Error fetching session data:",b)}finally{a(!1)}},T=b=>{b.target===b.currentTarget&&n()},N=b=>({orchestrator:"#8b5cf6",pm:"#3b82f6",developer:"#10b981",qa:"#f59e0b",tester:"#ef4444",designer:"#ec4899"})[b]||"#6b7280",E=b=>({inactive:"#6b7280",activating:"#f59e0b",active:"#059669"})[b]||"#6b7280",L=b=>({idle:"#6b7280",in_progress:"#10b981"})[b]||"#6b7280",$=b=>new Date(b).toLocaleString();return i.jsx("div",{className:"modal-overlay",onClick:T,children:i.jsxs("div",{className:"modal-content member-modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("div",{className:"member-header-info",children:[i.jsx("h2",{children:e.name}),i.jsxs("div",{className:"member-badges",children:[i.jsx("span",{className:"role-badge",style:{backgroundColor:N(e.role)},children:e.role}),i.jsxs("span",{className:"status-badge",style:{backgroundColor:E(e.agentStatus)},children:["Agent: ",e.agentStatus]}),i.jsxs("span",{className:"status-badge",style:{backgroundColor:L(e.workingStatus)},children:["Work: ",e.workingStatus]})]})]}),i.jsx("button",{className:"close-button",onClick:n,children:"×"})]}),i.jsxs("div",{className:"member-tabs",children:[i.jsx("button",{className:`tab-button ${w==="prompt"?"active":""}`,onClick:()=>j("prompt"),children:"System Prompt"}),i.jsx("button",{className:`tab-button ${w==="terminal"?"active":""}`,onClick:()=>j("terminal"),children:"Terminal Output"})]}),i.jsxs("div",{className:"member-modal-body",children:[w==="prompt"&&i.jsx("div",{className:"system-prompt-panel",children:i.jsx("div",{className:"system-prompt-content",children:i.jsx("pre",{className:"system-prompt-text",children:e.systemPrompt})})}),w==="terminal"&&i.jsxs("div",{className:"terminal-panel",children:[i.jsxs("div",{className:"terminal-header",children:[i.jsx("div",{className:"terminal-header-left",children:e.sessionName&&i.jsxs("span",{className:"session-name",children:["Session: ",e.sessionName]})}),i.jsxs("div",{className:"terminal-controls",children:[i.jsx("div",{className:"connection-status",children:i.jsx("span",{className:`status-indicator ${v?"connected":"disconnected"}`,children:v?"🟢 Live":"🔴 Offline"})}),i.jsxs("label",{className:"auto-refresh-toggle",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:b=>d(b.target.checked),disabled:v}),"Auto-refresh (fallback)"]}),i.jsx("button",{className:"refresh-button",onClick:S,disabled:o||v,children:o?"Loading...":"Manual Refresh"})]})]}),i.jsxs("div",{className:"terminal-output",children:[o&&!s&&i.jsxs("div",{className:"loading-state",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading session data..."})]}),l&&i.jsxs("div",{className:"error-state",children:[i.jsxs("p",{children:["Error: ",l]}),i.jsx("button",{onClick:S,className:"retry-button",children:"Retry"})]}),s&&i.jsxs("div",{className:"session-data",children:[i.jsx("div",{className:"session-meta",children:i.jsxs("span",{children:["Last updated: ",$(s.timestamp)]})}),i.jsx("pre",{className:"terminal-content",ref:p,children:s.output||"No output available"})]}),!o&&!l&&!s&&i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"No session data available"})})]})]})]})]})})},Z1=()=>{const e=Xn(),[t,n]=y.useState([]),[s,r]=y.useState([]),[o,a]=y.useState(""),[l,c]=y.useState("all"),[u,d]=y.useState(!1),[h,g]=y.useState(null),[v,x]=y.useState(""),[w,j]=y.useState(!0);y.useEffect(()=>{p()},[]),y.useEffect(()=>{f()},[t,o,l]);const p=async()=>{try{const N=await fetch("/api/teams");if(N.ok){const E=await N.json(),L=E.success?E.data||[]:E||[];n(Array.isArray(L)?L:[])}}catch(N){console.error("Error fetching teams:",N),n([])}finally{j(!1)}},f=()=>{let N=t;o&&(N=N.filter(E=>E.name.toLowerCase().includes(o.toLowerCase())||E.description&&E.description.toLowerCase().includes(o.toLowerCase())||E.currentProject&&E.currentProject.toLowerCase().includes(o.toLowerCase())||E.members.some(L=>L.name.toLowerCase().includes(o.toLowerCase())||L.role.toLowerCase().includes(o.toLowerCase())))),l!=="all"&&(N=N.filter(E=>l==="active"?E.members.some(L=>L.agentStatus==="active"):l==="inactive"?E.members.every(L=>L.agentStatus==="inactive"):l!=="completed")),r(N)},m=async N=>{try{const E=await fetch("/api/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(E.ok){const L=await E.json(),$=L.success?L.data:L;$&&(n(b=>[...b,$]),d(!1))}else{const L=await E.json();alert("Error creating team: "+(L.error||"Unknown error"))}}catch(E){console.error("Error creating team:",E),alert("Error creating team: "+(E instanceof Error?E.message:"Unknown error"))}},k=N=>{e(`/teams/${N.id}`)},S=(N,E)=>{g(N),x(E)},T=()=>{g(null),x("")};return w?i.jsxs("div",{className:"teams-page",children:[i.jsx("div",{className:"page-header",children:i.jsxs("div",{className:"header-info",children:[i.jsx("h1",{className:"page-title",children:"Teams"}),i.jsx("p",{className:"page-description",children:"Manage and organize your development teams"})]})}),i.jsx("div",{className:"loading-state",children:"Loading teams..."})]}):i.jsxs("div",{className:"page teams-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsxs("div",{className:"header-info",children:[i.jsx("h1",{className:"page-title",children:"Teams"}),i.jsx("p",{className:"page-description",children:"Manage and organize your development teams"})]}),i.jsxs("button",{className:"primary-button",onClick:()=>d(!0),children:[i.jsx(Lt,{className:"button-icon"}),"New Team"]})]}),i.jsxs("div",{className:"page-controls",children:[i.jsx("div",{className:"search-control",children:i.jsx("input",{type:"text",placeholder:"Search teams...",value:o,onChange:N=>a(N.target.value),className:"search-input"})}),i.jsx("div",{className:"filter-control",children:i.jsxs("select",{value:l,onChange:N=>c(N.target.value),className:"filter-select",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"}),i.jsx("option",{value:"completed",children:"Completed"})]})})]}),i.jsxs("div",{className:"teams-grid",children:[Array.isArray(s)&&s.map(N=>i.jsx(Wp,{team:N,onClick:()=>k(N),onMemberClick:E=>S(E,N.id)},N.id)),i.jsx(jo,{title:"Create New Team",onClick:()=>d(!0)})]}),s.length===0&&!w&&i.jsxs("div",{className:"empty-state",children:[i.jsx("h3",{children:"No teams found"}),i.jsx("p",{children:o||l!=="all"?"Try adjusting your search or filters":"Create your first team to get started"})]}),i.jsx(X1,{isOpen:u,onClose:()=>d(!1),onSubmit:m}),h&&v&&i.jsx(Y1,{member:h,teamId:v,onClose:T})]})},ew=({isOpen:e,onClose:t,onStartTeam:n,team:s,loading:r})=>{var p;const[o,a]=y.useState(""),[l,c]=y.useState(!0),[u,d]=y.useState([]),[h,g]=y.useState(!1),v=s==null?void 0:s.currentProject;y.useEffect(()=>{e&&(x(),v&&a(s.currentProject))},[e,v,s==null?void 0:s.currentProject]);const x=async()=>{g(!0);try{const f=await fetch("/api/projects");if(f.ok){const m=await f.json(),k=m.success?m.data||[]:m||[];d(Array.isArray(k)?k:[])}}catch(f){console.error("Error fetching projects:",f),d([])}finally{g(!1)}},w=f=>{if(f.preventDefault(),!v&&!o){alert("Please select a project");return}const m=v?s.currentProject:o;n(m,l),t()},j=()=>{if(!v)return"";const f=u.find(m=>m.id===s.currentProject);return f?f.name:"Unknown Project"};return i.jsxs(Wt,{isOpen:e,onClose:t,title:"Start Team",subtitle:`Configure settings for ${(s==null?void 0:s.name)||"team"}`,size:"xl",onSubmit:w,submitText:r?"Starting...":"Proceed",submitDisabled:r||!v&&!o,loading:r,children:[i.jsx(Ad,{title:"Project Assignment",description:v?void 0:"Select which project this team will work on",children:v?i.jsx("div",{className:"form-info-box form-info-box--success",children:i.jsxs("div",{className:"form-info-content",children:[i.jsx("strong",{children:"Already assigned to:"})," ",j()]})}):i.jsxs(me,{children:[i.jsx(re,{htmlFor:"project-select",required:!0,children:"Select Project"}),i.jsx(Ns,{id:"project-select",value:o,onChange:a,placeholder:"Choose a project...",loading:h,required:!0,options:u.map(f=>({value:f.id,label:`${f.name} (${f.path})`}))})]})}),i.jsx(Ad,{title:"Team Settings",children:i.jsx(me,{children:i.jsx(Yj,{checked:l,onChange:f=>c(f.target.checked),label:"Enable git reminder every 30 minutes",description:"Team members will receive automated reminders to commit their changes every 30 minutes"})})}),i.jsxs("div",{className:"form-info-box form-info-box--info",children:[i.jsx("div",{className:"form-info-header",children:i.jsxs("h4",{children:["Team: ",s==null?void 0:s.name]})}),i.jsxs("div",{className:"form-info-content",children:[i.jsxs("div",{children:["Members: ",((p=s==null?void 0:s.members)==null?void 0:p.length)||0]}),i.jsxs("div",{children:["Status: ",(s==null?void 0:s.status)||"idle"]})]})]})]})},tw=({team:e,teamStatus:t,orchestratorSessionActive:n,onStartTeam:s,onStopTeam:r,onViewTerminal:o,onDeleteTeam:a})=>{const l=(e==null?void 0:e.id)==="orchestrator"||(e==null?void 0:e.name)==="Orchestrator Team";return i.jsxs("div",{className:"page-header",children:[i.jsx("div",{className:"header-info",children:i.jsx("h1",{className:"page-title",children:e.name})}),i.jsxs("div",{className:"header-controls",children:[t==="idle"?i.jsx(X,{variant:"success",onClick:s,children:"Start Team"}):i.jsx(X,{variant:"secondary",onClick:r,children:"Stop Team"}),l&&i.jsx(X,{variant:"primary",onClick:o,icon:Uc,children:"View Terminal"}),!l&&i.jsx(X,{variant:"danger",onClick:a,children:"Delete Team"})]})]})},nw=({team:e,teamStatus:t,projectName:n})=>{var o,a;const s=((o=e==null?void 0:e.members)==null?void 0:o.filter(l=>l.sessionName).length)||0,r=((a=e==null?void 0:e.members)==null?void 0:a.length)||0;return i.jsxs(Hp,{variant:"horizontal",children:[i.jsx(cn,{label:"Team Status",variant:"horizontal",children:i.jsx("span",{className:`status-badge status-${t}`,children:t==null?void 0:t.toUpperCase()})}),i.jsx(cn,{label:"Active Members",variant:"horizontal",children:i.jsxs("span",{className:"score-card__value--number",children:[s," / ",r]})}),i.jsx(cn,{label:"Project",value:n||"None",variant:"horizontal"}),i.jsx(cn,{label:"Created",value:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A",variant:"horizontal"})]})},sw=({description:e})=>e?i.jsxs("div",{className:"team-description",children:[i.jsx("h3",{children:"Description"}),i.jsx("p",{children:e})]}):null,rw=({isVisible:e,onToggle:t,onAdd:n,onCancel:s,isOrchestratorTeam:r})=>{const[o,a]=y.useState({name:"",role:""}),l=()=>{if(!o.name.trim()||!o.role.trim()){alert("Please fill in both name and role");return}n(o),a({name:"",role:""})},c=()=>{a({name:"",role:""}),s()};return i.jsxs("div",{className:"members-header",children:[i.jsx("h3",{children:"Team Members"}),!r&&i.jsx(X,{variant:"primary",onClick:t,icon:Lt,children:"Add Member"}),e&&i.jsx("div",{className:"add-member-form",children:i.jsxs("div",{className:"form-row",children:[i.jsx("input",{type:"text",placeholder:"Member name",value:o.name,onChange:u=>a({...o,name:u.target.value}),className:"form-input"}),i.jsx("input",{type:"text",placeholder:"Role (e.g., Developer, PM, QA)",value:o.role,onChange:u=>a({...o,role:u.target.value}),className:"form-input"}),i.jsx(X,{variant:"success",onClick:l,children:"Add"}),i.jsx(X,{variant:"secondary",onClick:c,children:"Cancel"})]})})]})},iw=({member:e,onUpdate:t,onDelete:n,onStart:s,onStop:r,teamId:o})=>{const{openTerminalWithSession:a}=Zn(),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,g]=y.useState(!1),[v,x]=y.useState({name:e.name,role:e.role,runtimeType:e.runtimeType||"claude-code"}),w=()=>{x({name:e.name,role:e.role,runtimeType:e.runtimeType||"claude-code"}),c(!0)},j=()=>{t(e.id,v),c(!1)},p=()=>{x({name:e.name,role:e.role,runtimeType:e.runtimeType||"claude-code"}),c(!1)},f=()=>{window.confirm(`Are you sure you want to remove ${e.name} from the team?`)&&n(e.id)},m=async b=>{if(b.stopPropagation(),!(!s||!o)&&window.confirm(`Start ${e.name}?

This will:
• Create a tmux session for this team member
• Initialize Claude Code in the session
• Set member status to "activating"`)){d(!0);try{await s(e.id)}finally{d(!1)}}},k=async b=>{if(b.stopPropagation(),!(!r||!o)&&window.confirm(`Stop ${e.name}?

This will:
• Terminate the tmux session
• Set member status to "idle"`)){g(!0);try{await r(e.id)}finally{g(!1)}}},S=()=>{const b=e.agentStatus,H=e.workingStatus;return b==="activating"?{status:"ACTIVATING",color:"#3b82f6",shouldAnimate:!1}:b==="active"&&H==="in_progress"?{status:"RUNNING",color:"#10b981",shouldAnimate:!0}:b==="active"&&(H==="idle"||!H)?{status:"IDLE",color:"#10b981",shouldAnimate:!1}:b==="inactive"||!e.sessionName?{status:"INACTIVE",color:"#9ca3af",shouldAnimate:!1}:{status:"INACTIVE",color:"#9ca3af",shouldAnimate:!1}},T=()=>{e.sessionName&&!l&&(console.log("TeamMemberCard: Opening terminal for session:",e.sessionName),a(e.sessionName))},N=b=>b?`tmux session active: ${b} - Click to open terminal`:"No tmux session",E=e.sessionName&&!l,L=r&&o&&(e.agentStatus==="activating"||e.agentStatus==="active")&&!l,$=s&&o&&!L&&(e.agentStatus==="inactive"||!e.sessionName&&e.agentStatus!=="activating")&&!l;return i.jsxs("div",{className:`team-member-card ${E?"clickable":""}`,onClick:T,style:{cursor:E?"pointer":"default",transition:"all 0.2s ease"},title:E?N(e.sessionName):void 0,children:[i.jsxs("div",{className:"member-header",children:[i.jsx("div",{className:"member-avatar",children:i.jsx(Wc,{size:20})}),i.jsx("div",{className:"member-basic-info",children:l?i.jsxs("div",{className:"edit-form",children:[i.jsx("input",{type:"text",value:v.name,onChange:b=>x({...v,name:b.target.value}),className:"member-name-input",placeholder:"Member name"}),i.jsxs("select",{value:v.role,onChange:b=>x({...v,role:b.target.value}),className:"member-role-input",children:[i.jsx("option",{value:"",children:"Select a role..."}),i.jsx("option",{value:"orchestrator",children:"Orchestrator"}),i.jsx("option",{value:"tpm",children:"Technical Product Manager"}),i.jsx("option",{value:"pgm",children:"Program Manager"}),i.jsx("option",{value:"developer",children:"Developer"}),i.jsx("option",{value:"frontend-developer",children:"Frontend Developer"}),i.jsx("option",{value:"backend-developer",children:"Backend Developer"}),i.jsx("option",{value:"qa",children:"QA Engineer"}),i.jsx("option",{value:"tester",children:"Test Engineer"}),i.jsx("option",{value:"designer",children:"Designer"})]}),i.jsxs("select",{value:v.runtimeType,onChange:b=>x({...v,runtimeType:b.target.value}),className:"member-runtime-input",title:"Select the AI runtime for this team member",children:[i.jsx("option",{value:"claude-code",children:"Claude Code"}),i.jsx("option",{value:"gemini-cli",children:"Gemini CLI"}),i.jsx("option",{value:"codex-cli",children:"Codex CLI"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("h4",{className:"member-name",children:e.name}),i.jsx("p",{className:"member-role",children:e.role})]})}),i.jsx("div",{className:"member-actions",children:l?i.jsxs("div",{className:"edit-actions",children:[i.jsx("button",{onClick:j,className:"action-btn save-btn",title:"Save changes",children:i.jsx(Np,{size:16})}),i.jsx("button",{onClick:p,className:"action-btn cancel-btn",title:"Cancel editing",children:i.jsx(Yn,{size:16})})]}):i.jsxs("div",{className:"member-controls",children:[$&&i.jsx("button",{onClick:m,className:"action-btn start-btn",title:"Start this team member",disabled:u,children:i.jsx(Jn,{size:16})}),L&&i.jsx("button",{onClick:k,className:"action-btn stop-btn",title:"Stop this team member",disabled:h,children:i.jsx(Sp,{size:16})}),i.jsx("button",{onClick:w,className:"action-btn edit-btn",title:"Edit member",children:i.jsx(Hx,{size:16})}),i.jsx("button",{onClick:f,className:"action-btn delete-btn",title:"Remove member",children:i.jsx(Bc,{size:16})})]})})]}),i.jsxs("div",{className:"member-details",children:[i.jsx("div",{className:"member-status-row",children:i.jsxs("div",{className:"status-item",children:[i.jsx("span",{className:"status-label",children:"Status:"}),i.jsxs("div",{className:"status-circle-container",children:[i.jsx("div",{className:`status-circle ${S().shouldAnimate?"pulsing":""}`,style:{backgroundColor:S().color,width:"12px",height:"12px",borderRadius:"50%",display:"inline-block",marginRight:"6px",animation:S().shouldAnimate?"pulse-status 2s infinite":"none"}}),i.jsx("span",{className:"status-text",children:S().status})]})]})}),i.jsxs("div",{className:"member-meta",children:[i.jsxs("div",{className:"meta-item",children:[i.jsx("span",{className:"meta-label",children:"Last Update:"}),i.jsx("span",{className:"meta-value",children:new Date(e.updatedAt).toLocaleString()})]}),e.lastActivityCheck&&i.jsxs("div",{className:"meta-item",children:[i.jsx("span",{className:"meta-label",children:"Activity Check:"}),i.jsx("span",{className:"meta-value",children:new Date(e.lastActivityCheck).toLocaleString()})]}),e.sessionName&&i.jsxs("div",{className:"meta-item",children:[i.jsx("span",{className:"meta-label",children:"Session:"}),i.jsx("code",{className:"session-name",children:e.sessionName})]}),i.jsxs("div",{className:"meta-item",children:[i.jsx("span",{className:"meta-label",children:"Runtime:"}),i.jsx("span",{className:"meta-value runtime-type",children:e.runtimeType?e.runtimeType.replace("-"," ").replace(/\b\w/g,b=>b.toUpperCase()):"Claude Code"})]})]})]})]})},ow=({team:e,teamId:t,onUpdateMember:n,onDeleteMember:s,onStartMember:r,onStopMember:o})=>{var a,l;return i.jsxs("div",{className:"members-list",children:[(a=e==null?void 0:e.members)==null?void 0:a.map(c=>i.jsx(iw,{member:c,onUpdate:n,onDelete:s,onStart:r,onStop:o,teamId:t},c.id)),!((l=e==null?void 0:e.members)!=null&&l.length)&&i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"No team members yet. Add members to get started."})})]})},aw=({team:e,teamId:t,teamStatus:n,projectName:s,onAddMember:r,onUpdateMember:o,onDeleteMember:a,onStartMember:l,onStopMember:c})=>{const[u,d]=y.useState(!1),h=(e==null?void 0:e.id)==="orchestrator"||(e==null?void 0:e.name)==="Orchestrator Team",g=()=>{d(!u)},v=()=>{d(!1)},x=w=>{r(w),d(!1)};return i.jsxs("div",{className:"tab-content",children:[i.jsx(nw,{team:e,teamStatus:n,projectName:s}),i.jsx(sw,{description:e==null?void 0:e.description}),i.jsxs("div",{className:"members-section",children:[i.jsx(rw,{isVisible:u,onToggle:g,onAdd:x,onCancel:v,isOrchestratorTeam:h}),i.jsx(ow,{team:e,teamId:t,onUpdateMember:o,onDeleteMember:a,onStartMember:l,onStopMember:c})]})]})},lw=()=>{const{id:e}=xp(),t=Xn(),{openTerminalWithSession:n}=Zn(),[s,r]=y.useState(null),[o,a]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,g]=y.useState(!1),[v,x]=y.useState(null);y.useEffect(()=>{e&&(w(),(e==="orchestrator"||(s==null?void 0:s.name)==="Orchestrator Team")&&j())},[e,s==null?void 0:s.name]),y.useEffect(()=>{s!=null&&s.currentProject?p(s.currentProject):x(null)},[s==null?void 0:s.currentProject]);const w=async()=>{try{const P=await fetch(`/api/teams/${e}`);if(P.ok){const R=await P.json();R.success&&R.data&&r(R.data)}}catch(P){console.error("Error fetching team data:",P)}finally{a(!1)}},j=async()=>{try{const P=await fetch("/api/terminal/sessions");if(P.ok){const R=await P.json();if(R.success&&R.data){const O=R.data.some(I=>I.sessionName==="agentmux-orc");c(O)}}}catch(P){console.error("Error checking orchestrator session:",P),c(!1)}},p=async P=>{try{const R=await fetch("/api/projects");if(R.ok){const O=await R.json(),ee=(O.success?O.data||[]:O||[]).find(D=>D.id===P);x(ee?ee.name:P)}else x(P)}catch(R){console.error("Error fetching project name:",R),x(P)}},f=()=>{d(!0)},m=async(P,R)=>{g(!0);try{const O=await fetch(`/api/teams/${e}/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:P,enableGitReminder:R})}),I=await O.json();O.ok?(d(!1),w(),alert(I.message||"Team started successfully!")):alert(I.error||"Failed to start team")}catch(O){console.error("Error starting team:",O),alert("Error starting team. Please try again.")}finally{g(!1)}},k=async()=>{try{if((s==null?void 0:s.id)==="orchestrator"||(s==null?void 0:s.name)==="Orchestrator Team"){const P=await fetch("/api/orchestrator/stop",{method:"POST",headers:{"Content-Type":"application/json"}});if(P.ok)w(),j();else{const R=await P.json();alert(R.error||"Failed to stop orchestrator")}}else(await fetch(`/api/teams/${e}/stop`,{method:"POST"})).ok&&w()}catch(P){console.error("Error stopping team:",P)}},S=async()=>{if(!s)return;if(s.id==="orchestrator"||s.name==="Orchestrator Team"){alert("The Orchestrator Team cannot be deleted as it is required for system operations.");return}const P=`Are you sure you want to delete team "${s.name}"?

This will:
- Delete the team and all its members
- Kill all associated tmux sessions
- Remove all team data permanently

This action cannot be undone.`;if(window.confirm(P))try{await fetch(`/api/teams/${e}/stop`,{method:"POST"});const R=await fetch(`/api/teams/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(R.ok)t("/teams");else{const O=await R.text();alert("Failed to delete team: "+O)}}catch(R){console.error("Error deleting team:",R),alert("Failed to delete team: "+(R instanceof Error?R.message:"Unknown error"))}},T=()=>{var R;return(s==null?void 0:s.id)==="orchestrator"||(s==null?void 0:s.name)==="Orchestrator Team"?l?"active":"idle":((R=s==null?void 0:s.members)==null?void 0:R.some(O=>O.sessionName))?"active":"idle"},N=()=>{((s==null?void 0:s.id)==="orchestrator"||(s==null?void 0:s.name)==="Orchestrator Team")&&n("agentmux-orc")},E=async P=>{if(!P.name.trim()||!P.role.trim()){alert("Please fill in both name and role");return}try{const R=await fetch(`/api/teams/${e}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(R.ok)w();else{const O=await R.text();alert("Failed to add member: "+O)}}catch(R){console.error("Error adding member:",R),alert("Failed to add member")}},L=async(P,R)=>{try{if("runtimeType"in R&&R.runtimeType){const I=await fetch(`/api/teams/${e}/members/${P}/runtime`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({runtimeType:R.runtimeType})});if(I.ok){w();return}else{const ee=await I.json();alert("Failed to update member runtime: "+(ee.error||"Unknown error"));return}}const O=await fetch(`/api/teams/${e}/members/${P}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(O.ok)w();else{const I=await O.text();alert("Failed to update member: "+I)}}catch(O){console.error("Error updating member:",O),alert("Failed to update member")}},$=async P=>{try{const R=await fetch(`/api/teams/${e}/members/${P}`,{method:"DELETE"});if(R.ok)w();else{const O=await R.text();alert("Failed to remove member: "+O)}}catch(R){console.error("Error removing member:",R),alert("Failed to remove member")}},b=async P=>{try{if((s==null?void 0:s.id)==="orchestrator"||(s==null?void 0:s.name)==="Orchestrator Team"){const R=await fetch("/api/orchestrator/setup",{method:"POST",headers:{"Content-Type":"application/json"}}),O=await R.json();R.ok?(w(),j(),console.log("Orchestrator setup successfully")):alert(O.error||"Failed to setup orchestrator")}else{const R=await fetch(`/api/teams/${e}/members/${P}/start`,{method:"POST",headers:{"Content-Type":"application/json"}}),O=await R.json();R.ok?(w(),console.log(`Member ${P} started successfully`)):alert(O.error||"Failed to start team member")}}catch(R){console.error("Error starting team member:",R),alert("Error starting team member. Please try again.")}},H=async P=>{try{if((s==null?void 0:s.id)==="orchestrator"||(s==null?void 0:s.name)==="Orchestrator Team"){const R=await fetch("/api/orchestrator/stop",{method:"POST",headers:{"Content-Type":"application/json"}}),O=await R.json();R.ok?(w(),j(),console.log("Orchestrator stopped successfully")):alert(O.error||"Failed to stop orchestrator")}else{const R=await fetch(`/api/teams/${e}/members/${P}/stop`,{method:"POST",headers:{"Content-Type":"application/json"}}),O=await R.json();R.ok?(w(),console.log(`Member ${P} stopped successfully`)):alert(O.error||"Failed to stop team member")}}catch(R){console.error("Error stopping team member:",R),alert("Error stopping team member. Please try again.")}};return o?i.jsx("div",{className:"team-detail",children:i.jsx("div",{className:"loading-state",children:"Loading team details..."})}):s?i.jsxs("div",{className:"team-detail",children:[i.jsx(tw,{team:s,teamStatus:T(),orchestratorSessionActive:l,onStartTeam:f,onStopTeam:k,onViewTerminal:N,onDeleteTeam:S}),i.jsx(aw,{team:s,teamId:e,teamStatus:T(),projectName:v,onAddMember:E,onUpdateMember:L,onDeleteMember:$,onStartMember:b,onStopMember:H}),i.jsx(ew,{isOpen:u,onClose:()=>d(!1),onStartTeam:m,team:s,loading:h})]}):i.jsx("div",{className:"team-detail",children:i.jsxs("div",{className:"error-state",children:[i.jsx("h2",{children:"Team not found"}),i.jsx("p",{children:"The requested team could not be found."})]})})},cw=({filterStatus:e,filterTeam:t,assignments:n,onStatusChange:s,onTeamChange:r})=>{const o=Array.from(new Set(n.map(a=>a.teamName)));return i.jsxs("div",{className:"filter-controls",children:[i.jsxs("select",{value:e,onChange:a=>s(a.target.value),children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"todo",children:"Todo"}),i.jsx("option",{value:"in-progress",children:"In Progress"}),i.jsx("option",{value:"review",children:"Review"}),i.jsx("option",{value:"done",children:"Done"})]}),i.jsxs("select",{value:t,onChange:a=>r(a.target.value),children:[i.jsx("option",{value:"all",children:"All Teams"}),o.map(a=>i.jsx("option",{value:a,children:a},a))]})]})},uw=({viewMode:e,assignedProjects:t,assignedTeams:n,onViewModeChange:s})=>i.jsxs("div",{className:"view-toggle",children:[i.jsxs("button",{className:`toggle-btn ${e==="projects"?"active":""}`,onClick:()=>s("projects"),children:[i.jsx($e,{size:16}),"Projects (",t.length,")"]}),i.jsxs("button",{className:`toggle-btn ${e==="teams"?"active":""}`,onClick:()=>s("teams"),children:[i.jsx(ft,{size:16}),"Teams (",n.length,")"]})]}),Qd=({type:e,icon:t,title:n,description:s})=>i.jsxs("div",{className:"empty-state",children:[i.jsx(t,{size:48}),i.jsx("h3",{children:n}),i.jsx("p",{children:s})]}),dw=({project:e,teams:t,onMemberClick:n,onOrchestratorClick:s,onUnassignTeam:r})=>{const o=t.filter(a=>a.currentProject===e.id);return i.jsxs("div",{className:"assignment-card project-card",children:[i.jsxs("div",{className:"assignment-header",children:[i.jsxs("div",{className:"project-info",children:[i.jsx($e,{size:20}),i.jsx("h3",{children:e.name})]}),i.jsx("div",{className:`status-badge project-status-${e.status}`,children:e.status})]}),i.jsx("p",{className:"assignment-description",children:e.description}),i.jsxs("div",{className:"assignment-meta",children:[i.jsxs("div",{className:"project-teams",children:[i.jsx(ft,{size:14}),i.jsxs("span",{children:[o.length," team",o.length!==1?"s":""," assigned"]})]}),i.jsxs("div",{className:"project-path",children:[i.jsx(Fs,{size:14}),i.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]}),o.length>0&&i.jsx("div",{className:"project-teams-list",children:o.map(a=>i.jsxs("div",{className:"team-with-members",children:[i.jsxs("div",{className:"team-header-item",children:[i.jsxs("span",{className:"team-chip clickable",onClick:()=>s(),title:"Click to view orchestrator terminal",children:[i.jsx("span",{className:`status-dot status-${a.members.some(l=>l.agentStatus==="active")?"active":"inactive"}`}),a.name," (",a.members.length," members)"]}),i.jsx("button",{className:"unassign-team-btn small",onClick:l=>{l.stopPropagation(),r(a.id,a.name,e.id)},title:"Unassign team from project",children:i.jsx(Vc,{size:12})})]}),a.members.length>0&&i.jsx("div",{className:"team-members-tree",children:a.members.map(l=>i.jsxs("div",{className:"member-tree-item clickable",onClick:()=>n(l.id,l.name,a.id),title:`Click to view ${l.name}'s terminal`,children:[i.jsx("span",{className:`member-status-dot status-${l.agentStatus}`}),i.jsx("span",{className:"member-name",children:l.name}),i.jsxs("span",{className:"member-role",children:["(",l.role,")"]}),l.sessionName&&i.jsx("span",{className:"session-indicator",title:`Session: ${l.sessionName}`,children:i.jsx(Ic,{size:12})})]},l.id))})]},a.id))})]},e.id)},fw=({team:e,projects:t,onUnassignTeam:n})=>{const s=t.find(r=>r.id===e.currentProject);return i.jsxs("div",{className:"assignment-card team-card",children:[i.jsxs("div",{className:"assignment-header",children:[i.jsxs("div",{className:"team-info",children:[i.jsx(ft,{size:20}),i.jsx("h3",{children:e.name})]}),i.jsxs("div",{className:"team-header-actions",children:[i.jsx("div",{className:`status-badge team-status-${e.members.some(r=>r.agentStatus==="active")?"active":"inactive"}`,children:e.members.some(r=>r.agentStatus==="active")?"active":"inactive"}),i.jsx("button",{className:"unassign-team-btn",onClick:r=>{r.stopPropagation(),n(e.id,e.name,e.currentProject)},title:"Unassign team from project",children:i.jsx(Vc,{size:16})})]})]}),i.jsx("p",{className:"assignment-description",children:e.description}),i.jsxs("div",{className:"assignment-meta",children:[i.jsxs("div",{className:"team-project",children:[i.jsx($e,{size:14}),i.jsxs("span",{children:["Project: ",(s==null?void 0:s.name)||"Unknown"]})]}),i.jsxs("div",{className:"team-members-count",children:[i.jsx(Ic,{size:14}),i.jsxs("span",{children:[e.members.length," member",e.members.length!==1?"s":""]})]})]}),e.members.length>0&&i.jsxs("div",{className:"team-members-preview",children:[e.members.slice(0,4).map(r=>i.jsxs("span",{className:"member-chip",children:[i.jsx("span",{className:`status-dot status-${r.agentStatus}`}),r.name," (",r.role,")"]},r.id)),e.members.length>4&&i.jsxs("span",{className:"more-members",children:["+",e.members.length-4," more"]})]})]},e.id)},hw=({viewMode:e,assignedProjects:t,assignedTeams:n,teams:s,projects:r,onMemberClick:o,onOrchestratorClick:a,onUnassignTeam:l})=>i.jsx("div",{className:"assignments-list",children:e==="projects"?i.jsx("div",{className:"projects-view",children:t.length===0?i.jsx(Qd,{type:"projects",icon:$e,title:"No Projects Assigned",description:"No teams have been assigned to any projects yet."}):t.map(c=>i.jsx(dw,{project:c,teams:s,onMemberClick:o,onOrchestratorClick:a,onUnassignTeam:l},c.id))}):i.jsx("div",{className:"teams-view",children:n.length===0?i.jsx(Qd,{type:"teams",icon:ft,title:"No Teams Assigned",description:"No teams have been assigned to projects yet."}):n.map(c=>i.jsx(fw,{team:c,projects:r,onUnassignTeam:l},c.id))})}),pw=({projects:e,teams:t,enhancedMembers:n,onMemberClick:s})=>{const r=e.filter(c=>t.some(u=>u.currentProject===c.id)).map(c=>{const u=n.filter(d=>{const h=t.find(g=>g.id===d.teamId);return h&&h.currentProject===c.id});return{project:c,teamMembers:u}}).filter(c=>c.teamMembers.length>0),o=c=>c.currentTask?i.jsx(Ic,{className:"status-icon active",size:16}):c.agentStatus==="active"?i.jsx(Vr,{className:"status-icon idle",size:16}):i.jsx(yo,{className:"status-icon inactive",size:16}),a=c=>c.currentTask?`Working on: ${c.currentTask.taskName}`:c.agentStatus==="active"?"Idle":"Inactive",l=c=>{const u=new Date,d=new Date(c),h=u.getTime()-d.getTime(),g=Math.floor(h/(1e3*60));if(g<1)return"Just now";if(g<60)return`${g}m ago`;const v=Math.floor(g/60);return v<24?`${v}h ago`:`${Math.floor(v/24)}d ago`};return r.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx($e,{size:48,className:"empty-icon"}),i.jsx("h3",{children:"No Active Project Assignments"}),i.jsx("p",{children:"No teams have been assigned to projects with active members yet."})]}):i.jsx("div",{className:"enhanced-assignments-list",children:r.map(({project:c,teamMembers:u})=>{const d=u.reduce((h,g)=>(h[g.teamId]||(h[g.teamId]={teamName:g.teamName,members:[]}),h[g.teamId].members.push(g),h),{});return i.jsxs("div",{className:"enhanced-project-card",children:[i.jsxs("div",{className:"project-header",children:[i.jsx($e,{size:20}),i.jsx("h2",{children:c.name}),i.jsx("span",{className:"project-status",children:c.status})]}),Object.entries(d).map(([h,g])=>i.jsxs("div",{className:"team-section",children:[i.jsxs("div",{className:"team-header",children:[i.jsx(ft,{size:18}),i.jsx("h3",{children:g.teamName}),i.jsxs("span",{className:"member-count",children:[g.members.length," member",g.members.length!==1?"s":""]})]}),i.jsx("div",{className:"members-list",children:g.members.map(v=>i.jsxs("div",{className:`member-item ${v.agentStatus} ${v.currentTask?"has-task":"idle"}`,onClick:()=>s(v.memberId,v.memberName,v.teamId),children:[i.jsxs("div",{className:"member-info",children:[i.jsxs("div",{className:"member-header",children:[i.jsx(Wc,{size:16}),i.jsx("span",{className:"member-name",children:v.memberName}),i.jsxs("span",{className:"member-role",children:["(",v.role,")"]}),o(v)]}),i.jsxs("div",{className:"member-status",children:[i.jsx("span",{className:"status-text",children:a(v)}),v.currentTask&&i.jsxs("div",{className:"task-details",children:[i.jsx(Fs,{size:12}),i.jsxs("span",{className:"task-time",children:["Started ",l(v.currentTask.assignedAt)]})]})]}),v.lastActivityCheck&&i.jsxs("div",{className:"activity-info",children:[i.jsxs("span",{className:"last-check",children:["Last checked: ",l(v.lastActivityCheck)]}),v.activityDetected&&i.jsx("span",{className:"activity-indicator",children:"• Active"})]})]}),v.error&&i.jsxs("div",{className:"member-error",children:[i.jsx(yo,{size:14}),i.jsx("span",{children:v.error})]})]},v.memberId))})]},h))]},c.id)})})},mw=()=>{const{openTerminalWithSession:e}=Zn(),[t,n]=y.useState([]),[s,r]=y.useState([]),[o,a]=y.useState([]),[l,c]=y.useState([]);y.useState(null);const[u,d]=y.useState("all"),[h,g]=y.useState("all"),[v,x]=y.useState("enhanced");y.useEffect(()=>(w(),k(),()=>{V.off("team_activity_updated",S)}),[]);const w=async()=>{await Promise.all([f(),j(),p(),m()])},j=async()=>{try{const b=await Rt.getProjects();r(b)}catch(b){console.error("Error loading projects:",b)}},p=async()=>{try{const b=await Rt.getTeams();a(b)}catch(b){console.error("Error loading teams:",b)}},f=async()=>{try{const b=await fetch("/api/assignments");if(b.ok){const H=await b.json();n(H)}}catch(b){console.error("Error fetching assignments:",b)}},m=async()=>{console.log("Enhanced team data will be loaded via WebSocket events")},k=async()=>{try{V.isConnected()||await V.connect(),V.on("team_activity_updated",S),console.log("WebSocket initialized for team activity monitoring")}catch(b){console.error("Failed to initialize WebSocket for team activity:",b)}},S=b=>{console.log("Received team activity update:",b),b.members&&c(b.members)},T=(b,H,P)=>{const R=o.find(O=>O.id===P);if(R){const O=R.name.replace(/\s+/g,"-").toLowerCase(),I=H.replace(/\s+/g,"-").toLowerCase(),ee=`${O}-${I}`;e(ee)}},N=()=>{e("agentmux-orc")},E=async(b,H,P)=>{if(!(!P||!window.confirm(`Are you sure you want to unassign "${H}" from their current project?

This will send a command to the orchestrator to delete the team's tmux sessions.`)))try{if(!(await fetch("/api/orchestrator/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:`unassign_team ${b} ${P}`})})).ok)throw new Error("Failed to execute orchestrator command");await Rt.unassignTeamFromProject(P,b),await w(),alert(`✅ Team "${H}" has been unassigned and their tmux sessions have been terminated.`)}catch(O){console.error("Failed to unassign team:",O),alert("❌ Failed to unassign team: "+(O instanceof Error?O.message:"Unknown error"))}},L=s.filter(b=>o.some(H=>H.currentProject===b.id)),$=o.filter(b=>b.currentProject);return i.jsxs("div",{className:"page assignments-page",children:[i.jsx("div",{className:"page-header",children:i.jsxs("div",{className:"header-info",children:[i.jsx("h1",{className:"page-title",children:"Assignments"}),i.jsx("p",{className:"page-description",children:"Track and manage project assignments and team orchestration"})]})}),i.jsx("div",{className:"assignments-layout",children:i.jsxs("div",{className:"assignments-panel",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h2",{children:"Active Projects & Teams"}),i.jsxs("div",{className:"header-controls",children:[i.jsx("button",{className:`view-toggle ${v==="enhanced"?"active":""}`,onClick:()=>x("enhanced"),children:"Task View"}),i.jsx(uw,{viewMode:v==="enhanced"?"projects":v,assignedProjects:L,assignedTeams:$,onViewModeChange:b=>x(b==="projects"?"enhanced":b)})]})]}),v!=="enhanced"&&i.jsx(cw,{filterStatus:u,filterTeam:h,assignments:t,onStatusChange:d,onTeamChange:g}),v==="enhanced"?i.jsx(pw,{projects:s,teams:o,enhancedMembers:l,onMemberClick:T}):i.jsx(hw,{viewMode:v,assignedProjects:L,assignedTeams:$,teams:o,projects:s,onMemberClick:T,onOrchestratorClick:N,onUnassignTeam:E})]})})]})},Kd=({message:e,onEdit:t,onDelete:n,onToggleActive:s,onRunNow:r,formatDate:o,onCardClick:a})=>{const l=e.isActive,c=`scheduled-message-card ${l?"":"completed"} ${a?"clickable":""}`,u=d=>{d.target.closest(".message-actions")||a==null||a(e)};return i.jsxs("div",{className:c,onClick:u,children:[i.jsxs("div",{className:"message-header",children:[i.jsxs("div",{className:"message-info",children:[i.jsx("h3",{className:"message-name",children:e.name}),i.jsxs("div",{className:`status-indicator ${l?"active":"completed"}`,children:[i.jsx(Vr,{className:"status-icon"}),l?"Active":"Completed"]})]}),i.jsxs("div",{className:"message-actions",children:[i.jsx("button",{className:"action-btn toggle-btn",onClick:d=>{d.stopPropagation(),s(e.id,e.isActive)},title:l?"Disable":"Re-activate",children:l?i.jsx(Bx,{size:16}):i.jsx(Jn,{size:16})}),l&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"action-btn edit-btn",onClick:d=>{d.stopPropagation(),t(e)},title:"Edit",children:i.jsx(Wx,{size:16})}),i.jsx("button",{className:"action-btn run-btn",onClick:d=>{d.stopPropagation(),r(e.id,e.name)},title:"Run now",children:i.jsx(Jn,{size:16})})]}),i.jsx("button",{className:"action-btn delete-btn",onClick:d=>{d.stopPropagation(),n(e.id,e.name)},title:"Delete",children:i.jsx(Bc,{size:16})})]})]}),i.jsxs("div",{className:"message-content-compact",children:[i.jsxs("div",{className:"message-details-row",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:"Target:"}),i.jsx("span",{className:"detail-value",children:e.targetTeam})]}),e.targetProject&&i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:"Project:"}),i.jsx("span",{className:"detail-value",children:e.targetProject})]})]}),i.jsxs("div",{className:"schedule-row",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:"Schedule:"}),i.jsxs("span",{className:"detail-value",children:[e.isRecurring?"Every":"Once after"," ",e.delayAmount," ",e.delayUnit]})]}),e.nextRun&&l&&i.jsxs("div",{className:"detail-item",children:[i.jsx(Fs,{size:14,className:"schedule-icon"}),i.jsxs("span",{className:"detail-value next-run",children:["Next: ",o(e.nextRun)]})]})]})]})]})},gw=({activeTab:e,setActiveTab:t,activeMessages:n,completedMessages:s})=>i.jsxs("div",{className:"scheduled-messages-tabs",children:[i.jsxs("button",{className:`tab ${e==="active"?"tab--active":""}`,onClick:()=>t("active"),children:["Active Messages (",n.length,")"]}),i.jsxs("button",{className:`tab ${e==="completed"?"tab--active":""}`,onClick:()=>t("completed"),children:["Completed Messages (",s.length,")"]})]}),Hl=({type:e,onCreateMessage:t})=>e==="active"?i.jsxs("div",{className:"empty-state",style:{padding:"4rem 2rem"},children:[i.jsx("div",{className:"empty-icon",children:i.jsx(Fs,{size:48,strokeWidth:1.5,style:{color:"#6B7280"}})}),i.jsx("h3",{className:"empty-title",children:"No active messages"}),i.jsx("p",{className:"empty-description",children:"Create your first scheduled message to send messages to teams and projects"}),i.jsxs("button",{className:"primary-button",onClick:t,style:{padding:"0.75rem 1.5rem",marginTop:"1rem"},children:[i.jsx(Lt,{className:"button-icon"}),"Create Scheduled Message"]})]}):e==="completed"?i.jsxs("div",{className:"empty-state",style:{padding:"4rem 2rem"},children:[i.jsx("div",{className:"empty-icon",children:i.jsx(Vr,{size:48,strokeWidth:1.5,style:{color:"#6B7280"}})}),i.jsx("h3",{className:"empty-title",children:"No completed messages"}),i.jsx("p",{className:"empty-description",children:"Completed one-time messages and deactivated recurring messages will appear here"})]}):e==="logs"?i.jsx("div",{className:"empty-logs",children:i.jsx("p",{children:"No delivery logs yet"})}):null,yw=[{value:"orchestrator",label:"Orchestrator"},{value:"frontend-team-pm",label:"Frontend Team PM"},{value:"frontend-team-dev",label:"Frontend Team Dev"},{value:"backend-team-pm",label:"Backend Team PM"},{value:"backend-team-dev",label:"Backend Team Dev"},{value:"backend-team-qa",label:"Backend Team QA"}],La={name:"",targetTeam:"orchestrator",targetProject:"",message:"",delayAmount:"5",delayUnit:"minutes",isRecurring:!1},vw=({isOpen:e,editingMessage:t,formData:n,setFormData:s,onClose:r,onSubmit:o})=>i.jsxs(Wt,{isOpen:e,onClose:r,title:t?"Edit Scheduled Message":"Create Scheduled Message",onSubmit:o,submitText:t?"Update":"Create",size:"xxl",children:[i.jsxs(me,{children:[i.jsx(re,{htmlFor:"name",required:!0,children:"Name"}),i.jsx(hr,{id:"name",value:n.name,onChange:a=>s({...n,name:a.target.value}),placeholder:"Daily status check",required:!0})]}),i.jsxs(me,{children:[i.jsx(re,{htmlFor:"targetTeam",required:!0,children:"Target Team"}),i.jsx(Ns,{id:"targetTeam",value:n.targetTeam,onChange:a=>s({...n,targetTeam:a}),required:!0,options:yw})]}),i.jsxs(me,{children:[i.jsx(re,{htmlFor:"targetProject",children:"Target Project (Optional)"}),i.jsx(hr,{id:"targetProject",value:n.targetProject,onChange:a=>s({...n,targetProject:a.target.value}),placeholder:"Project ID or name"})]}),i.jsxs(me,{children:[i.jsx(re,{htmlFor:"message",required:!0,children:"Message"}),i.jsx(Mr,{id:"message",value:n.message,onChange:a=>s({...n,message:a.target.value}),placeholder:"Please provide a status update on the current tasks",rows:8,required:!0}),i.jsx(xo,{children:"This message will be sent to the target team's tmux session"})]}),i.jsxs(me,{children:[i.jsx(re,{children:"Schedule"}),i.jsxs("div",{className:"schedule-controls",children:[i.jsxs("div",{className:"schedule-type",children:[i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"scheduleType",checked:!n.isRecurring,onChange:()=>s({...n,isRecurring:!1})}),i.jsxs("span",{className:"radio-label",children:[i.jsx("strong",{children:"One-time"}),i.jsx("small",{children:"Send message once after delay"})]})]}),i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"scheduleType",checked:n.isRecurring,onChange:()=>s({...n,isRecurring:!0})}),i.jsxs("span",{className:"radio-label",children:[i.jsx("strong",{children:"Recurring"}),i.jsx("small",{children:"Send message repeatedly at interval"})]})]})]}),i.jsxs("div",{className:"delay-input",children:[i.jsx("label",{className:"delay-label",children:n.isRecurring?"Send every:":"Send after:"}),i.jsxs("div",{className:"delay-controls",children:[i.jsx("input",{type:"number",min:"1",value:n.delayAmount,onChange:a=>s({...n,delayAmount:a.target.value}),required:!0}),i.jsx(Ns,{value:n.delayUnit,onChange:a=>s({...n,delayUnit:a}),options:[{value:"seconds",label:"seconds"},{value:"minutes",label:"minutes"},{value:"hours",label:"hours"}]})]})]})]})]})]}),xw=({deliveryLogs:e,formatDate:t,onClearLogs:n})=>{const s=async()=>{confirm("Clear all delivery logs?")&&await n()};return i.jsxs("div",{className:"delivery-logs-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Message Delivery Logs"}),i.jsx("button",{className:"btn btn-secondary",onClick:s,style:{padding:"0.75rem 1.5rem"},children:"Clear Logs"})]}),e.length>0?i.jsxs("div",{className:"delivery-logs-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("div",{className:"col-time",children:"Time"}),i.jsx("div",{className:"col-message",children:"Message"}),i.jsx("div",{className:"col-target",children:"Target"}),i.jsx("div",{className:"col-status",children:"Status"})]}),e.slice(0,50).map(r=>i.jsxs("div",{className:`table-row ${r.success?"success":"error"}`,children:[i.jsx("div",{className:"col-time",children:t(r.sentAt)}),i.jsxs("div",{className:"col-message",children:[i.jsx("div",{className:"message-name",children:r.messageName}),i.jsxs("div",{className:"message-content",children:[r.message.substring(0,100),"..."]})]}),i.jsxs("div",{className:"col-target",children:[i.jsx("div",{className:"target-team",children:r.targetTeam}),r.targetProject&&i.jsx("div",{className:"target-project",children:r.targetProject})]}),i.jsx("div",{className:"col-status",children:r.success?i.jsx("span",{className:"status-success",children:"✓ Delivered"}):i.jsx("span",{className:"status-error",title:r.error,children:"✗ Failed"})})]},r.id))]}):i.jsx(Hl,{type:"logs"})]})},jw=()=>{const[e,t]=y.useState([]),[n,s]=y.useState([]),[r,o]=y.useState(!0),[a,l]=y.useState(!1),[c,u]=y.useState(null),[d,h]=y.useState(La);y.useEffect(()=>{g(),v()},[]);const g=async()=>{try{o(!0);const N=await fetch("/api/scheduled-messages");if(N.ok){const E=await N.json();t(E.data||[])}}catch(N){console.error("Error loading scheduled messages:",N)}finally{o(!1)}},v=async()=>{try{const N=await fetch("/api/message-delivery-logs");if(N.ok){const E=await N.json();s(E.data||[])}}catch(N){console.error("Error loading delivery logs:",N)}},x=async N=>{N.preventDefault();try{const E=c?`/api/scheduled-messages/${c.id}`:"/api/scheduled-messages",$=await fetch(E,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if($.ok)await g(),await v(),k();else{const b=await $.text();alert("Failed to save scheduled message: "+b)}}catch(E){console.error("Error saving scheduled message:",E),alert("Failed to save scheduled message: "+(E instanceof Error?E.message:"Unknown error"))}},w=async(N,E)=>{if(window.confirm(`Are you sure you want to delete "${E}"?`))try{const L=await fetch(`/api/scheduled-messages/${N}`,{method:"DELETE"});if(L.ok)await g();else{const $=await L.text();alert("Failed to delete scheduled message: "+$)}}catch(L){console.error("Error deleting scheduled message:",L),alert("Failed to delete scheduled message: "+(L instanceof Error?L.message:"Unknown error"))}},j=async(N,E)=>{try{const L=await fetch(`/api/scheduled-messages/${N}/toggle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!E})});if(L.ok)await g();else{const $=await L.text();alert("Failed to toggle scheduled message: "+$)}}catch(L){console.error("Error toggling scheduled message:",L),alert("Failed to toggle scheduled message: "+(L instanceof Error?L.message:"Unknown error"))}},p=async(N,E)=>{if(window.confirm(`Run "${E}" now?`))try{const L=await fetch(`/api/scheduled-messages/${N}/run`,{method:"POST"});if(L.ok)alert("Scheduled message executed successfully!"),await g(),await v();else{const $=await L.text();alert("Failed to run scheduled message: "+$)}}catch(L){console.error("Error running scheduled message:",L),alert("Failed to run scheduled message: "+(L instanceof Error?L.message:"Unknown error"))}},f=N=>{u(N),h({name:N.name,targetTeam:N.targetTeam,targetProject:N.targetProject||"",message:N.message,delayAmount:N.delayAmount.toString(),delayUnit:N.delayUnit,isRecurring:N.isRecurring}),l(!0)},m=()=>{u(null),h(La),l(!0)},k=()=>{l(!1),u(null),h(La)};return{scheduledMessages:e,deliveryLogs:n,loading:r,showCreateModal:a,editingMessage:c,formData:d,setFormData:h,handleSubmit:x,handleDelete:w,handleToggleActive:j,handleRunNow:p,handleEdit:f,handleCreate:m,handleCloseModal:k,clearDeliveryLogs:async()=>{try{(await fetch("/api/message-delivery-logs",{method:"DELETE"})).ok&&s([])}catch(N){console.error("Error clearing logs:",N)}},formatDate:N=>new Date(N).toLocaleString()}},ww=()=>{const[e,t]=y.useState("active"),{scheduledMessages:n,deliveryLogs:s,loading:r,showCreateModal:o,editingMessage:a,formData:l,setFormData:c,handleSubmit:u,handleDelete:d,handleToggleActive:h,handleRunNow:g,handleEdit:v,handleCreate:x,handleCloseModal:w,clearDeliveryLogs:j,formatDate:p}=jw(),f=n.filter(k=>k.isActive),m=n.filter(k=>!k.isActive);return r?i.jsxs("div",{className:"page scheduled-checkins-page",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading scheduled check-ins..."})]}):i.jsxs("div",{className:"page scheduled-checkins-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsxs("div",{className:"header-info",children:[i.jsx("h1",{className:"page-title",children:"Scheduled Messages"}),i.jsx("p",{className:"page-description",children:"Create and manage scheduled messages for teams and projects"})]}),i.jsxs("button",{className:"primary-button",onClick:x,children:[i.jsx(Lt,{className:"button-icon"}),"New Scheduled Message"]})]}),i.jsx(gw,{activeTab:e,setActiveTab:t,activeMessages:f,completedMessages:m}),i.jsx("div",{className:"scheduled-messages-content",children:e==="active"?f.length>0?i.jsx("div",{className:"scheduled-messages-grid",children:f.map(k=>i.jsx(Kd,{message:k,onEdit:v,onDelete:d,onToggleActive:h,onRunNow:g,formatDate:p,onCardClick:v},k.id))}):i.jsx(Hl,{type:"active",onCreateMessage:x}):m.length>0?i.jsx("div",{className:"scheduled-messages-grid",children:m.map(k=>i.jsx(Kd,{message:k,onEdit:v,onDelete:d,onToggleActive:h,onRunNow:g,formatDate:p,onCardClick:v},k.id))}):i.jsx(Hl,{type:"completed"})}),i.jsx(xw,{deliveryLogs:s,formatDate:p,onClearLogs:j}),i.jsx(vw,{isOpen:o,editingMessage:a,formData:l,setFormData:c,onClose:w,onSubmit:u})]})};function kw(){return i.jsx(Yx,{children:i.jsx(Nx,{children:i.jsx(px,{children:i.jsxs($t,{path:"/",element:i.jsx(n0,{}),children:[i.jsx($t,{index:!0,element:i.jsx($1,{})}),i.jsx($t,{path:"projects",element:i.jsx(I1,{})}),i.jsx($t,{path:"projects/:id",element:i.jsx(G1,{})}),i.jsx($t,{path:"teams",element:i.jsx(Z1,{})}),i.jsx($t,{path:"teams/:id",element:i.jsx(lw,{})}),i.jsx($t,{path:"assignments",element:i.jsx(mw,{})}),i.jsx($t,{path:"scheduled-checkins",element:i.jsx(ww,{})})]})})})})}Ma.createRoot(document.getElementById("root")).render(i.jsx(af.StrictMode,{children:i.jsx(kw,{})}));
//# sourceMappingURL=index-9cd128cd.js.map
