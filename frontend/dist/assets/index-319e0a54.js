var eg=Object.defineProperty;var tg=(e,t,n)=>t in e?eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var dt=(e,t,n)=>(tg(e,typeof t!="symbol"?t+"":t,n),n);function ng(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function rg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nf={exports:{}},Ci={},rf={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=Symbol.for("react.element"),sg=Symbol.for("react.portal"),og=Symbol.for("react.fragment"),ig=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),lg=Symbol.for("react.provider"),cg=Symbol.for("react.context"),ug=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),fg=Symbol.for("react.memo"),hg=Symbol.for("react.lazy"),pu=Symbol.iterator;function pg(e){return e===null||typeof e!="object"?null:(e=pu&&e[pu]||e["@@iterator"],typeof e=="function"?e:null)}var sf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},of=Object.assign,af={};function Or(e,t,n){this.props=e,this.context=t,this.refs=af,this.updater=n||sf}Or.prototype.isReactComponent={};Or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lf(){}lf.prototype=Or.prototype;function Zl(e,t,n){this.props=e,this.context=t,this.refs=af,this.updater=n||sf}var ec=Zl.prototype=new lf;ec.constructor=Zl;of(ec,Or.prototype);ec.isPureReactComponent=!0;var mu=Array.isArray,cf=Object.prototype.hasOwnProperty,tc={current:null},uf={key:!0,ref:!0,__self:!0,__source:!0};function df(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)cf.call(t,r)&&!uf.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Is,type:e,key:i,ref:a,props:s,_owner:tc.current}}function mg(e,t){return{$$typeof:Is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Is}function gg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gu=/\/+/g;function ra(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gg(""+e.key):t.toString(36)}function Co(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Is:case sg:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+ra(a,0):r,mu(s)?(n="",e!=null&&(n=e.replace(gu,"$&/")+"/"),Co(s,t,n,"",function(u){return u})):s!=null&&(nc(s)&&(s=mg(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(gu,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",mu(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+ra(i,l);a+=Co(i,t,n,c,s)}else if(c=pg(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+ra(i,l++),a+=Co(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function oo(e,t,n){if(e==null)return e;var r=[],s=0;return Co(e,r,"","",function(i){return t.call(n,i,s++)}),r}function yg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},To={transition:null},xg={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:To,ReactCurrentOwner:tc};function ff(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:oo,forEach:function(e,t,n){oo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oo(e,function(){t++}),t},toArray:function(e){return oo(e,function(t){return t})||[]},only:function(e){if(!nc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=Or;Y.Fragment=og;Y.Profiler=ag;Y.PureComponent=Zl;Y.StrictMode=ig;Y.Suspense=dg;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xg;Y.act=ff;Y.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=of({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=tc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)cf.call(t,c)&&!uf.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Is,type:e.type,key:s,ref:i,props:r,_owner:a}};Y.createContext=function(e){return e={$$typeof:cg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lg,_context:e},e.Consumer=e};Y.createElement=df;Y.createFactory=function(e){var t=df.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:ug,render:e}};Y.isValidElement=nc;Y.lazy=function(e){return{$$typeof:hg,_payload:{_status:-1,_result:e},_init:yg}};Y.memo=function(e,t){return{$$typeof:fg,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=To.transition;To.transition={};try{e()}finally{To.transition=t}};Y.unstable_act=ff;Y.useCallback=function(e,t){return ze.current.useCallback(e,t)};Y.useContext=function(e){return ze.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};Y.useEffect=function(e,t){return ze.current.useEffect(e,t)};Y.useId=function(){return ze.current.useId()};Y.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};Y.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return ze.current.useMemo(e,t)};Y.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};Y.useRef=function(e){return ze.current.useRef(e)};Y.useState=function(e){return ze.current.useState(e)};Y.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};Y.useTransition=function(){return ze.current.useTransition()};Y.version="18.3.1";rf.exports=Y;var y=rf.exports;const Ti=rg(y),vg=ng({__proto__:null,default:Ti},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=y,wg=Symbol.for("react.element"),kg=Symbol.for("react.fragment"),bg=Object.prototype.hasOwnProperty,Ng=jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sg={key:!0,ref:!0,__self:!0,__source:!0};function hf(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)bg.call(t,r)&&!Sg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:wg,type:e,key:i,ref:a,props:s,_owner:Ng.current}}Ci.Fragment=kg;Ci.jsx=hf;Ci.jsxs=hf;nf.exports=Ci;var o=nf.exports,Ua={},pf={exports:{}},at={},mf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,I){var W=F.length;F.push(I);e:for(;0<W;){var M=W-1>>>1,q=F[M];if(0<s(q,I))F[M]=I,F[W]=q,W=M;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var I=F[0],W=F.pop();if(W!==I){F[0]=W;e:for(var M=0,q=F.length,re=q>>>1;M<re;){var T=2*(M+1)-1,U=F[T],K=T+1,se=F[K];if(0>s(U,W))K<q&&0>s(se,U)?(F[M]=se,F[K]=W,M=K):(F[M]=U,F[T]=W,M=T);else if(K<q&&0>s(se,W))F[M]=se,F[K]=W,M=K;else break e}}return I}function s(F,I){var W=F.sortIndex-I.sortIndex;return W!==0?W:F.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,j=!1,v=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(F){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=F)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function x(F){if(w=!1,m(F),!v)if(n(c)!==null)v=!0,k(C);else{var I=n(u);I!==null&&B(x,I.startTime-F)}}function C(F,I){v=!1,w&&(w=!1,g(P),P=-1),j=!0;var W=p;try{for(m(I),h=n(c);h!==null&&(!(h.expirationTime>I)||F&&!R());){var M=h.callback;if(typeof M=="function"){h.callback=null,p=h.priorityLevel;var q=M(h.expirationTime<=I);I=e.unstable_now(),typeof q=="function"?h.callback=q:h===n(c)&&r(c),m(I)}else r(c);h=n(c)}if(h!==null)var re=!0;else{var T=n(u);T!==null&&B(x,T.startTime-I),re=!1}return re}finally{h=null,p=W,j=!1}}var O=!1,N=null,P=-1,A=5,_=-1;function R(){return!(e.unstable_now()-_<A)}function L(){if(N!==null){var F=e.unstable_now();_=F;var I=!0;try{I=N(!0,F)}finally{I?H():(O=!1,N=null)}}else O=!1}var H;if(typeof f=="function")H=function(){f(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=L,H=function(){J.postMessage(null)}}else H=function(){b(L,0)};function k(F){N=F,O||(O=!0,H())}function B(F,I){P=b(function(){F(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){v||j||(v=!0,k(C))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var W=p;p=I;try{return F()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,I){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=p;p=F;try{return I()}finally{p=W}},e.unstable_scheduleCallback=function(F,I,W){var M=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?M+W:M):W=M,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,F={id:d++,callback:I,priorityLevel:F,startTime:W,expirationTime:q,sortIndex:-1},W>M?(F.sortIndex=W,t(u,F),n(c)===null&&F===n(u)&&(w?(g(P),P=-1):w=!0,B(x,W-M))):(F.sortIndex=q,t(c,F),v||j||(v=!0,k(C))),F},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(F){var I=p;return function(){var W=p;p=I;try{return F.apply(this,arguments)}finally{p=W}}}})(gf);mf.exports=gf;var Cg=mf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg=y,it=Cg;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yf=new Set,ys={};function Qn(e,t){kr(e,t),kr(e+"Capture",t)}function kr(e,t){for(ys[e]=t,e=0;e<t.length;e++)yf.add(t[e])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=Object.prototype.hasOwnProperty,Eg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yu={},xu={};function _g(e){return Ia.call(xu,e)?!0:Ia.call(yu,e)?!1:Eg.test(e)?xu[e]=!0:(yu[e]=!0,!1)}function Pg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rg(e,t,n,r){if(t===null||typeof t>"u"||Pg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var rc=/[\-:]([a-z])/g;function sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rc,sc);Pe[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rc,sc);Pe[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rc,sc);Pe[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function oc(e,t,n,r){var s=Pe.hasOwnProperty(t)?Pe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rg(t,n,s,r)&&(n=null),r||s===null?_g(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=Tg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,io=Symbol.for("react.element"),rr=Symbol.for("react.portal"),sr=Symbol.for("react.fragment"),ic=Symbol.for("react.strict_mode"),Ba=Symbol.for("react.profiler"),xf=Symbol.for("react.provider"),vf=Symbol.for("react.context"),ac=Symbol.for("react.forward_ref"),za=Symbol.for("react.suspense"),Wa=Symbol.for("react.suspense_list"),lc=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),jf=Symbol.for("react.offscreen"),vu=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=vu&&e[vu]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,sa;function ns(e){if(sa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sa=t&&t[1]||""}return`
`+sa+e}var oa=!1;function ia(e,t){if(!e||oa)return"";oa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{oa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ns(e):""}function Ag(e){switch(e.tag){case 5:return ns(e.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return e=ia(e.type,!1),e;case 11:return e=ia(e.type.render,!1),e;case 1:return e=ia(e.type,!0),e;default:return""}}function Va(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sr:return"Fragment";case rr:return"Portal";case Ba:return"Profiler";case ic:return"StrictMode";case za:return"Suspense";case Wa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vf:return(e.displayName||"Context")+".Consumer";case xf:return(e._context.displayName||"Context")+".Provider";case ac:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lc:return t=e.displayName||null,t!==null?t:Va(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return Va(e(t))}catch{}}return null}function Og(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Va(t);case 8:return t===ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lg(e){var t=wf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ao(e){e._valueTracker||(e._valueTracker=Lg(e))}function kf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ha(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ju(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bf(e,t){t=t.checked,t!=null&&oc(e,"checked",t,!1)}function qa(e,t){bf(e,t);var n=wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ja(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ja(e,t.type,wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ja(e,t,n){(t!=="number"||Jo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rs=Array.isArray;function mr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ku(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(rs(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wn(n)}}function Nf(e,t){var n=wn(t.value),r=wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lo,Cf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lo=lo||document.createElement("div"),lo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mg=["Webkit","ms","Moz","O"];Object.keys(ls).forEach(function(e){Mg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ls[t]=ls[e]})});function Tf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ls.hasOwnProperty(e)&&ls[e]?(""+t).trim():t+"px"}function Ef(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Tf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Fg=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ga(e,t){if(t){if(Fg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Xa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Za=null,gr=null,yr=null;function Nu(e){if(e=Ws(e)){if(typeof Za!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Ai(t),Za(e.stateNode,e.type,t))}}function _f(e){gr?yr?yr.push(e):yr=[e]:gr=e}function Pf(){if(gr){var e=gr,t=yr;if(yr=gr=null,Nu(e),t)for(e=0;e<t.length;e++)Nu(t[e])}}function Rf(e,t){return e(t)}function Af(){}var aa=!1;function Of(e,t,n){if(aa)return e(t,n);aa=!0;try{return Rf(e,t,n)}finally{aa=!1,(gr!==null||yr!==null)&&(Af(),Pf())}}function vs(e,t){var n=e.stateNode;if(n===null)return null;var r=Ai(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var el=!1;if(qt)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){el=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{el=!1}function $g(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var cs=!1,Ko=null,Qo=!1,tl=null,Dg={onError:function(e){cs=!0,Ko=e}};function Ug(e,t,n,r,s,i,a,l,c){cs=!1,Ko=null,$g.apply(Dg,arguments)}function Ig(e,t,n,r,s,i,a,l,c){if(Ug.apply(this,arguments),cs){if(cs){var u=Ko;cs=!1,Ko=null}else throw Error(D(198));Qo||(Qo=!0,tl=u)}}function Gn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Su(e){if(Gn(e)!==e)throw Error(D(188))}function Bg(e){var t=e.alternate;if(!t){if(t=Gn(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Su(s),e;if(i===r)return Su(s),t;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Mf(e){return e=Bg(e),e!==null?Ff(e):null}function Ff(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ff(e);if(t!==null)return t;e=e.sibling}return null}var $f=it.unstable_scheduleCallback,Cu=it.unstable_cancelCallback,zg=it.unstable_shouldYield,Wg=it.unstable_requestPaint,xe=it.unstable_now,Vg=it.unstable_getCurrentPriorityLevel,uc=it.unstable_ImmediatePriority,Df=it.unstable_UserBlockingPriority,Go=it.unstable_NormalPriority,Hg=it.unstable_LowPriority,Uf=it.unstable_IdlePriority,Ei=null,Mt=null;function qg(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Ei,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Qg,Jg=Math.log,Kg=Math.LN2;function Qg(e){return e>>>=0,e===0?32:31-(Jg(e)/Kg|0)|0}var co=64,uo=4194304;function ss(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=ss(l):(i&=a,i!==0&&(r=ss(i)))}else a=n&~s,a!==0?r=ss(a):i!==0&&(r=ss(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ct(t),s=1<<n,r|=e[n],t&=~s;return r}function Gg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ct(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=Gg(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function nl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function If(){var e=co;return co<<=1,!(co&4194240)&&(co=64),e}function la(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function Yg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ct(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function dc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ct(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var oe=0;function Bf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zf,fc,Wf,Vf,Hf,rl=!1,fo=[],dn=null,fn=null,hn=null,js=new Map,ws=new Map,on=[],Zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(t.pointerId)}}function Jr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ws(t),t!==null&&fc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ey(e,t,n,r,s){switch(t){case"focusin":return dn=Jr(dn,e,t,n,r,s),!0;case"dragenter":return fn=Jr(fn,e,t,n,r,s),!0;case"mouseover":return hn=Jr(hn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return js.set(i,Jr(js.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ws.set(i,Jr(ws.get(i)||null,e,t,n,r,s)),!0}return!1}function qf(e){var t=Mn(e.target);if(t!==null){var n=Gn(t);if(n!==null){if(t=n.tag,t===13){if(t=Lf(n),t!==null){e.blockedOn=t,Hf(e.priority,function(){Wf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ya=r,n.target.dispatchEvent(r),Ya=null}else return t=Ws(n),t!==null&&fc(t),e.blockedOn=n,!1;t.shift()}return!0}function Eu(e,t,n){Eo(e)&&n.delete(t)}function ty(){rl=!1,dn!==null&&Eo(dn)&&(dn=null),fn!==null&&Eo(fn)&&(fn=null),hn!==null&&Eo(hn)&&(hn=null),js.forEach(Eu),ws.forEach(Eu)}function Kr(e,t){e.blockedOn===t&&(e.blockedOn=null,rl||(rl=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,ty)))}function ks(e){function t(s){return Kr(s,e)}if(0<fo.length){Kr(fo[0],e);for(var n=1;n<fo.length;n++){var r=fo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&Kr(dn,e),fn!==null&&Kr(fn,e),hn!==null&&Kr(hn,e),js.forEach(t),ws.forEach(t),n=0;n<on.length;n++)r=on[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)qf(n),n.blockedOn===null&&on.shift()}var xr=Gt.ReactCurrentBatchConfig,Yo=!0;function ny(e,t,n,r){var s=oe,i=xr.transition;xr.transition=null;try{oe=1,hc(e,t,n,r)}finally{oe=s,xr.transition=i}}function ry(e,t,n,r){var s=oe,i=xr.transition;xr.transition=null;try{oe=4,hc(e,t,n,r)}finally{oe=s,xr.transition=i}}function hc(e,t,n,r){if(Yo){var s=sl(e,t,n,r);if(s===null)xa(e,t,r,Zo,n),Tu(e,r);else if(ey(s,e,t,n,r))r.stopPropagation();else if(Tu(e,r),t&4&&-1<Zg.indexOf(e)){for(;s!==null;){var i=Ws(s);if(i!==null&&zf(i),i=sl(e,t,n,r),i===null&&xa(e,t,r,Zo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xa(e,t,r,null,n)}}var Zo=null;function sl(e,t,n,r){if(Zo=null,e=cc(r),e=Mn(e),e!==null)if(t=Gn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zo=e,null}function Jf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vg()){case uc:return 1;case Df:return 4;case Go:case Hg:return 16;case Uf:return 536870912;default:return 16}default:return 16}}var ln=null,pc=null,_o=null;function Kf(){if(_o)return _o;var e,t=pc,n=t.length,r,s="value"in ln?ln.value:ln.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return _o=s.slice(e,1<r?1-r:void 0)}function Po(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ho(){return!0}function _u(){return!1}function lt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ho:_u,this.isPropagationStopped=_u,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),t}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=lt(Lr),zs=pe({},Lr,{view:0,detail:0}),sy=lt(zs),ca,ua,Qr,_i=pe({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(ca=e.screenX-Qr.screenX,ua=e.screenY-Qr.screenY):ua=ca=0,Qr=e),ca)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Pu=lt(_i),oy=pe({},_i,{dataTransfer:0}),iy=lt(oy),ay=pe({},zs,{relatedTarget:0}),da=lt(ay),ly=pe({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=lt(ly),uy=pe({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dy=lt(uy),fy=pe({},Lr,{data:0}),Ru=lt(fy),hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},my={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=my[e])?!!t[e]:!1}function gc(){return gy}var yy=pe({},zs,{key:function(e){if(e.key){var t=hy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Po(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?py[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(e){return e.type==="keypress"?Po(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Po(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xy=lt(yy),vy=pe({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=lt(vy),jy=pe({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),wy=lt(jy),ky=pe({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),by=lt(ky),Ny=pe({},_i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sy=lt(Ny),Cy=[9,13,27,32],yc=qt&&"CompositionEvent"in window,us=null;qt&&"documentMode"in document&&(us=document.documentMode);var Ty=qt&&"TextEvent"in window&&!us,Qf=qt&&(!yc||us&&8<us&&11>=us),Ou=String.fromCharCode(32),Lu=!1;function Gf(e,t){switch(e){case"keyup":return Cy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function Ey(e,t){switch(e){case"compositionend":return Xf(t);case"keypress":return t.which!==32?null:(Lu=!0,Ou);case"textInput":return e=t.data,e===Ou&&Lu?null:e;default:return null}}function _y(e,t){if(or)return e==="compositionend"||!yc&&Gf(e,t)?(e=Kf(),_o=pc=ln=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qf&&t.locale!=="ko"?null:t.data;default:return null}}var Py={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Py[e.type]:t==="textarea"}function Yf(e,t,n,r){_f(r),t=ei(t,"onChange"),0<t.length&&(n=new mc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ds=null,bs=null;function Ry(e){ch(e,0)}function Pi(e){var t=lr(e);if(kf(t))return e}function Ay(e,t){if(e==="change")return t}var Zf=!1;if(qt){var fa;if(qt){var ha="oninput"in document;if(!ha){var Fu=document.createElement("div");Fu.setAttribute("oninput","return;"),ha=typeof Fu.oninput=="function"}fa=ha}else fa=!1;Zf=fa&&(!document.documentMode||9<document.documentMode)}function $u(){ds&&(ds.detachEvent("onpropertychange",eh),bs=ds=null)}function eh(e){if(e.propertyName==="value"&&Pi(bs)){var t=[];Yf(t,bs,e,cc(e)),Of(Ry,t)}}function Oy(e,t,n){e==="focusin"?($u(),ds=t,bs=n,ds.attachEvent("onpropertychange",eh)):e==="focusout"&&$u()}function Ly(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pi(bs)}function My(e,t){if(e==="click")return Pi(t)}function Fy(e,t){if(e==="input"||e==="change")return Pi(t)}function $y(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:$y;function Ns(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ia.call(t,s)||!_t(e[s],t[s]))return!1}return!0}function Du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uu(e,t){var n=Du(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Du(n)}}function th(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?th(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nh(){for(var e=window,t=Jo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jo(e.document)}return t}function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dy(e){var t=nh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&th(n.ownerDocument.documentElement,n)){if(r!==null&&xc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Uu(n,i);var a=Uu(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uy=qt&&"documentMode"in document&&11>=document.documentMode,ir=null,ol=null,fs=null,il=!1;function Iu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;il||ir==null||ir!==Jo(r)||(r=ir,"selectionStart"in r&&xc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fs&&Ns(fs,r)||(fs=r,r=ei(ol,"onSelect"),0<r.length&&(t=new mc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function po(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ar={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionend:po("Transition","TransitionEnd")},pa={},rh={};qt&&(rh=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function Ri(e){if(pa[e])return pa[e];if(!ar[e])return e;var t=ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rh)return pa[e]=t[n];return e}var sh=Ri("animationend"),oh=Ri("animationiteration"),ih=Ri("animationstart"),ah=Ri("transitionend"),lh=new Map,Bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){lh.set(e,t),Qn(t,[e])}for(var ma=0;ma<Bu.length;ma++){var ga=Bu[ma],Iy=ga.toLowerCase(),By=ga[0].toUpperCase()+ga.slice(1);bn(Iy,"on"+By)}bn(sh,"onAnimationEnd");bn(oh,"onAnimationIteration");bn(ih,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(ah,"onTransitionEnd");kr("onMouseEnter",["mouseout","mouseover"]);kr("onMouseLeave",["mouseout","mouseover"]);kr("onPointerEnter",["pointerout","pointerover"]);kr("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zy=new Set("cancel close invalid load scroll toggle".split(" ").concat(os));function zu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ig(r,t,void 0,e),e.currentTarget=null}function ch(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;zu(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;zu(s,l,u),i=c}}}if(Qo)throw e=tl,Qo=!1,tl=null,e}function le(e,t){var n=t[dl];n===void 0&&(n=t[dl]=new Set);var r=e+"__bubble";n.has(r)||(uh(t,e,2,!1),n.add(r))}function ya(e,t,n){var r=0;t&&(r|=4),uh(n,e,r,t)}var mo="_reactListening"+Math.random().toString(36).slice(2);function Ss(e){if(!e[mo]){e[mo]=!0,yf.forEach(function(n){n!=="selectionchange"&&(zy.has(n)||ya(n,!1,e),ya(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mo]||(t[mo]=!0,ya("selectionchange",!1,t))}}function uh(e,t,n,r){switch(Jf(t)){case 1:var s=ny;break;case 4:s=ry;break;default:s=hc}n=s.bind(null,t,n,e),s=void 0,!el||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function xa(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Mn(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Of(function(){var u=i,d=cc(n),h=[];e:{var p=lh.get(e);if(p!==void 0){var j=mc,v=e;switch(e){case"keypress":if(Po(n)===0)break e;case"keydown":case"keyup":j=xy;break;case"focusin":v="focus",j=da;break;case"focusout":v="blur",j=da;break;case"beforeblur":case"afterblur":j=da;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=iy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=wy;break;case sh:case oh:case ih:j=cy;break;case ah:j=by;break;case"scroll":j=sy;break;case"wheel":j=Sy;break;case"copy":case"cut":case"paste":j=dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Au}var w=(t&4)!==0,b=!w&&e==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var f=u,m;f!==null;){m=f;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,g!==null&&(x=vs(f,g),x!=null&&w.push(Cs(f,x,m)))),b)break;f=f.return}0<w.length&&(p=new j(p,v,null,n,d),h.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",p&&n!==Ya&&(v=n.relatedTarget||n.fromElement)&&(Mn(v)||v[Jt]))break e;if((j||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,j?(v=n.relatedTarget||n.toElement,j=u,v=v?Mn(v):null,v!==null&&(b=Gn(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(j=null,v=u),j!==v)){if(w=Pu,x="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Au,x="onPointerLeave",g="onPointerEnter",f="pointer"),b=j==null?p:lr(j),m=v==null?p:lr(v),p=new w(x,f+"leave",j,n,d),p.target=b,p.relatedTarget=m,x=null,Mn(d)===u&&(w=new w(g,f+"enter",v,n,d),w.target=m,w.relatedTarget=b,x=w),b=x,j&&v)t:{for(w=j,g=v,f=0,m=w;m;m=tr(m))f++;for(m=0,x=g;x;x=tr(x))m++;for(;0<f-m;)w=tr(w),f--;for(;0<m-f;)g=tr(g),m--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=tr(w),g=tr(g)}w=null}else w=null;j!==null&&Wu(h,p,j,w,!1),v!==null&&b!==null&&Wu(h,b,v,w,!0)}}e:{if(p=u?lr(u):window,j=p.nodeName&&p.nodeName.toLowerCase(),j==="select"||j==="input"&&p.type==="file")var C=Ay;else if(Mu(p))if(Zf)C=Fy;else{C=Ly;var O=Oy}else(j=p.nodeName)&&j.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=My);if(C&&(C=C(e,u))){Yf(h,C,n,d);break e}O&&O(e,p,u),e==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Ja(p,"number",p.value)}switch(O=u?lr(u):window,e){case"focusin":(Mu(O)||O.contentEditable==="true")&&(ir=O,ol=u,fs=null);break;case"focusout":fs=ol=ir=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,Iu(h,n,d);break;case"selectionchange":if(Uy)break;case"keydown":case"keyup":Iu(h,n,d)}var N;if(yc)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else or?Gf(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Qf&&n.locale!=="ko"&&(or||P!=="onCompositionStart"?P==="onCompositionEnd"&&or&&(N=Kf()):(ln=d,pc="value"in ln?ln.value:ln.textContent,or=!0)),O=ei(u,P),0<O.length&&(P=new Ru(P,e,null,n,d),h.push({event:P,listeners:O}),N?P.data=N:(N=Xf(n),N!==null&&(P.data=N)))),(N=Ty?Ey(e,n):_y(e,n))&&(u=ei(u,"onBeforeInput"),0<u.length&&(d=new Ru("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}ch(h,t)})}function Cs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ei(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vs(e,n),i!=null&&r.unshift(Cs(e,i,s)),i=vs(e,t),i!=null&&r.push(Cs(e,i,s))),e=e.return}return r}function tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wu(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=vs(n,i),c!=null&&a.unshift(Cs(n,c,l))):s||(c=vs(n,i),c!=null&&a.push(Cs(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Wy=/\r\n?/g,Vy=/\u0000|\uFFFD/g;function Vu(e){return(typeof e=="string"?e:""+e).replace(Wy,`
`).replace(Vy,"")}function go(e,t,n){if(t=Vu(t),Vu(e)!==t&&n)throw Error(D(425))}function ti(){}var al=null,ll=null;function cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ul=typeof setTimeout=="function"?setTimeout:void 0,Hy=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,qy=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(e){return Hu.resolve(null).then(e).catch(Jy)}:ul;function Jy(e){setTimeout(function(){throw e})}function va(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ks(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ks(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Mr,Ts="__reactProps$"+Mr,Jt="__reactContainer$"+Mr,dl="__reactEvents$"+Mr,Ky="__reactListeners$"+Mr,Qy="__reactHandles$"+Mr;function Mn(e){var t=e[Lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[Lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qu(e);e!==null;){if(n=e[Lt])return n;e=qu(e)}return t}e=n,n=e.parentNode}return null}function Ws(e){return e=e[Lt]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Ai(e){return e[Ts]||null}var fl=[],cr=-1;function Nn(e){return{current:e}}function ce(e){0>cr||(e.current=fl[cr],fl[cr]=null,cr--)}function ae(e,t){cr++,fl[cr]=e.current,e.current=t}var kn={},$e=Nn(kn),Qe=Nn(!1),zn=kn;function br(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ge(e){return e=e.childContextTypes,e!=null}function ni(){ce(Qe),ce($e)}function Ju(e,t,n){if($e.current!==kn)throw Error(D(168));ae($e,t),ae(Qe,n)}function dh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,Og(e)||"Unknown",s));return pe({},n,r)}function ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,zn=$e.current,ae($e,e),ae(Qe,Qe.current),!0}function Ku(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=dh(e,t,zn),r.__reactInternalMemoizedMergedChildContext=e,ce(Qe),ce($e),ae($e,e)):ce(Qe),ae(Qe,n)}var Bt=null,Oi=!1,ja=!1;function fh(e){Bt===null?Bt=[e]:Bt.push(e)}function Gy(e){Oi=!0,fh(e)}function Sn(){if(!ja&&Bt!==null){ja=!0;var e=0,t=oe;try{var n=Bt;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bt=null,Oi=!1}catch(s){throw Bt!==null&&(Bt=Bt.slice(e+1)),$f(uc,Sn),s}finally{oe=t,ja=!1}}return null}var ur=[],dr=0,si=null,oi=0,ft=[],ht=0,Wn=null,zt=1,Wt="";function On(e,t){ur[dr++]=oi,ur[dr++]=si,si=e,oi=t}function hh(e,t,n){ft[ht++]=zt,ft[ht++]=Wt,ft[ht++]=Wn,Wn=e;var r=zt;e=Wt;var s=32-Ct(r)-1;r&=~(1<<s),n+=1;var i=32-Ct(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,zt=1<<32-Ct(t)+s|n<<s|r,Wt=i+e}else zt=1<<i|n<<s|r,Wt=e}function vc(e){e.return!==null&&(On(e,1),hh(e,1,0))}function jc(e){for(;e===si;)si=ur[--dr],ur[dr]=null,oi=ur[--dr],ur[dr]=null;for(;e===Wn;)Wn=ft[--ht],ft[ht]=null,Wt=ft[--ht],ft[ht]=null,zt=ft[--ht],ft[ht]=null}var st=null,rt=null,ue=!1,St=null;function ph(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,rt=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wn!==null?{id:zt,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,rt=null,!0):!1;default:return!1}}function hl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pl(e){if(ue){var t=rt;if(t){var n=t;if(!Qu(e,t)){if(hl(e))throw Error(D(418));t=pn(n.nextSibling);var r=st;t&&Qu(e,t)?ph(r,n):(e.flags=e.flags&-4097|2,ue=!1,st=e)}}else{if(hl(e))throw Error(D(418));e.flags=e.flags&-4097|2,ue=!1,st=e}}}function Gu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function yo(e){if(e!==st)return!1;if(!ue)return Gu(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cl(e.type,e.memoizedProps)),t&&(t=rt)){if(hl(e))throw mh(),Error(D(418));for(;t;)ph(e,t),t=pn(t.nextSibling)}if(Gu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=st?pn(e.stateNode.nextSibling):null;return!0}function mh(){for(var e=rt;e;)e=pn(e.nextSibling)}function Nr(){rt=st=null,ue=!1}function wc(e){St===null?St=[e]:St.push(e)}var Xy=Gt.ReactCurrentBatchConfig;function Gr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function xo(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xu(e){var t=e._init;return t(e._payload)}function gh(e){function t(g,f){if(e){var m=g.deletions;m===null?(g.deletions=[f],g.flags|=16):m.push(f)}}function n(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=xn(g,f),g.index=0,g.sibling=null,g}function i(g,f,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<f?(g.flags|=2,f):m):(g.flags|=2,f)):(g.flags|=1048576,f)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,f,m,x){return f===null||f.tag!==6?(f=Ta(m,g.mode,x),f.return=g,f):(f=s(f,m),f.return=g,f)}function c(g,f,m,x){var C=m.type;return C===sr?d(g,f,m.props.children,x,m.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rn&&Xu(C)===f.type)?(x=s(f,m.props),x.ref=Gr(g,f,m),x.return=g,x):(x=$o(m.type,m.key,m.props,null,g.mode,x),x.ref=Gr(g,f,m),x.return=g,x)}function u(g,f,m,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Ea(m,g.mode,x),f.return=g,f):(f=s(f,m.children||[]),f.return=g,f)}function d(g,f,m,x,C){return f===null||f.tag!==7?(f=In(m,g.mode,x,C),f.return=g,f):(f=s(f,m),f.return=g,f)}function h(g,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ta(""+f,g.mode,m),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case io:return m=$o(f.type,f.key,f.props,null,g.mode,m),m.ref=Gr(g,null,f),m.return=g,m;case rr:return f=Ea(f,g.mode,m),f.return=g,f;case rn:var x=f._init;return h(g,x(f._payload),m)}if(rs(f)||Hr(f))return f=In(f,g.mode,m,null),f.return=g,f;xo(g,f)}return null}function p(g,f,m,x){var C=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:l(g,f,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case io:return m.key===C?c(g,f,m,x):null;case rr:return m.key===C?u(g,f,m,x):null;case rn:return C=m._init,p(g,f,C(m._payload),x)}if(rs(m)||Hr(m))return C!==null?null:d(g,f,m,x,null);xo(g,m)}return null}function j(g,f,m,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(m)||null,l(f,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case io:return g=g.get(x.key===null?m:x.key)||null,c(f,g,x,C);case rr:return g=g.get(x.key===null?m:x.key)||null,u(f,g,x,C);case rn:var O=x._init;return j(g,f,m,O(x._payload),C)}if(rs(x)||Hr(x))return g=g.get(m)||null,d(f,g,x,C,null);xo(f,x)}return null}function v(g,f,m,x){for(var C=null,O=null,N=f,P=f=0,A=null;N!==null&&P<m.length;P++){N.index>P?(A=N,N=null):A=N.sibling;var _=p(g,N,m[P],x);if(_===null){N===null&&(N=A);break}e&&N&&_.alternate===null&&t(g,N),f=i(_,f,P),O===null?C=_:O.sibling=_,O=_,N=A}if(P===m.length)return n(g,N),ue&&On(g,P),C;if(N===null){for(;P<m.length;P++)N=h(g,m[P],x),N!==null&&(f=i(N,f,P),O===null?C=N:O.sibling=N,O=N);return ue&&On(g,P),C}for(N=r(g,N);P<m.length;P++)A=j(N,g,P,m[P],x),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?P:A.key),f=i(A,f,P),O===null?C=A:O.sibling=A,O=A);return e&&N.forEach(function(R){return t(g,R)}),ue&&On(g,P),C}function w(g,f,m,x){var C=Hr(m);if(typeof C!="function")throw Error(D(150));if(m=C.call(m),m==null)throw Error(D(151));for(var O=C=null,N=f,P=f=0,A=null,_=m.next();N!==null&&!_.done;P++,_=m.next()){N.index>P?(A=N,N=null):A=N.sibling;var R=p(g,N,_.value,x);if(R===null){N===null&&(N=A);break}e&&N&&R.alternate===null&&t(g,N),f=i(R,f,P),O===null?C=R:O.sibling=R,O=R,N=A}if(_.done)return n(g,N),ue&&On(g,P),C;if(N===null){for(;!_.done;P++,_=m.next())_=h(g,_.value,x),_!==null&&(f=i(_,f,P),O===null?C=_:O.sibling=_,O=_);return ue&&On(g,P),C}for(N=r(g,N);!_.done;P++,_=m.next())_=j(N,g,P,_.value,x),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?P:_.key),f=i(_,f,P),O===null?C=_:O.sibling=_,O=_);return e&&N.forEach(function(L){return t(g,L)}),ue&&On(g,P),C}function b(g,f,m,x){if(typeof m=="object"&&m!==null&&m.type===sr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case io:e:{for(var C=m.key,O=f;O!==null;){if(O.key===C){if(C=m.type,C===sr){if(O.tag===7){n(g,O.sibling),f=s(O,m.props.children),f.return=g,g=f;break e}}else if(O.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rn&&Xu(C)===O.type){n(g,O.sibling),f=s(O,m.props),f.ref=Gr(g,O,m),f.return=g,g=f;break e}n(g,O);break}else t(g,O);O=O.sibling}m.type===sr?(f=In(m.props.children,g.mode,x,m.key),f.return=g,g=f):(x=$o(m.type,m.key,m.props,null,g.mode,x),x.ref=Gr(g,f,m),x.return=g,g=x)}return a(g);case rr:e:{for(O=m.key;f!==null;){if(f.key===O)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(g,f.sibling),f=s(f,m.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else t(g,f);f=f.sibling}f=Ea(m,g.mode,x),f.return=g,g=f}return a(g);case rn:return O=m._init,b(g,f,O(m._payload),x)}if(rs(m))return v(g,f,m,x);if(Hr(m))return w(g,f,m,x);xo(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,m),f.return=g,g=f):(n(g,f),f=Ta(m,g.mode,x),f.return=g,g=f),a(g)):n(g,f)}return b}var Sr=gh(!0),yh=gh(!1),ii=Nn(null),ai=null,fr=null,kc=null;function bc(){kc=fr=ai=null}function Nc(e){var t=ii.current;ce(ii),e._currentValue=t}function ml(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vr(e,t){ai=e,kc=fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(kc!==e)if(e={context:e,memoizedValue:t,next:null},fr===null){if(ai===null)throw Error(D(308));fr=e,ai.dependencies={lanes:0,firstContext:e}}else fr=fr.next=e;return t}var Fn=null;function Sc(e){Fn===null?Fn=[e]:Fn.push(e)}function xh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Sc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Kt(e,r)}function Kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Kt(e,n)}return s=r.interleaved,s===null?(t.next=t,Sc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Kt(e,n)}function Ro(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dc(e,n)}}function Yu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function li(e,t,n,r){var s=e.updateQueue;sn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var p=l.lane,j=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:j,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(p=t,j=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(j,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(j,h,p):v,p==null)break e;h=pe({},h,p);break e;case 2:sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else j={eventTime:j,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=j,c=h):d=d.next=j,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Hn|=a,e.lanes=a,e.memoizedState=h}}function Zu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var Vs={},Ft=Nn(Vs),Es=Nn(Vs),_s=Nn(Vs);function $n(e){if(e===Vs)throw Error(D(174));return e}function Tc(e,t){switch(ae(_s,t),ae(Es,e),ae(Ft,Vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qa(t,e)}ce(Ft),ae(Ft,t)}function Cr(){ce(Ft),ce(Es),ce(_s)}function jh(e){$n(_s.current);var t=$n(Ft.current),n=Qa(t,e.type);t!==n&&(ae(Es,e),ae(Ft,n))}function Ec(e){Es.current===e&&(ce(Ft),ce(Es))}var fe=Nn(0);function ci(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wa=[];function _c(){for(var e=0;e<wa.length;e++)wa[e]._workInProgressVersionPrimary=null;wa.length=0}var Ao=Gt.ReactCurrentDispatcher,ka=Gt.ReactCurrentBatchConfig,Vn=0,he=null,ke=null,Ce=null,ui=!1,hs=!1,Ps=0,Yy=0;function Oe(){throw Error(D(321))}function Pc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function Rc(e,t,n,r,s,i){if(Vn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ao.current=e===null||e.memoizedState===null?nx:rx,e=n(r,s),hs){i=0;do{if(hs=!1,Ps=0,25<=i)throw Error(D(301));i+=1,Ce=ke=null,t.updateQueue=null,Ao.current=sx,e=n(r,s)}while(hs)}if(Ao.current=di,t=ke!==null&&ke.next!==null,Vn=0,Ce=ke=he=null,ui=!1,t)throw Error(D(300));return e}function Ac(){var e=Ps!==0;return Ps=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?he.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function xt(){if(ke===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Ce===null?he.memoizedState:Ce.next;if(t!==null)Ce=t,ke=e;else{if(e===null)throw Error(D(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ce===null?he.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Rs(e,t){return typeof t=="function"?t(e):t}function ba(e){var t=xt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Vn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,he.lanes|=d,Hn|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,_t(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,Hn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=xt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);_t(i,t.memoizedState)||(Ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function wh(){}function kh(e,t){var n=he,r=xt(),s=t(),i=!_t(r.memoizedState,s);if(i&&(r.memoizedState=s,Ke=!0),r=r.queue,Oc(Sh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,As(9,Nh.bind(null,n,r,s,t),void 0,null),Te===null)throw Error(D(349));Vn&30||bh(n,t,s)}return s}function bh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nh(e,t,n,r){t.value=n,t.getSnapshot=r,Ch(t)&&Th(e)}function Sh(e,t,n){return n(function(){Ch(t)&&Th(e)})}function Ch(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function Th(e){var t=Kt(e,1);t!==null&&Tt(t,e,1,-1)}function ed(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},t.queue=e,e=e.dispatch=tx.bind(null,he,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Eh(){return xt().memoizedState}function Oo(e,t,n,r){var s=Ot();he.flags|=e,s.memoizedState=As(1|t,n,void 0,r===void 0?null:r)}function Li(e,t,n,r){var s=xt();r=r===void 0?null:r;var i=void 0;if(ke!==null){var a=ke.memoizedState;if(i=a.destroy,r!==null&&Pc(r,a.deps)){s.memoizedState=As(t,n,i,r);return}}he.flags|=e,s.memoizedState=As(1|t,n,i,r)}function td(e,t){return Oo(8390656,8,e,t)}function Oc(e,t){return Li(2048,8,e,t)}function _h(e,t){return Li(4,2,e,t)}function Ph(e,t){return Li(4,4,e,t)}function Rh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ah(e,t,n){return n=n!=null?n.concat([e]):null,Li(4,4,Rh.bind(null,t,e),n)}function Lc(){}function Oh(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lh(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mh(e,t,n){return Vn&21?(_t(n,t)||(n=If(),he.lanes|=n,Hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function Zy(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=ka.transition;ka.transition={};try{e(!1),t()}finally{oe=n,ka.transition=r}}function Fh(){return xt().memoizedState}function ex(e,t,n){var r=yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$h(e))Dh(t,n);else if(n=xh(e,t,n,r),n!==null){var s=Be();Tt(n,e,r,s),Uh(n,t,r)}}function tx(e,t,n){var r=yn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($h(e))Dh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,_t(l,a)){var c=t.interleaved;c===null?(s.next=s,Sc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=xh(e,t,s,r),n!==null&&(s=Be(),Tt(n,e,r,s),Uh(n,t,r))}}function $h(e){var t=e.alternate;return e===he||t!==null&&t===he}function Dh(e,t){hs=ui=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Uh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dc(e,n)}}var di={readContext:yt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},nx={readContext:yt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:td,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oo(4194308,4,Rh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ex.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:ed,useDebugValue:Lc,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=ed(!1),t=e[0];return e=Zy.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,s=Ot();if(ue){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Te===null)throw Error(D(349));Vn&30||bh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,td(Sh.bind(null,r,i,e),[e]),r.flags|=2048,As(9,Nh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ot(),t=Te.identifierPrefix;if(ue){var n=Wt,r=zt;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ps++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rx={readContext:yt,useCallback:Oh,useContext:yt,useEffect:Oc,useImperativeHandle:Ah,useInsertionEffect:_h,useLayoutEffect:Ph,useMemo:Lh,useReducer:ba,useRef:Eh,useState:function(){return ba(Rs)},useDebugValue:Lc,useDeferredValue:function(e){var t=xt();return Mh(t,ke.memoizedState,e)},useTransition:function(){var e=ba(Rs)[0],t=xt().memoizedState;return[e,t]},useMutableSource:wh,useSyncExternalStore:kh,useId:Fh,unstable_isNewReconciler:!1},sx={readContext:yt,useCallback:Oh,useContext:yt,useEffect:Oc,useImperativeHandle:Ah,useInsertionEffect:_h,useLayoutEffect:Ph,useMemo:Lh,useReducer:Na,useRef:Eh,useState:function(){return Na(Rs)},useDebugValue:Lc,useDeferredValue:function(e){var t=xt();return ke===null?t.memoizedState=e:Mh(t,ke.memoizedState,e)},useTransition:function(){var e=Na(Rs)[0],t=xt().memoizedState;return[e,t]},useMutableSource:wh,useSyncExternalStore:kh,useId:Fh,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function gl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mi={isMounted:function(e){return(e=e._reactInternals)?Gn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Be(),s=yn(e),i=Ht(r,s);i.payload=t,n!=null&&(i.callback=n),t=mn(e,i,s),t!==null&&(Tt(t,e,s,r),Ro(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Be(),s=yn(e),i=Ht(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=mn(e,i,s),t!==null&&(Tt(t,e,s,r),Ro(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),r=yn(e),s=Ht(n,r);s.tag=2,t!=null&&(s.callback=t),t=mn(e,s,r),t!==null&&(Tt(t,e,r,n),Ro(t,e,r))}};function nd(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ns(n,r)||!Ns(s,i):!0}function Ih(e,t,n){var r=!1,s=kn,i=t.contextType;return typeof i=="object"&&i!==null?i=yt(i):(s=Ge(t)?zn:$e.current,r=t.contextTypes,i=(r=r!=null)?br(e,s):kn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function rd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mi.enqueueReplaceState(t,t.state,null)}function yl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Cc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=yt(i):(i=Ge(t)?zn:$e.current,s.context=br(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(gl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Mi.enqueueReplaceState(s,s.state,null),li(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Tr(e,t){try{var n="",r=t;do n+=Ag(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Sa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ox=typeof WeakMap=="function"?WeakMap:Map;function Bh(e,t,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hi||(hi=!0,El=r),xl(e,t)},n}function zh(e,t,n){n=Ht(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){xl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xl(e,t),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function sd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ox;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=vx.bind(null,e,t,n),t.then(e,e))}function od(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function id(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ht(-1,1),t.tag=2,mn(n,t,1))),n.lanes|=1),e)}var ix=Gt.ReactCurrentOwner,Ke=!1;function Ie(e,t,n,r){t.child=e===null?yh(t,null,n,r):Sr(t,e.child,n,r)}function ad(e,t,n,r,s){n=n.render;var i=t.ref;return vr(t,s),r=Rc(e,t,n,r,i,s),n=Ac(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(ue&&n&&vc(t),t.flags|=1,Ie(e,t,r,s),t.child)}function ld(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!zc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Wh(e,t,i,r,s)):(e=$o(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ns,n(a,r)&&e.ref===t.ref)return Qt(e,t,s)}return t.flags|=1,e=xn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Wh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ns(i,r)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Qt(e,t,s)}return vl(e,t,n,r,s)}function Vh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(pr,nt),nt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(pr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ae(pr,nt),nt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ae(pr,nt),nt|=r;return Ie(e,t,s,n),t.child}function Hh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vl(e,t,n,r,s){var i=Ge(n)?zn:$e.current;return i=br(t,i),vr(t,s),n=Rc(e,t,n,r,i,s),r=Ac(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(ue&&r&&vc(t),t.flags|=1,Ie(e,t,n,s),t.child)}function cd(e,t,n,r,s){if(Ge(n)){var i=!0;ri(t)}else i=!1;if(vr(t,s),t.stateNode===null)Lo(e,t),Ih(t,n,r),yl(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Ge(n)?zn:$e.current,u=br(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&rd(t,a,r,u),sn=!1;var p=t.memoizedState;a.state=p,li(t,r,a,s),c=t.memoizedState,l!==r||p!==c||Qe.current||sn?(typeof d=="function"&&(gl(t,n,d,r),c=t.memoizedState),(l=sn||nd(t,n,l,r,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,vh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:kt(t.type,l),a.props=u,h=t.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=yt(c):(c=Ge(n)?zn:$e.current,c=br(t,c));var j=n.getDerivedStateFromProps;(d=typeof j=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==c)&&rd(t,a,r,c),sn=!1,p=t.memoizedState,a.state=p,li(t,r,a,s);var v=t.memoizedState;l!==h||p!==v||Qe.current||sn?(typeof j=="function"&&(gl(t,n,j,r),v=t.memoizedState),(u=sn||nd(t,n,u,r,p,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return jl(e,t,n,r,i,s)}function jl(e,t,n,r,s,i){Hh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Ku(t,n,!1),Qt(e,t,i);r=t.stateNode,ix.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Sr(t,e.child,null,i),t.child=Sr(t,null,l,i)):Ie(e,t,l,i),t.memoizedState=r.state,s&&Ku(t,n,!0),t.child}function qh(e){var t=e.stateNode;t.pendingContext?Ju(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ju(e,t.context,!1),Tc(e,t.containerInfo)}function ud(e,t,n,r,s){return Nr(),wc(s),t.flags|=256,Ie(e,t,n,r),t.child}var wl={dehydrated:null,treeContext:null,retryLane:0};function kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jh(e,t,n){var r=t.pendingProps,s=fe.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ae(fe,s&1),e===null)return pl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Di(a,r,0,null),e=In(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=kl(n),t.memoizedState=wl,e):Mc(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ax(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=xn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=xn(l,i):(i=In(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?kl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=wl,r}return i=e.child,e=i.sibling,r=xn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mc(e,t){return t=Di({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vo(e,t,n,r){return r!==null&&wc(r),Sr(t,e.child,null,n),e=Mc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ax(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Sa(Error(D(422))),vo(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Di({mode:"visible",children:r.children},s,0,null),i=In(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Sr(t,e.child,null,a),t.child.memoizedState=kl(a),t.memoizedState=wl,i);if(!(t.mode&1))return vo(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(D(419)),r=Sa(i,r,void 0),vo(e,t,a,r)}if(l=(a&e.childLanes)!==0,Ke||l){if(r=Te,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kt(e,s),Tt(r,e,s,-1))}return Bc(),r=Sa(Error(D(421))),vo(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jx.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,rt=pn(s.nextSibling),st=t,ue=!0,St=null,e!==null&&(ft[ht++]=zt,ft[ht++]=Wt,ft[ht++]=Wn,zt=e.id,Wt=e.overflow,Wn=t),t=Mc(t,r.children),t.flags|=4096,t)}function dd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ml(e.return,t,n)}function Ca(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Kh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ie(e,t,r.children,n),r=fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dd(e,n,t);else if(e.tag===19)dd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ae(fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ci(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ca(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ci(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ca(t,!0,n,null,i);break;case"together":Ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lx(e,t,n){switch(t.tag){case 3:qh(t),Nr();break;case 5:jh(t);break;case 1:Ge(t.type)&&ri(t);break;case 4:Tc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ae(ii,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ae(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?Jh(e,t,n):(ae(fe,fe.current&1),e=Qt(e,t,n),e!==null?e.sibling:null);ae(fe,fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Kh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(fe,fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Vh(e,t,n)}return Qt(e,t,n)}var Qh,bl,Gh,Xh;Qh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bl=function(){};Gh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,$n(Ft.current);var i=null;switch(n){case"input":s=Ha(e,s),r=Ha(e,r),i=[];break;case"select":s=pe({},s,{value:void 0}),r=pe({},r,{value:void 0}),i=[];break;case"textarea":s=Ka(e,s),r=Ka(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ti)}Ga(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ys.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ys.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&le("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Xh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xr(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cx(e,t,n){var r=t.pendingProps;switch(jc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ge(t.type)&&ni(),Le(t),null;case 3:return r=t.stateNode,Cr(),ce(Qe),ce($e),_c(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(Rl(St),St=null))),bl(e,t),Le(t),null;case 5:Ec(t);var s=$n(_s.current);if(n=t.type,e!==null&&t.stateNode!=null)Gh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Le(t),null}if(e=$n(Ft.current),yo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Lt]=t,r[Ts]=i,e=(t.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(s=0;s<os.length;s++)le(os[s],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":ju(r,i),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},le("invalid",r);break;case"textarea":ku(r,i),le("invalid",r)}Ga(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&go(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&go(r.textContent,l,e),s=["children",""+l]):ys.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&le("scroll",r)}switch(n){case"input":ao(r),wu(r,i,!0);break;case"textarea":ao(r),bu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ti)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Lt]=t,e[Ts]=r,Qh(e,t,!1,!1),t.stateNode=e;e:{switch(a=Xa(n,r),n){case"dialog":le("cancel",e),le("close",e),s=r;break;case"iframe":case"object":case"embed":le("load",e),s=r;break;case"video":case"audio":for(s=0;s<os.length;s++)le(os[s],e);s=r;break;case"source":le("error",e),s=r;break;case"img":case"image":case"link":le("error",e),le("load",e),s=r;break;case"details":le("toggle",e),s=r;break;case"input":ju(e,r),s=Ha(e,r),le("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=pe({},r,{value:void 0}),le("invalid",e);break;case"textarea":ku(e,r),s=Ka(e,r),le("invalid",e);break;default:s=r}Ga(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Ef(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cf(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&xs(e,c):typeof c=="number"&&xs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ys.hasOwnProperty(i)?c!=null&&i==="onScroll"&&le("scroll",e):c!=null&&oc(e,i,c,a))}switch(n){case"input":ao(e),wu(e,r,!1);break;case"textarea":ao(e),bu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?mr(e,!!r.multiple,i,!1):r.defaultValue!=null&&mr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ti)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)Xh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=$n(_s.current),$n(Ft.current),yo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Lt]=t,(i=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:go(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&go(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=t,t.stateNode=r}return Le(t),null;case 13:if(ce(fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&rt!==null&&t.mode&1&&!(t.flags&128))mh(),Nr(),t.flags|=98560,i=!1;else if(i=yo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[Lt]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else St!==null&&(Rl(St),St=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?be===0&&(be=3):Bc())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Cr(),bl(e,t),e===null&&Ss(t.stateNode.containerInfo),Le(t),null;case 10:return Nc(t.type._context),Le(t),null;case 17:return Ge(t.type)&&ni(),Le(t),null;case 19:if(ce(fe),i=t.memoizedState,i===null)return Le(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Xr(i,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ci(e),a!==null){for(t.flags|=128,Xr(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(fe,fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&xe()>Er&&(t.flags|=128,r=!0,Xr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ci(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ue)return Le(t),null}else 2*xe()-i.renderingStartTime>Er&&n!==1073741824&&(t.flags|=128,r=!0,Xr(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xe(),t.sibling=null,n=fe.current,ae(fe,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return Ic(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function ux(e,t){switch(jc(t),t.tag){case 1:return Ge(t.type)&&ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cr(),ce(Qe),ce($e),_c(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ec(t),null;case 13:if(ce(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(fe),null;case 4:return Cr(),null;case 10:return Nc(t.type._context),null;case 22:case 23:return Ic(),null;case 24:return null;default:return null}}var jo=!1,Me=!1,dx=typeof WeakSet=="function"?WeakSet:Set,z=null;function hr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function Nl(e,t,n){try{n()}catch(r){me(e,t,r)}}var fd=!1;function fx(e,t){if(al=Yo,e=nh(),xc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var j;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(j=h.firstChild)!==null;)p=h,h=j;for(;;){if(h===e)break t;if(p===n&&++u===s&&(l=a),p===i&&++d===r&&(c=a),(j=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=j}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ll={focusedElem:e,selectionRange:n},Yo=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,b=v.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:kt(t.type,w),b);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(x){me(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return v=fd,fd=!1,v}function ps(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nl(t,n,i)}s=s.next}while(s!==r)}}function Fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yh(e){var t=e.alternate;t!==null&&(e.alternate=null,Yh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lt],delete t[Ts],delete t[dl],delete t[Ky],delete t[Qy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zh(e){return e.tag===5||e.tag===3||e.tag===4}function hd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ti));else if(r!==4&&(e=e.child,e!==null))for(Cl(e,t,n),e=e.sibling;e!==null;)Cl(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Tl(e,t,n),e=e.sibling;e!==null;)Tl(e,t,n),e=e.sibling}var Ee=null,bt=!1;function tn(e,t,n){for(n=n.child;n!==null;)ep(e,t,n),n=n.sibling}function ep(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Ei,n)}catch{}switch(n.tag){case 5:Me||hr(n,t);case 6:var r=Ee,s=bt;Ee=null,tn(e,t,n),Ee=r,bt=s,Ee!==null&&(bt?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(bt?(e=Ee,n=n.stateNode,e.nodeType===8?va(e.parentNode,n):e.nodeType===1&&va(e,n),ks(e)):va(Ee,n.stateNode));break;case 4:r=Ee,s=bt,Ee=n.stateNode.containerInfo,bt=!0,tn(e,t,n),Ee=r,bt=s;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Nl(n,t,a),s=s.next}while(s!==r)}tn(e,t,n);break;case 1:if(!Me&&(hr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){me(n,t,l)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,tn(e,t,n),Me=r):tn(e,t,n);break;default:tn(e,t,n)}}function pd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dx),t.forEach(function(r){var s=wx.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ee=l.stateNode,bt=!1;break e;case 3:Ee=l.stateNode.containerInfo,bt=!0;break e;case 4:Ee=l.stateNode.containerInfo,bt=!0;break e}l=l.return}if(Ee===null)throw Error(D(160));ep(i,a,s),Ee=null,bt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tp(t,e),t=t.sibling}function tp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Rt(e),r&4){try{ps(3,e,e.return),Fi(3,e)}catch(w){me(e,e.return,w)}try{ps(5,e,e.return)}catch(w){me(e,e.return,w)}}break;case 1:wt(t,e),Rt(e),r&512&&n!==null&&hr(n,n.return);break;case 5:if(wt(t,e),Rt(e),r&512&&n!==null&&hr(n,n.return),e.flags&32){var s=e.stateNode;try{xs(s,"")}catch(w){me(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&bf(s,i),Xa(l,a);var u=Xa(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Ef(s,h):d==="dangerouslySetInnerHTML"?Cf(s,h):d==="children"?xs(s,h):oc(s,d,h,u)}switch(l){case"input":qa(s,i);break;case"textarea":Nf(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var j=i.value;j!=null?mr(s,!!i.multiple,j,!1):p!==!!i.multiple&&(i.defaultValue!=null?mr(s,!!i.multiple,i.defaultValue,!0):mr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ts]=i}catch(w){me(e,e.return,w)}}break;case 6:if(wt(t,e),Rt(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){me(e,e.return,w)}}break;case 3:if(wt(t,e),Rt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ks(t.containerInfo)}catch(w){me(e,e.return,w)}break;case 4:wt(t,e),Rt(e);break;case 13:wt(t,e),Rt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dc=xe())),r&4&&pd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(u=Me)||d,wt(t,e),Me=u):wt(t,e),Rt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(z=e,d=e.child;d!==null;){for(h=z=d;z!==null;){switch(p=z,j=p.child,p.tag){case 0:case 11:case 14:case 15:ps(4,p,p.return);break;case 1:hr(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){me(r,n,w)}}break;case 5:hr(p,p.return);break;case 22:if(p.memoizedState!==null){gd(h);continue}}j!==null?(j.return=p,z=j):gd(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Tf("display",a))}catch(w){me(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){me(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(t,e),Rt(e),r&4&&pd(e);break;case 21:break;default:wt(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zh(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(xs(s,""),r.flags&=-33);var i=hd(e);Tl(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=hd(e);Cl(e,l,a);break;default:throw Error(D(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hx(e,t,n){z=e,np(e)}function np(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var s=z,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||jo;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Me;l=jo;var u=Me;if(jo=a,(Me=c)&&!u)for(z=s;z!==null;)a=z,c=a.child,a.tag===22&&a.memoizedState!==null?yd(s):c!==null?(c.return=a,z=c):yd(s);for(;i!==null;)z=i,np(i),i=i.sibling;z=s,jo=l,Me=u}md(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,z=i):md(e)}}function md(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Fi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:kt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Zu(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zu(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ks(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Me||t.flags&512&&Sl(t)}catch(p){me(t,t.return,p)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function gd(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function yd(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fi(4,t)}catch(c){me(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){me(t,s,c)}}var i=t.return;try{Sl(t)}catch(c){me(t,i,c)}break;case 5:var a=t.return;try{Sl(t)}catch(c){me(t,a,c)}}}catch(c){me(t,t.return,c)}if(t===e){z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,z=l;break}z=t.return}}var px=Math.ceil,fi=Gt.ReactCurrentDispatcher,Fc=Gt.ReactCurrentOwner,gt=Gt.ReactCurrentBatchConfig,ne=0,Te=null,ve=null,_e=0,nt=0,pr=Nn(0),be=0,Os=null,Hn=0,$i=0,$c=0,ms=null,qe=null,Dc=0,Er=1/0,It=null,hi=!1,El=null,gn=null,wo=!1,cn=null,pi=0,gs=0,_l=null,Mo=-1,Fo=0;function Be(){return ne&6?xe():Mo!==-1?Mo:Mo=xe()}function yn(e){return e.mode&1?ne&2&&_e!==0?_e&-_e:Xy.transition!==null?(Fo===0&&(Fo=If()),Fo):(e=oe,e!==0||(e=window.event,e=e===void 0?16:Jf(e.type)),e):1}function Tt(e,t,n,r){if(50<gs)throw gs=0,_l=null,Error(D(185));Bs(e,n,r),(!(ne&2)||e!==Te)&&(e===Te&&(!(ne&2)&&($i|=n),be===4&&an(e,_e)),Xe(e,r),n===1&&ne===0&&!(t.mode&1)&&(Er=xe()+500,Oi&&Sn()))}function Xe(e,t){var n=e.callbackNode;Xg(e,t);var r=Xo(e,e===Te?_e:0);if(r===0)n!==null&&Cu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cu(n),t===1)e.tag===0?Gy(xd.bind(null,e)):fh(xd.bind(null,e)),qy(function(){!(ne&6)&&Sn()}),n=null;else{switch(Bf(r)){case 1:n=uc;break;case 4:n=Df;break;case 16:n=Go;break;case 536870912:n=Uf;break;default:n=Go}n=up(n,rp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rp(e,t){if(Mo=-1,Fo=0,ne&6)throw Error(D(327));var n=e.callbackNode;if(jr()&&e.callbackNode!==n)return null;var r=Xo(e,e===Te?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=mi(e,r);else{t=r;var s=ne;ne|=2;var i=op();(Te!==e||_e!==t)&&(It=null,Er=xe()+500,Un(e,t));do try{yx();break}catch(l){sp(e,l)}while(1);bc(),fi.current=i,ne=s,ve!==null?t=0:(Te=null,_e=0,t=be)}if(t!==0){if(t===2&&(s=nl(e),s!==0&&(r=s,t=Pl(e,s))),t===1)throw n=Os,Un(e,0),an(e,r),Xe(e,xe()),n;if(t===6)an(e,r);else{if(s=e.current.alternate,!(r&30)&&!mx(s)&&(t=mi(e,r),t===2&&(i=nl(e),i!==0&&(r=i,t=Pl(e,i))),t===1))throw n=Os,Un(e,0),an(e,r),Xe(e,xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Ln(e,qe,It);break;case 3:if(an(e,r),(r&130023424)===r&&(t=Dc+500-xe(),10<t)){if(Xo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ul(Ln.bind(null,e,qe,It),t);break}Ln(e,qe,It);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Ct(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*px(r/1960))-r,10<r){e.timeoutHandle=ul(Ln.bind(null,e,qe,It),r);break}Ln(e,qe,It);break;case 5:Ln(e,qe,It);break;default:throw Error(D(329))}}}return Xe(e,xe()),e.callbackNode===n?rp.bind(null,e):null}function Pl(e,t){var n=ms;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=mi(e,t),e!==2&&(t=qe,qe=n,t!==null&&Rl(t)),e}function Rl(e){qe===null?qe=e:qe.push.apply(qe,e)}function mx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~$c,t&=~$i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function xd(e){if(ne&6)throw Error(D(327));jr();var t=Xo(e,0);if(!(t&1))return Xe(e,xe()),null;var n=mi(e,t);if(e.tag!==0&&n===2){var r=nl(e);r!==0&&(t=r,n=Pl(e,r))}if(n===1)throw n=Os,Un(e,0),an(e,t),Xe(e,xe()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,qe,It),Xe(e,xe()),null}function Uc(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Er=xe()+500,Oi&&Sn())}}function qn(e){cn!==null&&cn.tag===0&&!(ne&6)&&jr();var t=ne;ne|=1;var n=gt.transition,r=oe;try{if(gt.transition=null,oe=1,e)return e()}finally{oe=r,gt.transition=n,ne=t,!(ne&6)&&Sn()}}function Ic(){nt=pr.current,ce(pr)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hy(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ni();break;case 3:Cr(),ce(Qe),ce($e),_c();break;case 5:Ec(r);break;case 4:Cr();break;case 13:ce(fe);break;case 19:ce(fe);break;case 10:Nc(r.type._context);break;case 22:case 23:Ic()}n=n.return}if(Te=e,ve=e=xn(e.current,null),_e=nt=t,be=0,Os=null,$c=$i=Hn=0,qe=ms=null,Fn!==null){for(t=0;t<Fn.length;t++)if(n=Fn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Fn=null}return e}function sp(e,t){do{var n=ve;try{if(bc(),Ao.current=di,ui){for(var r=he.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ui=!1}if(Vn=0,Ce=ke=he=null,hs=!1,Ps=0,Fc.current=null,n===null||n.return===null){be=1,Os=t,ve=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=_e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var j=od(a);if(j!==null){j.flags&=-257,id(j,a,l,i,t),j.mode&1&&sd(i,u,t),t=j,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){sd(i,u,t),Bc();break e}c=Error(D(426))}}else if(ue&&l.mode&1){var b=od(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),id(b,a,l,i,t),wc(Tr(c,l));break e}}i=c=Tr(c,l),be!==4&&(be=2),ms===null?ms=[i]:ms.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Bh(i,c,t);Yu(i,g);break e;case 1:l=c;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(gn===null||!gn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=zh(i,l,t);Yu(i,x);break e}}i=i.return}while(i!==null)}ap(n)}catch(C){t=C,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(1)}function op(){var e=fi.current;return fi.current=di,e===null?di:e}function Bc(){(be===0||be===3||be===2)&&(be=4),Te===null||!(Hn&268435455)&&!($i&268435455)||an(Te,_e)}function mi(e,t){var n=ne;ne|=2;var r=op();(Te!==e||_e!==t)&&(It=null,Un(e,t));do try{gx();break}catch(s){sp(e,s)}while(1);if(bc(),ne=n,fi.current=r,ve!==null)throw Error(D(261));return Te=null,_e=0,be}function gx(){for(;ve!==null;)ip(ve)}function yx(){for(;ve!==null&&!zg();)ip(ve)}function ip(e){var t=cp(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?ap(e):ve=t,Fc.current=null}function ap(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ux(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,ve=null;return}}else if(n=cx(n,t,nt),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);be===0&&(be=5)}function Ln(e,t,n){var r=oe,s=gt.transition;try{gt.transition=null,oe=1,xx(e,t,n,r)}finally{gt.transition=s,oe=r}return null}function xx(e,t,n,r){do jr();while(cn!==null);if(ne&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Yg(e,i),e===Te&&(ve=Te=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wo||(wo=!0,up(Go,function(){return jr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gt.transition,gt.transition=null;var a=oe;oe=1;var l=ne;ne|=4,Fc.current=null,fx(e,n),tp(n,e),Dy(ll),Yo=!!al,ll=al=null,e.current=n,hx(n),Wg(),ne=l,oe=a,gt.transition=i}else e.current=n;if(wo&&(wo=!1,cn=e,pi=s),i=e.pendingLanes,i===0&&(gn=null),qg(n.stateNode),Xe(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hi)throw hi=!1,e=El,El=null,e;return pi&1&&e.tag!==0&&jr(),i=e.pendingLanes,i&1?e===_l?gs++:(gs=0,_l=e):gs=0,Sn(),null}function jr(){if(cn!==null){var e=Bf(pi),t=gt.transition,n=oe;try{if(gt.transition=null,oe=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,pi=0,ne&6)throw Error(D(331));var s=ne;for(ne|=4,z=e.current;z!==null;){var i=z,a=i.child;if(z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(z=u;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:ps(8,d,i)}var h=d.child;if(h!==null)h.return=d,z=h;else for(;z!==null;){d=z;var p=d.sibling,j=d.return;if(Yh(d),d===u){z=null;break}if(p!==null){p.return=j,z=p;break}z=j}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}z=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,z=a;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ps(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,z=g;break e}z=i.return}}var f=e.current;for(z=f;z!==null;){a=z;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,z=m;else e:for(a=f;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fi(9,l)}}catch(C){me(l,l.return,C)}if(l===a){z=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,z=x;break e}z=l.return}}if(ne=s,Sn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Ei,e)}catch{}r=!0}return r}finally{oe=n,gt.transition=t}}return!1}function vd(e,t,n){t=Tr(n,t),t=Bh(e,t,1),e=mn(e,t,1),t=Be(),e!==null&&(Bs(e,1,t),Xe(e,t))}function me(e,t,n){if(e.tag===3)vd(e,e,n);else for(;t!==null;){if(t.tag===3){vd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){e=Tr(n,e),e=zh(t,e,1),t=mn(t,e,1),e=Be(),t!==null&&(Bs(t,1,e),Xe(t,e));break}}t=t.return}}function vx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(_e&n)===n&&(be===4||be===3&&(_e&130023424)===_e&&500>xe()-Dc?Un(e,0):$c|=n),Xe(e,t)}function lp(e,t){t===0&&(e.mode&1?(t=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):t=1);var n=Be();e=Kt(e,t),e!==null&&(Bs(e,t,n),Xe(e,n))}function jx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lp(e,n)}function wx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),lp(e,n)}var cp;cp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,lx(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,ue&&t.flags&1048576&&hh(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lo(e,t),e=t.pendingProps;var s=br(t,$e.current);vr(t,n),s=Rc(null,t,r,e,s,n);var i=Ac();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(r)?(i=!0,ri(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cc(t),s.updater=Mi,t.stateNode=s,s._reactInternals=t,yl(t,r,e,n),t=jl(null,t,r,!0,i,n)):(t.tag=0,ue&&i&&vc(t),Ie(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=bx(r),e=kt(r,e),s){case 0:t=vl(null,t,r,e,n);break e;case 1:t=cd(null,t,r,e,n);break e;case 11:t=ad(null,t,r,e,n);break e;case 14:t=ld(null,t,r,kt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),vl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),cd(e,t,r,s,n);case 3:e:{if(qh(t),e===null)throw Error(D(387));r=t.pendingProps,i=t.memoizedState,s=i.element,vh(e,t),li(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Tr(Error(D(423)),t),t=ud(e,t,r,n,s);break e}else if(r!==s){s=Tr(Error(D(424)),t),t=ud(e,t,r,n,s);break e}else for(rt=pn(t.stateNode.containerInfo.firstChild),st=t,ue=!0,St=null,n=yh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===s){t=Qt(e,t,n);break e}Ie(e,t,r,n)}t=t.child}return t;case 5:return jh(t),e===null&&pl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,cl(r,s)?a=null:i!==null&&cl(r,i)&&(t.flags|=32),Hh(e,t),Ie(e,t,a,n),t.child;case 6:return e===null&&pl(t),null;case 13:return Jh(e,t,n);case 4:return Tc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sr(t,null,r,n):Ie(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),ad(e,t,r,s,n);case 7:return Ie(e,t,t.pendingProps,n),t.child;case 8:return Ie(e,t,t.pendingProps.children,n),t.child;case 12:return Ie(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ae(ii,r._currentValue),r._currentValue=a,i!==null)if(_t(i.value,a)){if(i.children===s.children&&!Qe.current){t=Qt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ht(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ml(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(D(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ml(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ie(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,vr(t,n),s=yt(s),r=r(s),t.flags|=1,Ie(e,t,r,n),t.child;case 14:return r=t.type,s=kt(r,t.pendingProps),s=kt(r.type,s),ld(e,t,r,s,n);case 15:return Wh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),Lo(e,t),t.tag=1,Ge(r)?(e=!0,ri(t)):e=!1,vr(t,n),Ih(t,r,s),yl(t,r,s,n),jl(null,t,r,!0,e,n);case 19:return Kh(e,t,n);case 22:return Vh(e,t,n)}throw Error(D(156,t.tag))};function up(e,t){return $f(e,t)}function kx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new kx(e,t,n,r)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bx(e){if(typeof e=="function")return zc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ac)return 11;if(e===lc)return 14}return 2}function xn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $o(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")zc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case sr:return In(n.children,s,i,t);case ic:a=8,s|=8;break;case Ba:return e=mt(12,n,t,s|2),e.elementType=Ba,e.lanes=i,e;case za:return e=mt(13,n,t,s),e.elementType=za,e.lanes=i,e;case Wa:return e=mt(19,n,t,s),e.elementType=Wa,e.lanes=i,e;case jf:return Di(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xf:a=10;break e;case vf:a=9;break e;case ac:a=11;break e;case lc:a=14;break e;case rn:a=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=mt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function In(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function Di(e,t,n,r){return e=mt(22,e,r,t),e.elementType=jf,e.lanes=n,e.stateNode={isHidden:!1},e}function Ta(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function Ea(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nx(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,s,i,a,l,c){return e=new Nx(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cc(i),e}function Sx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function dp(e){if(!e)return kn;e=e._reactInternals;e:{if(Gn(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Ge(n))return dh(e,n,t)}return t}function fp(e,t,n,r,s,i,a,l,c){return e=Wc(n,r,!0,e,s,i,a,l,c),e.context=dp(null),n=e.current,r=Be(),s=yn(n),i=Ht(r,s),i.callback=t??null,mn(n,i,s),e.current.lanes=s,Bs(e,s,r),Xe(e,r),e}function Ui(e,t,n,r){var s=t.current,i=Be(),a=yn(s);return n=dp(n),t.context===null?t.context=n:t.pendingContext=n,t=Ht(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mn(s,t,a),e!==null&&(Tt(e,s,a,i),Ro(e,s,a)),a}function gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vc(e,t){jd(e,t),(e=e.alternate)&&jd(e,t)}function Cx(){return null}var hp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hc(e){this._internalRoot=e}Ii.prototype.render=Hc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Ui(e,t,null,null)};Ii.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qn(function(){Ui(null,e,null,null)}),t[Jt]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&qf(e)}};function qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wd(){}function Tx(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=gi(a);i.call(u)}}var a=fp(t,r,e,0,null,!1,!1,"",wd);return e._reactRootContainer=a,e[Jt]=a.current,Ss(e.nodeType===8?e.parentNode:e),qn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=gi(c);l.call(u)}}var c=Wc(e,0,!1,null,null,!1,!1,"",wd);return e._reactRootContainer=c,e[Jt]=c.current,Ss(e.nodeType===8?e.parentNode:e),qn(function(){Ui(t,c,n,r)}),c}function zi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=gi(a);l.call(c)}}Ui(t,a,e,s)}else a=Tx(n,t,e,s,r);return gi(a)}zf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ss(t.pendingLanes);n!==0&&(dc(t,n|1),Xe(t,xe()),!(ne&6)&&(Er=xe()+500,Sn()))}break;case 13:qn(function(){var r=Kt(e,1);if(r!==null){var s=Be();Tt(r,e,1,s)}}),Vc(e,1)}};fc=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var n=Be();Tt(t,e,134217728,n)}Vc(e,134217728)}};Wf=function(e){if(e.tag===13){var t=yn(e),n=Kt(e,t);if(n!==null){var r=Be();Tt(n,e,t,r)}Vc(e,t)}};Vf=function(){return oe};Hf=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};Za=function(e,t,n){switch(t){case"input":if(qa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ai(r);if(!s)throw Error(D(90));kf(r),qa(r,s)}}}break;case"textarea":Nf(e,n);break;case"select":t=n.value,t!=null&&mr(e,!!n.multiple,t,!1)}};Rf=Uc;Af=qn;var Ex={usingClientEntryPoint:!1,Events:[Ws,lr,Ai,_f,Pf,Uc]},Yr={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_x={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mf(e),e===null?null:e.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||Cx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{Ei=ko.inject(_x),Mt=ko}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ex;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(t))throw Error(D(200));return Sx(e,t,null,n)};at.createRoot=function(e,t){if(!qc(e))throw Error(D(299));var n=!1,r="",s=hp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wc(e,1,!1,null,null,n,!1,r,s),e[Jt]=t.current,Ss(e.nodeType===8?e.parentNode:e),new Hc(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Mf(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return qn(e)};at.hydrate=function(e,t,n){if(!Bi(t))throw Error(D(200));return zi(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!qc(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=hp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=fp(t,null,e,1,n??null,s,!1,i,a),e[Jt]=t.current,Ss(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ii(t)};at.render=function(e,t,n){if(!Bi(t))throw Error(D(200));return zi(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!Bi(e))throw Error(D(40));return e._reactRootContainer?(qn(function(){zi(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};at.unstable_batchedUpdates=Uc;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bi(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return zi(e,t,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function pp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pp)}catch(e){console.error(e)}}pp(),pf.exports=at;var Px=pf.exports,kd=Px;Ua.createRoot=kd.createRoot,Ua.hydrateRoot=kd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(this,arguments)}var un;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(un||(un={}));const bd="popstate";function Rx(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return Al("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:yi(s)}return Ox(t,n,null,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ax(){return Math.random().toString(36).substr(2,8)}function Nd(e,t){return{usr:e.state,key:e.key,idx:t}}function Al(e,t,n,r){return n===void 0&&(n=null),Ls({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fr(t):t,{state:n,key:t&&t.key||r||Ax()})}function yi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ox(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=un.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Ls({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=un.Pop;let b=d(),g=b==null?null:b-u;u=b,c&&c({action:l,location:w.location,delta:g})}function p(b,g){l=un.Push;let f=Al(w.location,b,g);n&&n(f,b),u=d()+1;let m=Nd(f,u),x=w.createHref(f);try{a.pushState(m,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(x)}i&&c&&c({action:l,location:w.location,delta:1})}function j(b,g){l=un.Replace;let f=Al(w.location,b,g);n&&n(f,b),u=d();let m=Nd(f,u),x=w.createHref(f);a.replaceState(m,"",x),i&&c&&c({action:l,location:w.location,delta:0})}function v(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof b=="string"?b:yi(b);return f=f.replace(/ $/,"%20"),ye(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let w={get action(){return l},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(bd,h),c=b,()=>{s.removeEventListener(bd,h),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let g=v(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:j,go(b){return a.go(b)}};return w}var Sd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sd||(Sd={}));function Lx(e,t,n){return n===void 0&&(n="/"),Mx(e,t,n,!1)}function Mx(e,t,n,r){let s=typeof t=="string"?Fr(t):t,i=_r(s.pathname||"/",n);if(i==null)return null;let a=gp(e);Fx(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Jx(i);l=Hx(a[c],u,r)}return l}function gp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ye(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=vn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gp(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Wx(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of yp(i.path))s(i,a,c)}),t}function yp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=yp(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Fx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $x=/^:[\w-]+$/,Dx=3,Ux=2,Ix=1,Bx=10,zx=-2,Cd=e=>e==="*";function Wx(e,t){let n=e.split("/"),r=n.length;return n.some(Cd)&&(r+=zx),t&&(r+=Ux),n.filter(s=>!Cd(s)).reduce((s,i)=>s+($x.test(i)?Dx:i===""?Ix:Bx),r)}function Vx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Hx(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=xi({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=xi({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:vn([i,h.pathname]),pathnameBase:Xx(vn([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=vn([i,h.pathnameBase]))}return a}function xi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qx(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:j}=d;if(p==="*"){let w=l[h]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[h];return j&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function qx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),mp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Jx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _r(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Kx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Fr(e):e;return{pathname:n?n.startsWith("/")?n:Qx(n,t):t,search:Yx(r),hash:Zx(s)}}function Qx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _a(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xp(e,t){let n=Gx(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vp(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Fr(e):(s=Ls({},e),ye(!s.pathname||!s.pathname.includes("?"),_a("?","pathname","search",s)),ye(!s.pathname||!s.pathname.includes("#"),_a("#","pathname","hash",s)),ye(!s.search||!s.search.includes("#"),_a("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=Kx(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const vn=e=>e.join("/").replace(/\/\/+/g,"/"),Xx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Zx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ev(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jp=["post","put","patch","delete"];new Set(jp);const tv=["get",...jp];new Set(tv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(this,arguments)}const Wi=y.createContext(null),wp=y.createContext(null),Cn=y.createContext(null),Vi=y.createContext(null),Xt=y.createContext({outlet:null,matches:[],isDataRoute:!1}),kp=y.createContext(null);function nv(e,t){let{relative:n}=t===void 0?{}:t;Hs()||ye(!1);let{basename:r,navigator:s}=y.useContext(Cn),{hash:i,pathname:a,search:l}=Hi(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:vn([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Hs(){return y.useContext(Vi)!=null}function Tn(){return Hs()||ye(!1),y.useContext(Vi).location}function bp(e){y.useContext(Cn).static||y.useLayoutEffect(e)}function Xn(){let{isDataRoute:e}=y.useContext(Xt);return e?yv():rv()}function rv(){Hs()||ye(!1);let e=y.useContext(Wi),{basename:t,future:n,navigator:r}=y.useContext(Cn),{matches:s}=y.useContext(Xt),{pathname:i}=Tn(),a=JSON.stringify(xp(s,n.v7_relativeSplatPath)),l=y.useRef(!1);return bp(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=vp(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:vn([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,a,i,e])}const sv=y.createContext(null);function ov(e){let t=y.useContext(Xt).outlet;return t&&y.createElement(sv.Provider,{value:e},t)}function Np(){let{matches:e}=y.useContext(Xt),t=e[e.length-1];return t?t.params:{}}function Hi(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(Cn),{matches:s}=y.useContext(Xt),{pathname:i}=Tn(),a=JSON.stringify(xp(s,r.v7_relativeSplatPath));return y.useMemo(()=>vp(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function iv(e,t){return av(e,t)}function av(e,t,n,r){Hs()||ye(!1);let{navigator:s}=y.useContext(Cn),{matches:i}=y.useContext(Xt),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Tn(),d;if(t){var h;let b=typeof t=="string"?Fr(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||ye(!1),d=b}else d=u;let p=d.pathname||"/",j=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");j="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=Lx(e,{pathname:j}),w=fv(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:vn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:vn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&w?y.createElement(Vi.Provider,{value:{location:Ms({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:un.Pop}},w):w}function lv(){let e=gv(),t=ev(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,i)}const cv=y.createElement(lv,null);class uv extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Xt.Provider,{value:this.props.routeContext},y.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dv(e){let{routeContext:t,match:n,children:r}=e,s=y.useContext(Wi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Xt.Provider,{value:t},r)}function fv(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ye(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:j}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!j||j[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let j,v=!1,w=null,b=null;n&&(j=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||cv,c&&(u<0&&p===0?(xv("route-fallback",!1),v=!0,b=null):u===p&&(v=!0,b=h.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,p+1)),f=()=>{let m;return j?m=w:v?m=b:h.route.Component?m=y.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,y.createElement(dv,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:m})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(uv,{location:n.location,revalidation:n.revalidation,component:w,error:j,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var Sp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sp||{}),vi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vi||{});function hv(e){let t=y.useContext(Wi);return t||ye(!1),t}function pv(e){let t=y.useContext(wp);return t||ye(!1),t}function mv(e){let t=y.useContext(Xt);return t||ye(!1),t}function Cp(e){let t=mv(),n=t.matches[t.matches.length-1];return n.route.id||ye(!1),n.route.id}function gv(){var e;let t=y.useContext(kp),n=pv(vi.UseRouteError),r=Cp(vi.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function yv(){let{router:e}=hv(Sp.UseNavigateStable),t=Cp(vi.UseNavigateStable),n=y.useRef(!1);return bp(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ms({fromRouteId:t},i)))},[e,t])}const Td={};function xv(e,t,n){!t&&!Td[e]&&(Td[e]=!0)}function vv(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function jv(e){return ov(e.context)}function Ut(e){ye(!1)}function wv(e){let{basename:t="/",children:n=null,location:r,navigationType:s=un.Pop,navigator:i,static:a=!1,future:l}=e;Hs()&&ye(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:a,future:Ms({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Fr(r));let{pathname:d="/",search:h="",hash:p="",state:j=null,key:v="default"}=r,w=y.useMemo(()=>{let b=_r(d,c);return b==null?null:{location:{pathname:b,search:h,hash:p,state:j,key:v},navigationType:s}},[c,d,h,p,j,v,s]);return w==null?null:y.createElement(Cn.Provider,{value:u},y.createElement(Vi.Provider,{children:n,value:w}))}function kv(e){let{children:t,location:n}=e;return iv(Ol(t),n)}new Promise(()=>{});function Ol(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,s)=>{if(!y.isValidElement(r))return;let i=[...t,s];if(r.type===y.Fragment){n.push.apply(n,Ol(r.props.children,i));return}r.type!==Ut&&ye(!1),!r.props.index||!r.props.children||ye(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ol(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ji.apply(this,arguments)}function Tp(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function bv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Nv(e,t){return e.button===0&&(!t||t==="_self")&&!bv(e)}function Ll(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Sv(e,t){let n=Ll(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const Cv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ev="6";try{window.__reactRouterVersion=Ev}catch{}const _v=y.createContext({isTransitioning:!1}),Pv="startTransition",Ed=vg[Pv];function Rv(e){let{basename:t,children:n,future:r,window:s}=e,i=y.useRef();i.current==null&&(i.current=Rx({window:s,v5Compat:!0}));let a=i.current,[l,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&Ed?Ed(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>a.listen(d),[a,d]),y.useEffect(()=>vv(r),[r]),y.createElement(wv,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const Av=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fs=y.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=Tp(t,Cv),{basename:j}=y.useContext(Cn),v,w=!1;if(typeof u=="string"&&Ov.test(u)&&(v=u,Av))try{let m=new URL(window.location.href),x=u.startsWith("//")?new URL(m.protocol+u):new URL(u),C=_r(x.pathname,j);x.origin===m.origin&&C!=null?u=C+x.search+x.hash:w=!0}catch{}let b=nv(u,{relative:s}),g=Mv(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function f(m){r&&r(m),m.defaultPrevented||g(m)}return y.createElement("a",ji({},p,{href:v||b,onClick:w||i?r:f,ref:n,target:c}))}),Zr=y.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=t,h=Tp(t,Tv),p=Hi(c,{relative:h.relative}),j=Tn(),v=y.useContext(wp),{navigator:w,basename:b}=y.useContext(Cn),g=v!=null&&$v(p)&&u===!0,f=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,m=j.pathname,x=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(m=m.toLowerCase(),x=x?x.toLowerCase():null,f=f.toLowerCase()),x&&b&&(x=_r(x,b)||x);const C=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let O=m===f||!a&&m.startsWith(f)&&m.charAt(C)==="/",N=x!=null&&(x===f||!a&&x.startsWith(f)&&x.charAt(f.length)==="/"),P={isActive:O,isPending:N,isTransitioning:g},A=O?r:void 0,_;typeof i=="function"?_=i(P):_=[i,O?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(P):l;return y.createElement(Fs,ji({},h,{"aria-current":A,className:_,ref:n,style:R,to:c,viewTransition:u}),typeof d=="function"?d(P):d)});var Ml;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ml||(Ml={}));var _d;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_d||(_d={}));function Lv(e){let t=y.useContext(Wi);return t||ye(!1),t}function Mv(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Xn(),u=Tn(),d=Hi(e,{relative:a});return y.useCallback(h=>{if(Nv(h,n)){h.preventDefault();let p=r!==void 0?r:yi(u)===yi(d);c(e,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}function Fv(e){let t=y.useRef(Ll(e)),n=y.useRef(!1),r=Tn(),s=y.useMemo(()=>Sv(r.search,n.current?null:t.current),[r.search]),i=Xn(),a=y.useCallback((l,c)=>{const u=Ll(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}function $v(e,t){t===void 0&&(t={});let n=y.useContext(_v);n==null&&ye(!1);let{basename:r}=Lv(Ml.useViewTransitionState),s=Hi(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=_r(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=_r(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xi(s.pathname,a)!=null||xi(s.pathname,i)!=null}var Dv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Iv=(e,t)=>{const n=y.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:l,...c},u)=>y.createElement("svg",{ref:u,...Dv,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${Uv(e)}`,...c},[...t.map(([d,h])=>y.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var X=Iv;const Jc=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),wi=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ep=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Jn=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Bv=X("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Pd=X("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),zv=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wv=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Vv=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Fl=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),$r=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Hv=X("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),qv=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),is=X("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Pa=X("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Ze=X("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),Jv=X("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),Kv=X("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),Qv=X("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Gv=X("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),$l=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Xv=X("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Yv=X("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Zv=X("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),e0=X("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),t0=X("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),n0=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),_p=X("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Pr=X("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Vt=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),r0=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),s0=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),o0=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Kc=X("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Qc=X("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),i0=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Pp=X("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Rp=X("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),a0=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ot=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),l0=X("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Yn=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ap(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ap(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nn(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ap(e))&&(r&&(r+=" "),r+=t);return r}const Op=y.createContext(void 0),c0=({children:e})=>{const[t,n]=y.useState(!1),a={isCollapsed:t,toggleSidebar:()=>{n(l=>!l)},expandSidebar:()=>{n(!1)},collapseSidebar:()=>{n(!0)}};return o.jsx(Op.Provider,{value:a,children:e})},Lp=()=>{const e=y.useContext(Op);if(e===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return e},u0=[{name:"Dashboard",href:"/",icon:Qv},{name:"Projects",href:"/projects",icon:Ze},{name:"Teams",href:"/teams",icon:ot},{name:"Schedules",href:"/scheduled-checkins",icon:$r}],d0=()=>{const e=Tn(),{isCollapsed:t,toggleSidebar:n}=Lp(),r=e.pathname.match(/\/projects\/([^/]+)/),s=r?r[1]:null,i=(e.hash||"#detail").replace("#","");return o.jsxs("div",{className:nn("flex flex-col h-screen max-h-screen bg-surface-dark/95 border-r border-border-dark overflow-hidden w-full"),children:[o.jsx("div",{className:"flex items-center p-4 border-b border-border-dark",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-primary text-white p-2 rounded-lg",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}),!t&&o.jsx("span",{className:"ml-3 text-lg font-bold text-text-primary-dark",children:"AgentMux"})]})}),o.jsx("nav",{className:"flex-1 px-2 py-3 overflow-y-auto",children:o.jsx("div",{className:"space-y-2",children:u0.map(a=>{const l=e.pathname===a.href||a.href!=="/"&&e.pathname.startsWith(a.href);return o.jsxs("div",{children:[o.jsxs(Zr,{to:a.href,className:nn("group flex items-center px-4 py-2 rounded-lg text-sm transition-colors",l?"bg-primary/10 text-primary font-semibold":"text-text-secondary-dark hover:bg-background-dark hover:text-text-primary-dark"),title:t?a.name:void 0,children:[o.jsx(a.icon,{className:nn("h-5 w-5 flex-shrink-0",l?"text-primary":"")}),!t&&o.jsx("span",{className:"ml-3",children:a.name})]}),!t&&a.href==="/projects"&&s&&o.jsxs("div",{className:"mt-2 ml-4 space-y-1 border-l border-border-dark pl-4",children:[o.jsx(Zr,{to:`/projects/${s}#detail`,className:()=>nn("block px-4 py-2 text-sm rounded-lg transition-colors",i==="detail"?"text-primary font-medium bg-primary/10":"text-text-secondary-dark hover:bg-background-dark hover:text-text-primary-dark"),children:"Overview"}),o.jsx(Zr,{to:`/projects/${s}#editor`,className:()=>nn("block px-4 py-2 text-sm rounded-lg transition-colors",i==="editor"?"text-primary font-medium bg-primary/10":"text-text-secondary-dark hover:bg-background-dark hover:text-text-primary-dark"),children:"Editor"}),o.jsx(Zr,{to:`/projects/${s}#tasks`,className:()=>nn("block px-4 py-2 text-sm rounded-lg transition-colors",i==="tasks"?"text-primary font-medium bg-primary/10":"text-text-secondary-dark hover:bg-background-dark hover:text-text-primary-dark"),children:"Tasks"}),o.jsx(Zr,{to:`/projects/${s}#teams`,className:()=>nn("block px-4 py-2 text-sm rounded-lg transition-colors",i==="teams"?"text-primary font-medium bg-primary/10":"text-text-secondary-dark hover:bg-background-dark hover:text-text-primary-dark"),children:"Teams"})]})]},a.name)})})}),o.jsx("div",{className:"p-2 border-t border-border-dark",children:o.jsx("button",{className:"flex items-center justify-center w-full p-2 text-text-secondary-dark hover:bg-background-dark/60 hover:text-text-primary-dark rounded-lg transition-colors",onClick:n,"aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?o.jsx(Vv,{className:"h-5 w-5"}):o.jsxs(o.Fragment,{children:[o.jsx(Wv,{className:"h-5 w-5 mr-3"}),o.jsx("span",{className:"text-sm",children:"Collapse"})]})})})]})},Mp=y.createContext(void 0),qs=()=>{const e=y.useContext(Mp);if(!e)throw new Error("useTerminal must be used within a TerminalProvider");return e},f0=({children:e})=>{const[t,n]=y.useState(!1),[r,s]=y.useState("agentmux-orc"),c={isTerminalOpen:t,selectedSession:r,openTerminal:()=>n(!0),closeTerminal:()=>n(!1),setSelectedSession:s,openTerminalWithSession:u=>{console.log("TerminalContext: openTerminalWithSession called with:",u),s(u),n(!0),console.log("TerminalContext: Terminal opened and session set to:",u)}};return o.jsx(Mp.Provider,{value:c,children:e})},$t=Object.create(null);$t.open="0";$t.close="1";$t.ping="2";$t.pong="3";$t.message="4";$t.upgrade="5";$t.noop="6";const Do=Object.create(null);Object.keys($t).forEach(e=>{Do[$t[e]]=e});const Dl={type:"error",data:"parser error"},Fp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",$p=typeof ArrayBuffer=="function",Dp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Gc=({type:e,data:t},n,r)=>Fp&&t instanceof Blob?n?r(t):Rd(t,r):$p&&(t instanceof ArrayBuffer||Dp(t))?n?r(t):Rd(new Blob([t]),r):r($t[e]+(t||"")),Rd=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Ad(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ra;function h0(e,t){if(Fp&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ad).then(t);if($p&&(e.data instanceof ArrayBuffer||Dp(e.data)))return t(Ad(e.data));Gc(e,!1,n=>{Ra||(Ra=new TextEncoder),t(Ra.encode(n))})}const Od="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",as=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Od.length;e++)as[Od.charCodeAt(e)]=e;const p0=e=>{let t=e.length*.75,n=e.length,r,s=0,i,a,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(r=0;r<n;r+=4)i=as[e.charCodeAt(r)],a=as[e.charCodeAt(r+1)],l=as[e.charCodeAt(r+2)],c=as[e.charCodeAt(r+3)],d[s++]=i<<2|a>>4,d[s++]=(a&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},m0=typeof ArrayBuffer=="function",Xc=(e,t)=>{if(typeof e!="string")return{type:"message",data:Up(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:g0(e.substring(1),t)}:Do[n]?e.length>1?{type:Do[n],data:e.substring(1)}:{type:Do[n]}:Dl},g0=(e,t)=>{if(m0){const n=p0(e);return Up(n,t)}else return{base64:!0,data:e}},Up=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Ip=String.fromCharCode(30),y0=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,a)=>{Gc(i,!1,l=>{r[a]=l,++s===n&&t(r.join(Ip))})})},x0=(e,t)=>{const n=e.split(Ip),r=[];for(let s=0;s<n.length;s++){const i=Xc(n[s],t);if(r.push(i),i.type==="error")break}return r};function v0(){return new TransformStream({transform(e,t){h0(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Aa;function bo(e){return e.reduce((t,n)=>t+n.length,0)}function No(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function j0(e,t){Aa||(Aa=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(a,l){for(n.push(a);;){if(r===0){if(bo(n)<1)break;const c=No(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(bo(n)<2)break;const c=No(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(bo(n)<8)break;const c=No(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,53-32)-1){l.enqueue(Dl);break}s=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(bo(n)<s)break;const c=No(n,s);l.enqueue(Xc(i?c:Aa.decode(c),t)),r=0}if(s===0||s>e){l.enqueue(Dl);break}}}})}const Bp=4;function je(e){if(e)return w0(e)}function w0(e){for(var t in je.prototype)e[t]=je.prototype[t];return e}je.prototype.on=je.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};je.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};je.prototype.off=je.prototype.removeListener=je.prototype.removeAllListeners=je.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};je.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};je.prototype.emitReserved=je.prototype.emit;je.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};je.prototype.hasListeners=function(e){return!!this.listeners(e).length};const qi=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),pt=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),k0="arraybuffer";function zp(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const b0=pt.setTimeout,N0=pt.clearTimeout;function Ji(e,t){t.useNativeTimers?(e.setTimeoutFn=b0.bind(pt),e.clearTimeoutFn=N0.bind(pt)):(e.setTimeoutFn=pt.setTimeout.bind(pt),e.clearTimeoutFn=pt.clearTimeout.bind(pt))}const S0=1.33;function C0(e){return typeof e=="string"?T0(e):Math.ceil((e.byteLength||e.size)*S0)}function T0(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Wp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function E0(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function _0(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class P0 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Yc extends je{constructor(t){super(),this.writable=!1,Ji(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new P0(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Xc(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=E0(t);return n.length?"?"+n:""}}class R0 extends Yc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};x0(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,y0(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Wp()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Vp=!1;try{Vp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const A0=Vp;function O0(){}class L0 extends R0{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let wr=class Uo extends je{constructor(t,n,r){super(),this.createRequest=t,Ji(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=zp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Uo.requestsCount++,Uo.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=O0,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Uo.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};wr.requestsCount=0;wr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ld);else if(typeof addEventListener=="function"){const e="onpagehide"in pt?"pagehide":"unload";addEventListener(e,Ld,!1)}}function Ld(){for(let e in wr.requests)wr.requests.hasOwnProperty(e)&&wr.requests[e].abort()}const M0=function(){const e=Hp({xdomain:!1});return e&&e.responseType!==null}();class F0 extends L0{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=M0&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new wr(Hp,this.uri(),t)}}function Hp(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||A0))return new XMLHttpRequest}catch{}if(!t)try{return new pt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const qp=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class $0 extends Yc{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=qp?{}:zp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Gc(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&qi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Wp()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Oa=pt.WebSocket||pt.MozWebSocket;class D0 extends $0{createSocket(t,n,r){return qp?new Oa(t,n,r):n?new Oa(t,n):new Oa(t)}doWrite(t,n){this.ws.send(n)}}class U0 extends Yc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=j0(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=v0();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&qi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const I0={websocket:D0,webtransport:U0,polling:F0},B0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,z0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ul(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=B0.exec(e||""),i={},a=14;for(;a--;)i[z0[a]]=s[a]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=W0(i,i.path),i.queryKey=V0(i,i.query),i}function W0(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function V0(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const Il=typeof addEventListener=="function"&&typeof removeEventListener=="function",Io=[];Il&&addEventListener("offline",()=>{Io.forEach(e=>e())},!1);class jn extends je{constructor(t,n){if(super(),this.binaryType=k0,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Ul(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Ul(n.host).host);Ji(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_0(this.opts.query)),Il&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Io.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Bp,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&jn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",jn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=C0(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,qi(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(jn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Il&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Io.indexOf(this._offlineEventListener);r!==-1&&Io.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}jn.protocol=Bp;class H0 extends jn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;jn.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;jn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const a=h=>{const p=new Error("probe error: "+h);p.transport=n.name,i(),this.emitReserved("upgradeError",p)};function l(){a("transport closed")}function c(){a("socket closed")}function u(h){n&&h.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",a),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let q0=class extends H0{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>I0[s]).filter(s=>!!s)),super(t,r)}};function J0(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Ul(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const K0=typeof ArrayBuffer=="function",Q0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Jp=Object.prototype.toString,G0=typeof Blob=="function"||typeof Blob<"u"&&Jp.call(Blob)==="[object BlobConstructor]",X0=typeof File=="function"||typeof File<"u"&&Jp.call(File)==="[object FileConstructor]";function Zc(e){return K0&&(e instanceof ArrayBuffer||Q0(e))||G0&&e instanceof Blob||X0&&e instanceof File}function Bo(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Bo(e[n]))return!0;return!1}if(Zc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Bo(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Bo(e[n]))return!0;return!1}function Y0(e){const t=[],n=e.data,r=e;return r.data=Bl(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Bl(e,t){if(!e)return e;if(Zc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Bl(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Bl(e[r],t));return n}return e}function Z0(e,t){return e.data=zl(e.data,t),delete e.attachments,e}function zl(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=zl(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=zl(e[n],t));return e}const ej=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],tj=5;var ee;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ee||(ee={}));class nj{constructor(t){this.replacer=t}encode(t){return(t.type===ee.EVENT||t.type===ee.ACK)&&Bo(t)?this.encodeAsBinary({type:t.type===ee.EVENT?ee.BINARY_EVENT:ee.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ee.BINARY_EVENT||t.type===ee.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Y0(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Md(e){return Object.prototype.toString.call(e)==="[object Object]"}class eu extends je{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===ee.BINARY_EVENT;r||n.type===ee.BINARY_ACK?(n.type=r?ee.EVENT:ee.ACK,this.reconstructor=new rj(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Zc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(ee[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ee.BINARY_EVENT||r.type===ee.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(i,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(eu.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ee.CONNECT:return Md(n);case ee.DISCONNECT:return n===void 0;case ee.CONNECT_ERROR:return typeof n=="string"||Md(n);case ee.EVENT:case ee.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&ej.indexOf(n[0])===-1);case ee.ACK:case ee.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class rj{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Z0(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const sj=Object.freeze(Object.defineProperty({__proto__:null,Decoder:eu,Encoder:nj,get PacketType(){return ee},protocol:tj},Symbol.toStringTag,{value:"Module"}));function Nt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const oj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Kp extends je{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Nt(t,"open",this.onopen.bind(this)),Nt(t,"packet",this.onpacket.bind(this)),Nt(t,"error",this.onerror.bind(this)),Nt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(oj.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:ee.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),a.id=d}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),a=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(a,l)=>a?s(a):r(l);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ee.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ee.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ee.EVENT:case ee.BINARY_EVENT:this.onevent(t);break;case ee.ACK:case ee.BINARY_ACK:this.onack(t);break;case ee.DISCONNECT:this.ondisconnect();break;case ee.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:ee.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ee.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Dr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Dr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Dr.prototype.reset=function(){this.attempts=0};Dr.prototype.setMin=function(e){this.ms=e};Dr.prototype.setMax=function(e){this.max=e};Dr.prototype.setJitter=function(e){this.jitter=e};class Wl extends je{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ji(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Dr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||sj;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new q0(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Nt(n,"open",function(){r.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},a=Nt(n,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Nt(t,"ping",this.onping.bind(this)),Nt(t,"data",this.ondata.bind(this)),Nt(t,"error",this.onerror.bind(this)),Nt(t,"close",this.onclose.bind(this)),Nt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){qi(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Kp(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const es={};function zo(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=J0(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,a=es[s]&&i in es[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let c;return l?c=new Wl(r,t):(es[s]||(es[s]=new Wl(r,t)),c=es[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(zo,{Manager:Wl,Socket:Kp,io:zo,connect:zo});class ij{constructor(t){dt(this,"socket",null);dt(this,"reconnectAttempts",0);dt(this,"maxReconnectAttempts",5);dt(this,"reconnectInterval",1e3);dt(this,"maxReconnectInterval",3e4);dt(this,"reconnectTimer",null);dt(this,"isIntentionalDisconnect",!1);dt(this,"eventListeners",new Map);this.url=t,this.url=t||`${window.location.protocol}//${window.location.host}`}connect(){return new Promise((t,n)=>{var r;if((r=this.socket)!=null&&r.connected){t();return}this.socket=zo(this.url,{transports:["websocket","polling"],upgrade:!0,autoConnect:!0,reconnection:!1}),this.socket.on("connect",()=>{console.log("WebSocket connected:",this.socket.id),this.reconnectAttempts=0,this.reconnectInterval=1e3,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),t()}),this.socket.on("connect_error",s=>{console.error("WebSocket connection error:",s),this.reconnectAttempts===0?n(s):this.handleReconnection()}),this.socket.on("disconnect",s=>{console.log("WebSocket disconnected:",s),!this.isIntentionalDisconnect&&s!=="io client disconnect"&&this.handleReconnection()}),this.socket.on("terminal_output",s=>{this.emit("terminal_output",s.payload)}),this.socket.on("initial_terminal_state",s=>{this.emit("initial_terminal_state",s.payload)}),this.socket.on("session_status",s=>{this.emit("session_status",s.payload)}),this.socket.on("input_received",s=>{this.emit("input_received",s.payload)}),this.socket.on("subscription_confirmed",s=>{this.emit("subscription_confirmed",s.payload)}),this.socket.on("unsubscription_confirmed",s=>{this.emit("unsubscription_confirmed",s.payload)}),this.socket.on("error",s=>{console.error("WebSocket error:",s.payload),this.emit("error",s.payload)}),this.socket.on("system_notification",s=>{this.emit("system_notification",s.payload)}),this.socket.on("connected",s=>{console.log("WebSocket connection confirmed:",s.payload),this.emit("connected",s.payload)}),this.socket.on("orchestrator_status_changed",s=>{this.emit("orchestrator_status_changed",s.payload)}),this.socket.on("team_member_status_changed",s=>{this.emit("team_member_status_changed",s.payload)}),this.socket.on("team_activity_updated",s=>{this.emit("team_activity_updated",s.payload)})})}handleReconnection(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error("Max reconnection attempts reached"),this.emit("connection_failed",{reason:"Max reconnection attempts reached"});return}this.reconnectAttempts++,console.log(`Attempting to reconnect... (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.reconnectTimer=setTimeout(()=>{var t;(t=this.socket)!=null&&t.connected||this.connect().catch(n=>{console.error("Reconnection failed:",n)})},this.reconnectInterval),this.reconnectInterval=Math.min(this.reconnectInterval*1.5+Math.random()*1e3,this.maxReconnectInterval)}disconnect(){this.isIntentionalDisconnect=!0,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.socket&&(this.socket.disconnect(),this.socket=null),console.log("WebSocket intentionally disconnected")}subscribeToSession(t){var n;if(!((n=this.socket)!=null&&n.connected)){console.error("Cannot subscribe: WebSocket not connected");return}console.log("Subscribing to session:",t),this.socket.emit("subscribe_to_session",t)}unsubscribeFromSession(t){var n;if(!((n=this.socket)!=null&&n.connected)){console.error("Cannot unsubscribe: WebSocket not connected");return}console.log("Unsubscribing from session:",t),this.socket.emit("unsubscribe_from_session",t)}sendInput(t,n){var r;if(!((r=this.socket)!=null&&r.connected)){console.error("Cannot send input: WebSocket not connected");return}this.socket.emit("send_input",{sessionName:t,input:n})}resizeTerminal(t,n,r){var s;if(!((s=this.socket)!=null&&s.connected)){console.error("Cannot resize terminal: WebSocket not connected");return}this.socket.emit("terminal_resize",{sessionName:t,cols:n,rows:r})}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t).add(n)}off(t,n){const r=this.eventListeners.get(t);r&&(r.delete(n),r.size===0&&this.eventListeners.delete(t))}emit(t,n){const r=this.eventListeners.get(t);r&&r.forEach(s=>{try{s(n)}catch(i){console.error(`Error in WebSocket event handler for ${t}:`,i)}})}isConnected(){var t;return((t=this.socket)==null?void 0:t.connected)||!1}getConnectionState(){return this.socket?this.socket.connected?"connected":this.reconnectAttempts>0?"reconnecting":"connecting":"disconnected"}destroy(){this.disconnect(),this.eventListeners.clear()}}const Q=new ij,aj="font-semibold flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",lj={primary:"bg-primary text-white hover:bg-primary/90",secondary:"bg-surface-dark border border-border-dark hover:bg-background-dark",danger:"bg-rose-600 text-white hover:bg-rose-500",ghost:"text-text-secondary-dark hover:bg-background-dark hover:text-text-primary-dark","danger-ghost":"text-text-secondary-dark hover:text-rose-400",success:"bg-emerald-600 text-white hover:bg-emerald-500",warning:"bg-yellow-500 text-black hover:bg-yellow-400",outline:"border border-border-dark text-text-secondary-dark hover:bg-surface-dark hover:text-text-primary-dark"},cj={default:"h-10 px-4 rounded-lg text-sm",sm:"h-9 px-3 rounded-lg text-sm",icon:"h-10 w-10 rounded-lg"},te=Ti.forwardRef(({variant:e="primary",size:t="default",icon:n,iconPosition:r="left",loading:s=!1,fullWidth:i=!1,disabled:a,className:l="",children:c,...u},d)=>{const h=a||s,p=[aj,lj[e],cj[t],i&&"w-full",l].filter(Boolean).join(" ");return o.jsxs("button",{ref:d,className:p,disabled:h,...u,children:[s&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),!s&&n&&r==="left"&&o.jsx(n,{className:"h-4 w-4"}),c&&o.jsx("span",{className:s?"opacity-0":"",children:c}),!s&&n&&r==="right"&&o.jsx(n,{className:"h-4 w-4"})]})});te.displayName="Button";const Rr=Ti.forwardRef(({icon:e,variant:t="ghost",size:n="icon",className:r="",...s},i)=>o.jsx(te,{ref:i,variant:t,size:n,icon:e,className:r,...s}));Rr.displayName="IconButton";const tu=({isOpen:e,onClose:t,title:n,subtitle:r,size:s="md",closable:i=!0,className:a="",children:l,footer:c,footerAlign:u="right",loading:d=!1})=>{const h=y.useRef(null);if(y.useEffect(()=>{const v=w=>{w.key==="Escape"&&i&&t()};return e&&(document.addEventListener("keydown",v),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",v),document.body.style.overflow="unset"}},[e,t,i]),y.useEffect(()=>{if(e&&h.current){const w=h.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')[0];w&&w.focus()}},[e]),!e)return null;const p=v=>{v.target===v.currentTarget&&i&&!d&&t()},j={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",xxl:"max-w-4xl"};return o.jsx("div",{className:"fixed inset-0 bg-background-dark/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:p,role:"dialog","aria-modal":"true",children:o.jsxs("div",{ref:h,className:`bg-surface-dark border border-border-dark rounded-xl shadow-lg w-full ${j[s]} ${d?"pointer-events-none":""} ${a}`,onClick:v=>v.stopPropagation(),children:[(n||r||i)&&o.jsx("div",{className:"p-6 pb-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[n&&o.jsx("h2",{className:"text-xl font-semibold",children:n}),r&&o.jsx("p",{className:"text-sm text-text-secondary-dark mt-1",children:r})]}),i&&o.jsx(Rr,{icon:Yn,onClick:t,variant:"ghost",size:"sm","aria-label":"Close modal",className:"text-text-secondary-dark hover:text-text-primary-dark",disabled:d})]})}),o.jsx("div",{className:"p-6",children:l}),c&&o.jsx("div",{className:`px-6 py-4 border-t border-border-dark flex gap-3 ${u==="left"?"justify-start":u==="center"?"justify-center":u==="space-between"?"justify-between":"justify-end"}`,children:c}),d&&o.jsx("div",{className:"absolute inset-0 bg-surface-dark/50 flex items-center justify-center rounded-xl",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})})]})})},$s=({onSubmit:e,submitText:t="Submit",cancelText:n="Cancel",submitVariant:r="primary",submitDisabled:s=!1,showCancel:i=!0,loading:a=!1,onClose:l,children:c,...u})=>{const d=p=>{p.preventDefault(),e&&!a&&!s&&e(p)},h=o.jsxs(o.Fragment,{children:[i&&o.jsx(te,{type:"button",variant:"secondary",onClick:l,disabled:a,children:n}),o.jsx(te,{type:"submit",variant:r,loading:a,disabled:s||a,className:"bg-primary hover:bg-primary/90 text-white font-medium px-6 py-2.5 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:p=>{if(!a&&!s){const j=p.currentTarget.closest("form");if(j)j.requestSubmit();else{const v=new Event("submit",{bubbles:!0,cancelable:!0});v.preventDefault=()=>{},d(v)}}},children:t})]});return o.jsx(tu,{...u,onClose:l,footer:h,loading:a,children:o.jsx("form",{onSubmit:d,children:c})})},Qp=({type:e})=>{const n={success:Jn,error:l0,warning:Ep,info:$l}[e]??$l;return o.jsx("div",{className:"mx-auto mb-3 w-12 h-12 rounded-full flex items-center justify-center "+(e==="success"?"bg-green-500/10 text-green-400":e==="error"?"bg-rose-500/10 text-rose-400":e==="warning"?"bg-yellow-500/10 text-yellow-400":"bg-blue-500/10 text-blue-300"),children:o.jsx(n,{className:"w-6 h-6"})})},uj=({isOpen:e,onClose:t,title:n,message:r,type:s="info",confirmText:i="OK"})=>o.jsx(tu,{isOpen:e,onClose:t,title:n,size:"sm",closable:!0,footer:o.jsx(te,{variant:"primary",onClick:t,fullWidth:!0,children:i}),children:o.jsxs("div",{className:"text-center",children:[o.jsx(Qp,{type:s}),o.jsx("div",{className:"whitespace-pre-line text-sm text-text-primary-dark",children:r})]})}),dj=({isOpen:e,onConfirm:t,onCancel:n,title:r,message:s,type:i="warning",confirmText:a="Confirm",cancelText:l="Cancel",loading:c=!1})=>o.jsx(tu,{isOpen:e,onClose:n,title:r,size:"sm",closable:!c,footer:o.jsxs("div",{className:"flex gap-3 w-full justify-end",children:[o.jsx(te,{variant:"secondary",onClick:n,disabled:c,children:l}),o.jsx(te,{variant:i==="error"?"danger":"primary",onClick:t,loading:c,children:a})]}),children:o.jsxs("div",{className:"text-center",children:[o.jsx(Qp,{type:i}),o.jsx("div",{className:"whitespace-pre-line text-sm text-text-primary-dark",children:s})]})}),En=()=>{const[e,t]=y.useState({isOpen:!1,message:"",type:"info"}),n=(i,a="info",l,c)=>{t({isOpen:!0,message:i,type:a,title:l,confirmText:c})},r=()=>{t(i=>({...i,isOpen:!1}))};return{showAlert:n,AlertComponent:()=>o.jsx(uj,{isOpen:e.isOpen,onClose:r,title:e.title,message:e.message,type:e.type,confirmText:e.confirmText}),showSuccess:(i,a)=>n(i,"success",a),showError:(i,a)=>n(i,"error",a),showWarning:(i,a)=>n(i,"warning",a),showInfo:(i,a)=>n(i,"info",a)}},Js=()=>{const[e,t]=y.useState({isOpen:!1,message:"",type:"warning",onConfirm:()=>{},loading:!1}),n=(a,l,{type:c="warning",title:u,confirmText:d,cancelText:h}={})=>{t({isOpen:!0,message:a,type:c,title:u,confirmText:d,cancelText:h,onConfirm:l,loading:!1})},r=()=>{t(a=>({...a,isOpen:!1}))},s=async()=>{t(a=>({...a,loading:!0}));try{await e.onConfirm(),r()}catch{t(l=>({...l,loading:!1}))}};return{showConfirm:n,ConfirmComponent:()=>o.jsx(dj,{isOpen:e.isOpen,onConfirm:s,onCancel:r,title:e.title,message:e.message,type:e.type,confirmText:e.confirmText,cancelText:e.cancelText,loading:e.loading}),showDeleteConfirm:(a,l)=>n(`Are you sure you want to delete "${a}"? This action cannot be undone.`,l,{type:"error",title:"Confirm Deletion",confirmText:"Delete"})}},Ar=({children:e,className:t=""})=>o.jsx("div",{className:`form-group ${t}`,children:e}),nr=({children:e,className:t=""})=>o.jsx("div",{className:`form-row ${t}`,children:e}),ge=({children:e,required:t=!1,className:n="",...r})=>o.jsxs("label",{className:`block text-sm font-medium text-text-primary-dark mb-2 ${n}`,...r,children:[e,t&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),Vl=({children:e,className:t=""})=>o.jsx("small",{className:`form-help ${t}`,children:e}),Bn=({error:e=!1,className:t="",...n})=>o.jsx("input",{className:`w-full bg-background-dark border border-border-dark rounded-lg shadow-sm focus:ring-1 focus:ring-primary focus:border-primary py-2 px-3 text-sm ${e?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${t}`,...n}),Ds=({error:e=!1,className:t="",...n})=>o.jsx("textarea",{className:`w-full bg-background-dark border border-border-dark rounded-lg shadow-sm focus:ring-1 focus:ring-primary focus:border-primary py-2 px-3 text-sm resize-vertical ${e?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${t}`,...n}),ki=({error:e=!1,className:t="",children:n,...r})=>o.jsxs("div",{className:"relative w-full",children:[o.jsx("select",{className:`w-full appearance-none bg-background-dark border border-border-dark rounded-lg shadow-sm focus:ring-1 focus:ring-primary focus:border-primary py-2 pl-3 pr-8 text-sm ${e?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${t}`,...r,children:n}),o.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-text-secondary-dark",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),Fd=({title:e,description:t,children:n,className:r=""})=>o.jsxs("div",{className:`form-section ${r}`,children:[(e||t)&&o.jsxs("div",{className:"form-section-header",children:[e&&o.jsx("h3",{className:"form-section-title",children:e}),t&&o.jsx("p",{className:"form-section-description",children:t})]}),o.jsx("div",{className:"form-section-content",children:n})]}),fj=({options:e,placeholder:t="Select an option...",error:n=!1,loading:r=!1,onChange:s,className:i="",value:a,disabled:l,...c})=>{const u=d=>{s&&s(d.target.value)};return o.jsxs("div",{className:`relative ${i}`,children:[o.jsxs("select",{className:`w-full appearance-none bg-background-dark border border-border-dark rounded-lg shadow-sm focus:ring-1 focus:ring-primary focus:border-primary py-2 pl-3 pr-8 text-sm cursor-pointer ${n?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${r||l?"opacity-50 cursor-not-allowed":""}`,value:a||"",onChange:u,disabled:l||r,...c,children:[o.jsx("option",{value:"",disabled:!0,className:"text-text-secondary-dark",children:r?"Loading...":t}),e.map(d=>o.jsx("option",{value:d.value,disabled:d.disabled,className:"text-text-primary-dark bg-surface-dark",children:d.label},d.value))]}),o.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-text-secondary-dark",children:o.jsx(zv,{className:`h-4 w-4 ${n?"text-red-500":""}`})})]})},hj=({label:e,description:t,size:n="md",variant:r="default",labelPosition:s="right",className:i="",id:a,disabled:l=!1,...c})=>{const u=a||`toggle-${Math.random().toString(36).substr(2,9)}`,d=o.jsxs("div",{className:`toggle-container ${i}`,children:[e&&s==="left"&&o.jsx("label",{htmlFor:u,className:"toggle-label toggle-label--left",children:e}),o.jsxs("div",{className:`toggle-wrapper toggle-wrapper--${n} toggle-wrapper--${r} ${l?"toggle-wrapper--disabled":""}`,children:[o.jsx("input",{type:"checkbox",id:u,className:"toggle-input",disabled:l,...c}),o.jsx("span",{className:"toggle-slider"})]}),e&&s==="right"&&o.jsx("label",{htmlFor:u,className:"toggle-label toggle-label--right",children:e})]});return t?o.jsxs("div",{className:"toggle-group",children:[d,o.jsx("p",{className:"toggle-description",children:t})]}):d},pj=({isOpen:e,onClose:t})=>{const{selectedSession:n,setSelectedSession:r}=qs(),[s,i]=y.useState(""),[a,l]=y.useState([{id:"agentmux-orc",name:"agentmux-orc",displayName:"Orchestrator",type:"orchestrator"}]),[c,u]=y.useState(!1),[d,h]=y.useState("disconnected"),[p,j]=y.useState(null),[v,w]=y.useState(!1),b=y.useRef(null),g=y.useRef(null),f=y.useRef(null),m=y.useRef(null),x=y.useCallback(k=>{var I,W;const B=(k==null?void 0:k.sessionName)||((I=k==null?void 0:k.payload)==null?void 0:I.sessionName),F=(k==null?void 0:k.content)||((W=k==null?void 0:k.payload)==null?void 0:W.content);k&&B===n&&(i(F||""),u(!1),m.current&&(clearTimeout(m.current),m.current=null),v||setTimeout(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},10))},[n,v]),C=y.useCallback(k=>{var I,W;console.log("handleInitialTerminalState received data:",k),console.log("Expected sessionName:",n);const B=(k==null?void 0:k.sessionName)||((I=k==null?void 0:k.payload)==null?void 0:I.sessionName),F=(k==null?void 0:k.content)||((W=k==null?void 0:k.payload)==null?void 0:W.content);k&&B===n?(console.log("Session name matches, setting terminal output:",F==null?void 0:F.substring(0,100)),i(F||""),u(!1),m.current&&(clearTimeout(m.current),m.current=null)):console.log("Session name mismatch or no data. Data sessionName:",B,"Expected:",n)},[n]),O=y.useCallback(k=>{j(k.error||"WebSocket connection error"),h("error"),u(!1)},[]),N=y.useCallback(()=>{const k=Q.getConnectionState();h(k),k==="connected"&&j(null)},[]);y.useEffect(()=>(e?P():A(),()=>A()),[e]),y.useEffect(()=>{if(e&&n)if(Q.isConnected())_(n);else{const k=setInterval(()=>{Q.isConnected()&&(clearInterval(k),_(n))},100);setTimeout(()=>{clearInterval(k),Q.isConnected()||(console.error("WebSocket not connected after 5 seconds, cannot switch session"),j("Connection lost. Please refresh the page."))},5e3)}},[n,e]);const P=async()=>{try{u(!0),h("connecting"),j(null),Q.on("terminal_output",x),Q.on("initial_terminal_state",C),Q.on("error",O),Q.on("connected",N),Q.on("connection_failed",O),await Q.connect(),h("connected"),await R(),n&&_(n)}catch(k){console.error("Failed to initialize WebSocket:",k),j("Failed to connect to terminal service"),h("error"),u(!1)}},A=()=>{m.current&&(clearTimeout(m.current),m.current=null),f.current&&(Q.unsubscribeFromSession(f.current),f.current=null),Q.off("terminal_output",x),Q.off("initial_terminal_state",C),Q.off("error",O),Q.off("connected",N),Q.off("connection_failed",O),Q.disconnect(),h("disconnected"),i(""),j(null),u(!1)},_=k=>{if(console.log(`switchSession called with: ${k}`),m.current&&(clearTimeout(m.current),m.current=null),f.current&&f.current!==k&&(console.log(`Unsubscribing from previous session: ${f.current}`),Q.unsubscribeFromSession(f.current)),!Q.isConnected()){console.warn("WebSocket not connected, attempting to reconnect..."),j("WebSocket disconnected. Attempting to reconnect..."),h("reconnecting"),Q.connect().then(()=>{console.log("Reconnected, retrying session switch"),_(k)}).catch(B=>{console.error("Failed to reconnect:",B),j("Failed to connect to terminal service. Please refresh the page."),u(!1)});return}u(!0),j(null),i(`# Connecting to terminal session...
# Fetching live tmux session output...
`),console.log(`Subscribing to session: ${k}, WebSocket connected: ${Q.isConnected()}`),Q.subscribeToSession(k),f.current=k,m.current=setTimeout(()=>{console.warn(`Session switch timeout for ${k}, clearing loading state`),u(!1),i(`# Connection timeout for session: ${k}
# No response from server after 10 seconds.
# Try refreshing the page or selecting a different session.
`),m.current=null},1e4),console.log(`Switched to terminal session: ${k}`)},R=async()=>{try{console.log("Loading available terminal sessions...");const k=await fetch("/api/terminal/sessions");if(!k.ok){console.error("Failed to fetch terminal sessions:",k.status);return}const B=await k.json();if(console.log("Terminal sessions response:",B),B.success&&Array.isArray(B.data)){const F=B.data.map(I=>({id:I.sessionName,name:I.sessionName,displayName:I.sessionName==="agentmux-orc"?"Orchestrator":I.sessionName.replace("agentmux-",""),type:I.sessionName==="agentmux-orc"?"orchestrator":"team_member"}));F.sort((I,W)=>I.type==="orchestrator"?-1:W.type==="orchestrator"?1:I.displayName.localeCompare(W.displayName)),console.log("Available sessions:",F),l(F)}}catch(k){console.error("Error loading available sessions:",k)}},L=k=>{Q.isConnected()&&n?Q.sendInput(n,k):j("Not connected to terminal service")},H=k=>{const B=k.currentTarget,F=B.scrollHeight-B.scrollTop===B.clientHeight;w(!F)},V=()=>{j(null),P()},J=y.useCallback(k=>{if(!(!e||d!=="connected"))if(k.preventDefault(),k.ctrlKey)switch(k.key.toLowerCase()){case"c":L("");break;case"d":L("");break;case"l":L("\f");break;case"z":L("");break;case"u":L("");break;case"k":L("\v");break;case"a":L("");break;case"e":L("");break;default:return}else switch(k.key){case"Enter":L("\r");break;case"Tab":L("	");break;case"Escape":L("\x1B");break;case"Backspace":L("\b");break;case"Delete":L("");break;case"ArrowUp":L("\x1B[A");break;case"ArrowDown":L("\x1B[B");break;case"ArrowRight":L("\x1B[C");break;case"ArrowLeft":L("\x1B[D");break;case"Home":L("\x1B[H");break;case"End":L("\x1B[F");break;case"PageUp":L("\x1B[5~");break;case"PageDown":L("\x1B[6~");break;default:k.key.length===1&&L(k.key);break}},[e,d]);return y.useEffect(()=>{if(e&&g.current)return g.current.focus(),document.addEventListener("keydown",J),()=>{document.removeEventListener("keydown",J)}},[e,J]),o.jsxs("div",{ref:g,className:`fixed top-0 right-0 h-full bg-surface-dark border-l border-border-dark flex flex-col z-50 transition-transform duration-300 ${e?"translate-x-0":"translate-x-full"} w-[600px]`,tabIndex:0,style:{outline:"none"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-dark",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Qc,{className:"w-5 h-5 text-text-secondary-dark"}),o.jsx("span",{className:"font-medium text-text-primary-dark",children:"Terminal"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${d==="connected"?"bg-green-400":d==="connecting"||d==="reconnecting"?"bg-yellow-400":d==="error"?"bg-red-400":"bg-gray-400"}`}),o.jsx("span",{className:"text-sm text-text-secondary-dark",children:d==="connected"?"Live":d==="connecting"?"Connecting...":d==="reconnecting"?"Reconnecting...":d==="error"?"Error":"Disconnected"})]})]}),o.jsx("button",{onClick:t,className:"p-1 text-text-secondary-dark hover:text-text-primary-dark hover:bg-background-dark rounded transition-colors","aria-label":"Close Terminal",children:o.jsx(Yn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"px-4 py-3 border-b border-border-dark",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("label",{htmlFor:"session-select",className:"text-sm font-medium text-text-secondary-dark",children:"Session:"}),o.jsx("select",{id:"session-select",value:n,onChange:k=>r(k.target.value),className:"flex-1 px-3 py-1 bg-background-dark border border-border-dark rounded text-sm text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50",disabled:d!=="connected",children:a.map(k=>o.jsx("option",{value:k.id,children:k.displayName},k.id))})]})}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[p&&o.jsxs("div",{className:"mx-4 my-2 px-4 py-3 bg-red-500/10 border-l-4 border-red-500 text-red-400 flex items-center space-x-2",children:[o.jsx(wi,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"flex-1 text-sm",children:p}),o.jsx(te,{onClick:V,variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300",children:"Retry"})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx("pre",{ref:b,className:"h-full w-full p-4 bg-background-dark font-mono text-sm text-text-primary-dark overflow-y-scroll overflow-x-auto whitespace-pre-wrap break-words",onScroll:H,style:{maxHeight:"100%",minHeight:"100%"},children:d==="connected"?s:d==="connecting"?`# Connecting to terminal session...
# Please wait...`:d==="error"?`# Connection Error
# Please check your connection and try again.`:`# Terminal Disconnected
# Open terminal panel to connect`})}),c&&d==="connected"&&o.jsx("div",{className:"px-4 py-2 border-t border-border-dark",children:o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-text-secondary-dark",children:[o.jsx("div",{className:"w-3 h-3 border-2 border-primary border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Loading terminal output..."})]})})]})]})},mj=()=>{const[e,t]=y.useState(null),[n,r]=y.useState(!1),[s,i]=y.useState(!1),a=async()=>{console.log("Orchestrator status will be loaded via WebSocket events")},l=async()=>{i(!0),await a(),setTimeout(()=>i(!1),500)},c=async()=>{try{Q.isConnected()||await Q.connect(),Q.on("orchestrator_status_changed",u),console.log("WebSocket initialized for orchestrator status monitoring")}catch(h){console.error("Failed to initialize WebSocket for orchestrator status:",h)}},u=h=>{console.log("Received orchestrator status update:",h);const p={sessionId:h.sessionName||"agentmux-orc",status:h.running?"active":"inactive",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};t(p)};if(y.useEffect(()=>(a(),c(),()=>{Q.off("orchestrator_status_changed",u)}),[]),y.useEffect(()=>{(e==null?void 0:e.status)!=="active"&&r(!1)},[e==null?void 0:e.status]),!e||e.status==="active"||n)return null;const d=e.status==="activating";return e.status,o.jsxs("div",{className:`orchestrator-status-banner ${d?"warning":"error"}`,children:[o.jsxs("div",{className:"banner-content",children:[o.jsx(Ep,{className:"banner-icon",size:20}),o.jsxs("div",{className:"banner-text",children:[o.jsx("span",{className:"banner-title",children:d?"Orchestrator Initializing":"Orchestrator Not Running"}),o.jsx("span",{className:"banner-message",children:d?"The AgentMux orchestrator is starting up. This may take a few moments...":"The AgentMux orchestrator is not running. Check the application logs for issues."})]})]}),o.jsxs("div",{className:"banner-actions",children:[o.jsx(Rr,{icon:r0,onClick:l,variant:"ghost",size:"sm",className:`refresh-btn ${s?"spinning":""}`,"aria-label":"Refresh status"}),o.jsx(Rr,{icon:Yn,onClick:()=>r(!0),variant:"ghost",size:"sm","aria-label":"Dismiss banner"})]})]})},gj=()=>{const{isTerminalOpen:e,openTerminal:t,closeTerminal:n}=qs(),{isCollapsed:r}=Lp(),s=()=>{e?n():t()};return o.jsxs("div",{className:"flex min-h-screen bg-background-dark",children:[o.jsx("div",{className:nn("transition-all duration-200",r?"w-16":"w-64"),children:o.jsx(d0,{})}),o.jsxs("main",{className:"flex-1 flex flex-col",children:[o.jsx(mj,{}),o.jsx("div",{className:"flex-1 p-6",children:o.jsx(jv,{})})]}),o.jsx(Rr,{className:`fixed bottom-6 right-6 z-40 ${e?"bg-primary/90":""}`,icon:Qc,onClick:s,variant:"primary","aria-label":e?"Close Terminal":"Open Terminal"}),o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:n}),o.jsx(pj,{isOpen:e,onClose:n})]})]})},$d={active:{bg:"bg-green-500/10",text:"text-green-400",label:"Running"},paused:{bg:"bg-yellow-500/10",text:"text-yellow-400",label:"Stopped"},completed:{bg:"bg-blue-500/10",text:"text-blue-400",label:"Completed"},blocked:{bg:"bg-red-500/10",text:"text-red-400",label:"Blocked"},stopped:{bg:"bg-gray-500/10",text:"text-gray-400",label:"Stopped"}},Gp=({project:e,showStatus:t=!1,showTeams:n=!1,assignedTeams:r=[],onClick:s,progressPercent:i,progressLabel:a,progressBreakdown:l})=>{r.length||Object.values(e.teams||{}).flat().length;const c=new Date(e.updatedAt).toLocaleDateString(),u=$d[e.status]||$d.active,h=(p=>{if(!p)return"";const j=p.split("/").filter(Boolean),v=j.slice(-3).join("/"),w=j.length>3?`/${v}`:`/${j.join("/")}`;return w.length<=60?w:`${w.slice(-60)}`})(e.path);return o.jsxs("div",{className:`bg-surface-dark p-6 rounded-lg border border-border-dark transition-all hover:shadow-lg hover:border-primary/50 flex flex-col h-full ${s?"cursor-pointer":""}`,onClick:s,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:e.name}),t&&o.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${u.bg} ${u.text}`,children:u.label})]}),o.jsx("p",{className:"text-sm text-text-secondary-dark flex-grow mb-4 whitespace-nowrap overflow-hidden text-ellipsis",title:e.path,children:h}),typeof i=="number"&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("p",{className:"text-xs text-text-secondary-dark",children:"Progress"}),o.jsxs("p",{className:"text-xs font-semibold",children:[i,"%"]})]}),o.jsx("div",{className:"w-full bg-background-dark rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${Math.max(0,Math.min(100,i))}%`},title:l?`Open: ${l.open}, In progress: ${l.inProgress}, Pending: ${l.pending}, Done: ${l.done}, Blocked: ${l.blocked}`:void 0})})]}),o.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[o.jsx("div",{className:"flex -space-x-3",children:r.flatMap(p=>p.members||[]).slice(0,3).map((p,j)=>o.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-surface-dark bg-cover bg-center overflow-hidden",title:p.name,children:p.avatar?p.avatar.startsWith("http")||p.avatar.startsWith("data:")?o.jsx("img",{src:p.avatar,alt:p.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-primary/40 flex items-center justify-center text-xs font-bold text-white",children:p.avatar}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-primary/40 flex items-center justify-center text-xs font-bold text-white",children:p.name.charAt(0).toUpperCase()})},`${p.id}-${j}`))}),o.jsxs("p",{className:"text-sm text-text-secondary-dark",children:["Updated ",c]})]})]})},Zn=({items:e,align:t="bottom-right",buttonClassName:n="text-text-secondary-dark hover:text-primary transition-colors",menuClassName:r="",icon:s=e0})=>{const[i,a]=y.useState(!1),l=y.useRef(null);return y.useEffect(()=>{const c=u=>{l.current&&!l.current.contains(u.target)&&a(!1)};return i&&document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[i]),o.jsxs("div",{className:"relative",ref:l,children:[o.jsx("button",{type:"button",className:n,onClick:()=>a(c=>!c),"aria-label":"More options",children:o.jsx(s,{className:"w-4 h-4"})}),i&&o.jsx("div",{className:`absolute z-10 w-44 bg-surface-dark border border-border-dark rounded-lg shadow-lg p-1 ${t==="bottom-right"?"right-0 top-8":"right-0 bottom-8"} ${r}`,children:e.map((c,u)=>o.jsx("button",{className:`w-full text-left px-3 py-2 text-sm rounded hover:bg-background-dark ${c.danger?"text-red-300":""}`,onClick:()=>{a(!1),c.onClick()},children:c.label},u))})]})},Xp=({team:e,projectName:t,onClick:n,onViewTeam:r,onEditTeam:s,onDeleteTeam:i})=>{const a=e.members||[],l=a.slice(0,3),c=Math.max(a.length-3,0);return o.jsxs("div",{className:"relative bg-surface-dark border border-border-dark rounded-2xl p-5 hover:border-primary/50 transition-colors cursor-pointer flex flex-col min-h-[200px]",onClick:n,children:[o.jsx("div",{className:"text-lg font-semibold mb-3",children:e.name}),t&&o.jsxs("div",{className:"flex items-center gap-2 text-text-secondary-dark text-sm mb-4",children:[o.jsx(Ze,{className:"w-4 h-4"}),o.jsxs("span",{children:["Project ",t]})]}),o.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[l.map((u,d)=>u.avatar?u.avatar.startsWith("http")||u.avatar.startsWith("data:")?o.jsx("img",{src:u.avatar,alt:u.name,title:u.name,className:"w-8 h-8 rounded-full ring-2 ring-surface-dark object-cover",style:{marginLeft:d===0?0:-6}},u.id):o.jsx("div",{title:u.name,className:"w-8 h-8 rounded-full bg-background-dark border border-border-dark flex items-center justify-center ring-2 ring-surface-dark",style:{marginLeft:d===0?0:-6},children:u.avatar},u.id):o.jsx("div",{title:u.name,className:"w-8 h-8 rounded-full bg-background-dark border border-border-dark flex items-center justify-center ring-2 ring-surface-dark",style:{marginLeft:d===0?0:-6},children:u.name.charAt(0).toUpperCase()},u.id)),c>0&&o.jsxs("div",{className:"w-8 h-8 rounded-full bg-background-dark border border-border-dark flex items-center justify-center text-xs text-text-secondary-dark ring-2 ring-surface-dark",style:{marginLeft:-6},children:["+",c]})]}),o.jsx("div",{onClick:u=>u.stopPropagation(),children:o.jsx(Zn,{align:"bottom-right",items:[{label:"Edit Team",onClick:()=>s&&s(e.id)},{label:"View Team",onClick:()=>r&&r(e.id)},...i?[{label:"Delete Team",danger:!0,onClick:()=>i(e.id)}]:[]]})})]})]})},Hl=({title:e,icon:t=o.jsx(Vt,{className:"text-4xl"}),onClick:n,className:r=""})=>o.jsxs("div",{onClick:n,className:`flex items-center justify-center flex-col p-6 rounded-lg border-2 border-dashed border-border-dark hover:border-primary transition-colors cursor-pointer text-text-secondary-dark hover:text-primary h-full ${r}`,children:[t,o.jsx("p",{className:"mt-2 text-sm font-semibold",children:e})]});function Yp(e,t){return function(){return e.apply(t,arguments)}}const{toString:yj}=Object.prototype,{getPrototypeOf:nu}=Object,{iterator:Ki,toStringTag:Zp}=Symbol,Qi=(e=>t=>{const n=yj.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pt=e=>(e=e.toLowerCase(),t=>Qi(t)===e),Gi=e=>t=>typeof t===e,{isArray:Ur}=Array,Us=Gi("undefined");function Ks(e){return e!==null&&!Us(e)&&e.constructor!==null&&!Us(e.constructor)&&Ye(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const em=Pt("ArrayBuffer");function xj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&em(e.buffer),t}const vj=Gi("string"),Ye=Gi("function"),tm=Gi("number"),Qs=e=>e!==null&&typeof e=="object",jj=e=>e===!0||e===!1,Wo=e=>{if(Qi(e)!=="object")return!1;const t=nu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Zp in e)&&!(Ki in e)},wj=e=>{if(!Qs(e)||Ks(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},kj=Pt("Date"),bj=Pt("File"),Nj=Pt("Blob"),Sj=Pt("FileList"),Cj=e=>Qs(e)&&Ye(e.pipe),Tj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ye(e.append)&&((t=Qi(e))==="formdata"||t==="object"&&Ye(e.toString)&&e.toString()==="[object FormData]"))},Ej=Pt("URLSearchParams"),[_j,Pj,Rj,Aj]=["ReadableStream","Request","Response","Headers"].map(Pt),Oj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ur(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ks(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(r=0;r<a;r++)l=i[r],t.call(null,e[l],l,e)}}function nm(e,t){if(Ks(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Dn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),rm=e=>!Us(e)&&e!==Dn;function ql(){const{caseless:e}=rm(this)&&this||{},t={},n=(r,s)=>{const i=e&&nm(t,s)||s;Wo(t[i])&&Wo(r)?t[i]=ql(t[i],r):Wo(r)?t[i]=ql({},r):Ur(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Gs(arguments[r],n);return t}const Lj=(e,t,n,{allOwnKeys:r}={})=>(Gs(t,(s,i)=>{n&&Ye(s)?e[i]=Yp(s,n):e[i]=s},{allOwnKeys:r}),e),Mj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Fj=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},$j=(e,t,n,r)=>{let s,i,a;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&nu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Dj=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Uj=e=>{if(!e)return null;if(Ur(e))return e;let t=e.length;if(!tm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ij=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&nu(Uint8Array)),Bj=(e,t)=>{const r=(e&&e[Ki]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},zj=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Wj=Pt("HTMLFormElement"),Vj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Dd=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Hj=Pt("RegExp"),sm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Gs(n,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(r[i]=a||s)}),Object.defineProperties(e,r)},qj=e=>{sm(e,(t,n)=>{if(Ye(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ye(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Jj=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ur(e)?r(e):r(String(e).split(t)),n},Kj=()=>{},Qj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Gj(e){return!!(e&&Ye(e.append)&&e[Zp]==="FormData"&&e[Ki])}const Xj=e=>{const t=new Array(10),n=(r,s)=>{if(Qs(r)){if(t.indexOf(r)>=0)return;if(Ks(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Ur(r)?[]:{};return Gs(r,(a,l)=>{const c=n(a,s+1);!Us(c)&&(i[l]=c)}),t[s]=void 0,i}}return r};return n(e,0)},Yj=Pt("AsyncFunction"),Zj=e=>e&&(Qs(e)||Ye(e))&&Ye(e.then)&&Ye(e.catch),om=((e,t)=>e?setImmediate:t?((n,r)=>(Dn.addEventListener("message",({source:s,data:i})=>{s===Dn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Dn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ye(Dn.postMessage)),ew=typeof queueMicrotask<"u"?queueMicrotask.bind(Dn):typeof process<"u"&&process.nextTick||om,tw=e=>e!=null&&Ye(e[Ki]),E={isArray:Ur,isArrayBuffer:em,isBuffer:Ks,isFormData:Tj,isArrayBufferView:xj,isString:vj,isNumber:tm,isBoolean:jj,isObject:Qs,isPlainObject:Wo,isEmptyObject:wj,isReadableStream:_j,isRequest:Pj,isResponse:Rj,isHeaders:Aj,isUndefined:Us,isDate:kj,isFile:bj,isBlob:Nj,isRegExp:Hj,isFunction:Ye,isStream:Cj,isURLSearchParams:Ej,isTypedArray:Ij,isFileList:Sj,forEach:Gs,merge:ql,extend:Lj,trim:Oj,stripBOM:Mj,inherits:Fj,toFlatObject:$j,kindOf:Qi,kindOfTest:Pt,endsWith:Dj,toArray:Uj,forEachEntry:Bj,matchAll:zj,isHTMLForm:Wj,hasOwnProperty:Dd,hasOwnProp:Dd,reduceDescriptors:sm,freezeMethods:qj,toObjectSet:Jj,toCamelCase:Vj,noop:Kj,toFiniteNumber:Qj,findKey:nm,global:Dn,isContextDefined:rm,isSpecCompliantForm:Gj,toJSONObject:Xj,isAsyncFn:Yj,isThenable:Zj,setImmediate:om,asap:ew,isIterable:tw};function G(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}E.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const im=G.prototype,am={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{am[e]={value:e}});Object.defineProperties(G,am);Object.defineProperty(im,"isAxiosError",{value:!0});G.from=(e,t,n,r,s,i)=>{const a=Object.create(im);return E.toFlatObject(e,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),G.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const nw=null;function Jl(e){return E.isPlainObject(e)||E.isArray(e)}function lm(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function Ud(e,t,n){return e?e.concat(t).map(function(s,i){return s=lm(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function rw(e){return E.isArray(e)&&!e.some(Jl)}const sw=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function Xi(e,t,n){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,b){return!E.isUndefined(b[w])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(E.isDate(v))return v.toISOString();if(E.isBoolean(v))return v.toString();if(!c&&E.isBlob(v))throw new G("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(v)||E.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,w,b){let g=v;if(v&&!b&&typeof v=="object"){if(E.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(E.isArray(v)&&rw(v)||(E.isFileList(v)||E.endsWith(w,"[]"))&&(g=E.toArray(v)))return w=lm(w),g.forEach(function(m,x){!(E.isUndefined(m)||m===null)&&t.append(a===!0?Ud([w],x,i):a===null?w:w+"[]",u(m))}),!1}return Jl(v)?!0:(t.append(Ud(b,w,i),u(v)),!1)}const h=[],p=Object.assign(sw,{defaultVisitor:d,convertValue:u,isVisitable:Jl});function j(v,w){if(!E.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(v),E.forEach(v,function(g,f){(!(E.isUndefined(g)||g===null)&&s.call(t,g,E.isString(f)?f.trim():f,w,p))===!0&&j(g,w?w.concat(f):[f])}),h.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return j(e),t}function Id(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ru(e,t){this._pairs=[],e&&Xi(e,this,t)}const cm=ru.prototype;cm.append=function(t,n){this._pairs.push([t,n])};cm.toString=function(t){const n=t?function(r){return t.call(this,r,Id)}:Id;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function ow(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function um(e,t,n){if(!t)return e;const r=n&&n.encode||ow;E.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=E.isURLSearchParams(t)?t.toString():new ru(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class iw{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Bd=iw,dm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aw=typeof URLSearchParams<"u"?URLSearchParams:ru,lw=typeof FormData<"u"?FormData:null,cw=typeof Blob<"u"?Blob:null,uw={isBrowser:!0,classes:{URLSearchParams:aw,FormData:lw,Blob:cw},protocols:["http","https","file","blob","url","data"]},su=typeof window<"u"&&typeof document<"u",Kl=typeof navigator=="object"&&navigator||void 0,dw=su&&(!Kl||["ReactNative","NativeScript","NS"].indexOf(Kl.product)<0),fw=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),hw=su&&window.location.href||"http://localhost",pw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:su,hasStandardBrowserEnv:dw,hasStandardBrowserWebWorkerEnv:fw,navigator:Kl,origin:hw},Symbol.toStringTag,{value:"Module"})),Fe={...pw,...uw};function mw(e,t){return Xi(e,new Fe.classes.URLSearchParams,{visitor:function(n,r,s,i){return Fe.isNode&&E.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function gw(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function yw(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function fm(e){function t(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=n.length;return a=!a&&E.isArray(s)?s.length:a,c?(E.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!E.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],i)&&E.isArray(s[a])&&(s[a]=yw(s[a])),!l)}if(E.isFormData(e)&&E.isFunction(e.entries)){const n={};return E.forEachEntry(e,(r,s)=>{t(gw(r),s,n,0)}),n}return null}function xw(e,t,n){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ou={transitional:dm,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=E.isObject(t);if(i&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return s?JSON.stringify(fm(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mw(t,this.formSerializer).toString();if((l=E.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Xi(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),xw(t)):t}],transformResponse:[function(t){const n=this.transitional||ou.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?G.from(l,G.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fe.classes.FormData,Blob:Fe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{ou.headers[e]={}});const iu=ou,vw=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jw=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&vw[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},zd=Symbol("internals");function ts(e){return e&&String(e).trim().toLowerCase()}function Vo(e){return e===!1||e==null?e:E.isArray(e)?e.map(Vo):String(e)}function ww(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const kw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function La(e,t,n,r,s){if(E.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!E.isString(t)){if(E.isString(r))return t.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(t)}}function bw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Nw(e,t){const n=E.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,a){return this[r].call(this,t,s,i,a)},configurable:!0})})}class Yi{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,c,u){const d=ts(c);if(!d)throw new Error("header name must be a non-empty string");const h=E.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=Vo(l))}const a=(l,c)=>E.forEach(l,(u,d)=>i(u,d,c));if(E.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(E.isString(t)&&(t=t.trim())&&!kw(t))a(jw(t),n);else if(E.isObject(t)&&E.isIterable(t)){let l={},c,u;for(const d of t){if(!E.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?E.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=ts(t),t){const r=E.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return ww(s);if(E.isFunction(n))return n.call(this,s,r);if(E.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ts(t),t){const r=E.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||La(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(a){if(a=ts(a),a){const l=E.findKey(r,a);l&&(!n||La(r,r[l],l,n))&&(delete r[l],s=!0)}}return E.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||La(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return E.forEach(this,(s,i)=>{const a=E.findKey(r,i);if(a){n[a]=Vo(s),delete n[i];return}const l=t?bw(i):String(i).trim();l!==i&&delete n[i],n[l]=Vo(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return E.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&E.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[zd]=this[zd]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=ts(a);r[l]||(Nw(s,a),r[l]=!0)}return E.isArray(t)?t.forEach(i):i(t),this}}Yi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(Yi.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});E.freezeMethods(Yi);const Et=Yi;function Ma(e,t){const n=this||iu,r=t||n,s=Et.from(r.headers);let i=r.data;return E.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function hm(e){return!!(e&&e.__CANCEL__)}function Ir(e,t,n){G.call(this,e??"canceled",G.ERR_CANCELED,t,n),this.name="CanceledError"}E.inherits(Ir,G,{__CANCEL__:!0});function pm(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new G("Request failed with status code "+n.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Sw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Cw(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];a||(a=u),n[s]=c,r[s]=u;let h=i,p=0;for(;h!==s;)p+=n[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-a<t)return;const j=d&&u-d;return j?Math.round(p*1e3/j):void 0}}function Tw(e,t){let n=0,r=1e3/t,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-h)))},()=>s&&a(s)]}const bi=(e,t,n=3)=>{let r=0;const s=Cw(50,250);return Tw(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-r,u=s(c),d=a<=l;r=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},Wd=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Vd=e=>(...t)=>E.asap(()=>e(...t)),Ew=Fe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Fe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Fe.origin),Fe.navigator&&/(msie|trident)/i.test(Fe.navigator.userAgent)):()=>!0,_w=Fe.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const a=[e+"="+encodeURIComponent(t)];E.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),E.isString(r)&&a.push("path="+r),E.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Pw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Rw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function mm(e,t,n){let r=!Pw(t);return e&&(r||n==!1)?Rw(e,t):t}const Hd=e=>e instanceof Et?{...e}:e;function Kn(e,t){t=t||{};const n={};function r(u,d,h,p){return E.isPlainObject(u)&&E.isPlainObject(d)?E.merge.call({caseless:p},u,d):E.isPlainObject(d)?E.merge({},d):E.isArray(d)?d.slice():d}function s(u,d,h,p){if(E.isUndefined(d)){if(!E.isUndefined(u))return r(void 0,u,h,p)}else return r(u,d,h,p)}function i(u,d){if(!E.isUndefined(d))return r(void 0,d)}function a(u,d){if(E.isUndefined(d)){if(!E.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,h)=>s(Hd(u),Hd(d),h,!0)};return E.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||s,p=h(e[d],t[d],d);E.isUndefined(p)&&h!==l||(n[d]=p)}),n}const gm=e=>{const t=Kn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=t;t.headers=a=Et.from(a),t.url=um(mm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(E.isFormData(n)){if(Fe.hasStandardBrowserEnv||Fe.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Fe.hasStandardBrowserEnv&&(r&&E.isFunction(r)&&(r=r(t)),r||r!==!1&&Ew(t.url))){const u=s&&i&&_w.read(i);u&&a.set(s,u)}return t},Aw=typeof XMLHttpRequest<"u",Ow=Aw&&function(e){return new Promise(function(n,r){const s=gm(e);let i=s.data;const a=Et.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,h,p,j,v;function w(){j&&j(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function g(){if(!b)return;const m=Et.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:m,config:e,request:b};pm(function(N){n(N),w()},function(N){r(N),w()},C),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(r(new G("Request aborted",G.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new G("Network Error",G.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||dm;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),r(new G(x,C.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,e,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&E.forEach(a.toJSON(),function(x,C){b.setRequestHeader(C,x)}),E.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),u&&([p,v]=bi(u,!0),b.addEventListener("progress",p)),c&&b.upload&&([h,j]=bi(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",j)),(s.cancelToken||s.signal)&&(d=m=>{b&&(r(!m||m.type?new Ir(null,e,b):m),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const f=Sw(s.url);if(f&&Fe.protocols.indexOf(f)===-1){r(new G("Unsupported protocol "+f+":",G.ERR_BAD_REQUEST,e));return}b.send(i||null)})},Lw=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof G?d:new Ir(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,i(new G(`timeout ${t} of ms exceeded`,G.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>E.asap(l),c}},Mw=Lw,Fw=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},$w=async function*(e,t){for await(const n of Dw(e))yield*Fw(n,t)},Dw=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},qd=(e,t,n,r)=>{const s=$w(e,t);let i=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let p=i+=h;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Zi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ym=Zi&&typeof ReadableStream=="function",Uw=Zi&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),xm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Iw=ym&&xm(()=>{let e=!1;const t=new Request(Fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Jd=64*1024,Ql=ym&&xm(()=>E.isReadableStream(new Response("").body)),Ni={stream:Ql&&(e=>e.body)};Zi&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ni[t]&&(Ni[t]=E.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new G(`Response type '${t}' is not supported`,G.ERR_NOT_SUPPORT,r)})})})(new Response);const Bw=async e=>{if(e==null)return 0;if(E.isBlob(e))return e.size;if(E.isSpecCompliantForm(e))return(await new Request(Fe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(E.isArrayBufferView(e)||E.isArrayBuffer(e))return e.byteLength;if(E.isURLSearchParams(e)&&(e=e+""),E.isString(e))return(await Uw(e)).byteLength},zw=async(e,t)=>{const n=E.toFiniteNumber(e.getContentLength());return n??Bw(t)},Ww=Zi&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=gm(e);u=u?(u+"").toLowerCase():"text";let j=Mw([s,i&&i.toAbortSignal()],a),v;const w=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let b;try{if(c&&Iw&&n!=="get"&&n!=="head"&&(b=await zw(d,r))!==0){let C=new Request(t,{method:"POST",body:r,duplex:"half"}),O;if(E.isFormData(r)&&(O=C.headers.get("content-type"))&&d.setContentType(O),C.body){const[N,P]=Wd(b,bi(Vd(c)));r=qd(C.body,Jd,N,P)}}E.isString(h)||(h=h?"include":"omit");const g="credentials"in Request.prototype;v=new Request(t,{...p,signal:j,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:g?h:void 0});let f=await fetch(v,p);const m=Ql&&(u==="stream"||u==="response");if(Ql&&(l||m&&w)){const C={};["status","statusText","headers"].forEach(A=>{C[A]=f[A]});const O=E.toFiniteNumber(f.headers.get("content-length")),[N,P]=l&&Wd(O,bi(Vd(l),!0))||[];f=new Response(qd(f.body,Jd,N,()=>{P&&P(),w&&w()}),C)}u=u||"text";let x=await Ni[E.findKey(Ni,u)||"text"](f,e);return!m&&w&&w(),await new Promise((C,O)=>{pm(C,O,{data:x,headers:Et.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:v})})}catch(g){throw w&&w(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new G("Network Error",G.ERR_NETWORK,e,v),{cause:g.cause||g}):G.from(g,g&&g.code,e,v)}}),Gl={http:nw,xhr:Ow,fetch:Ww};E.forEach(Gl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Kd=e=>`- ${e}`,Vw=e=>E.isFunction(e)||e===null||e===!1,vm={getAdapter:e=>{e=E.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let a;if(r=n,!Vw(n)&&(r=Gl[(a=String(n)).toLowerCase()],r===void 0))throw new G(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(Kd).join(`
`):" "+Kd(i[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Gl};function Fa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ir(null,e)}function Qd(e){return Fa(e),e.headers=Et.from(e.headers),e.data=Ma.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vm.getAdapter(e.adapter||iu.adapter)(e).then(function(r){return Fa(e),r.data=Ma.call(e,e.transformResponse,r),r.headers=Et.from(r.headers),r},function(r){return hm(r)||(Fa(e),r&&r.response&&(r.response.data=Ma.call(e,e.transformResponse,r.response),r.response.headers=Et.from(r.response.headers))),Promise.reject(r)})}const jm="1.11.0",ea={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ea[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Gd={};ea.transitional=function(t,n,r){function s(i,a){return"[Axios v"+jm+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(t===!1)throw new G(s(a," has been removed"+(n?" in "+n:"")),G.ERR_DEPRECATED);return n&&!Gd[a]&&(Gd[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,l):!0}};ea.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Hw(e,t,n){if(typeof e!="object")throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const l=e[i],c=l===void 0||a(l,i,e);if(c!==!0)throw new G("option "+i+" must be "+c,G.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new G("Unknown option "+i,G.ERR_BAD_OPTION)}}const Ho={assertOptions:Hw,validators:ea},At=Ho.validators;class Si{constructor(t){this.defaults=t||{},this.interceptors={request:new Bd,response:new Bd}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Kn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ho.assertOptions(r,{silentJSONParsing:At.transitional(At.boolean),forcedJSONParsing:At.transitional(At.boolean),clarifyTimeoutError:At.transitional(At.boolean)},!1),s!=null&&(E.isFunction(s)?n.paramsSerializer={serialize:s}:Ho.assertOptions(s,{encode:At.function,serialize:At.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ho.assertOptions(n,{baseUrl:At.spelling("baseURL"),withXsrfToken:At.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&E.merge(i.common,i[n.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Et.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,h=0,p;if(!c){const v=[Qd.bind(this),void 0];for(v.unshift(...l),v.push(...u),p=v.length,d=Promise.resolve(n);h<p;)d=d.then(v[h++],v[h++]);return d}p=l.length;let j=n;for(h=0;h<p;){const v=l[h++],w=l[h++];try{j=v(j)}catch(b){w.call(this,b);break}}try{d=Qd.call(this,j)}catch(v){return Promise.reject(v)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Kn(this.defaults,t);const n=mm(t.baseURL,t.url,t.allowAbsoluteUrls);return um(n,t.params,t.paramsSerializer)}}E.forEach(["delete","get","head","options"],function(t){Si.prototype[t]=function(n,r){return this.request(Kn(r||{},{method:t,url:n,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,l){return this.request(Kn(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Si.prototype[t]=n(),Si.prototype[t+"Form"]=n(!0)});const qo=Si;class au{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,l){r.reason||(r.reason=new Ir(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new au(function(s){t=s}),cancel:t}}}const qw=au;function Jw(e){return function(n){return e.apply(null,n)}}function Kw(e){return E.isObject(e)&&e.isAxiosError===!0}const Xl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xl).forEach(([e,t])=>{Xl[t]=e});const Qw=Xl;function wm(e){const t=new qo(e),n=Yp(qo.prototype.request,t);return E.extend(n,qo.prototype,t,{allOwnKeys:!0}),E.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return wm(Kn(e,s))},n}const we=wm(iu);we.Axios=qo;we.CanceledError=Ir;we.CancelToken=qw;we.isCancel=hm;we.VERSION=jm;we.toFormData=Xi;we.AxiosError=G;we.Cancel=we.CanceledError;we.all=function(t){return Promise.all(t)};we.spread=Jw;we.isAxiosError=Kw;we.mergeConfig=Kn;we.AxiosHeaders=Et;we.formToJSON=e=>fm(E.isHTMLForm(e)?new FormData(e):e);we.getAdapter=vm.getAdapter;we.HttpStatusCode=Qw;we.default=we;const de=we,$a="/api",Gw=()=>{const e=Xn(),[t,n]=y.useState([]),[r,s]=y.useState([]),[i,a]=y.useState({}),[l,c]=y.useState({}),[u,d]=y.useState(!0);y.useEffect(()=>{p()},[]);const h=async x=>{try{const O=(await de.get(`${$a}/projects/${x}/tasks`)).data.data||[],N={open:0,inProgress:0,pending:0,done:0,blocked:0,total:O.length};O.forEach(_=>{var L;const R=((L=_.status)==null?void 0:L.toLowerCase())||"pending";R==="open"?N.open++:R==="in_progress"||R==="in-progress"?N.inProgress++:R==="done"||R==="completed"?N.done++:R==="blocked"?N.blocked++:N.pending++});const P=N.total>0?Math.round(N.done/N.total*100):0,A=`${N.done} of ${N.total} completed`;return{projectId:x,progressPercent:P,progressLabel:A,progressBreakdown:N}}catch(C){return console.error(`Error calculating progress for project ${x}:`,C),{projectId:x,progressPercent:0,progressLabel:"No tasks",progressBreakdown:{open:0,inProgress:0,pending:0,done:0,blocked:0,total:0}}}},p=async()=>{try{d(!0);const[x,C]=await Promise.all([de.get(`${$a}/projects`),de.get(`${$a}/teams`)]);if(x.data.success){const O=x.data.data||[];n(O);const N=O.map(_=>h(_.id)),A=(await Promise.all(N)).reduce((_,R)=>(_[R.projectId]=R,_),{});c(A)}if(C.data.success){let O=C.data.data||[];const N=["https://picsum.photos/seed/1/64","https://picsum.photos/seed/2/64","https://picsum.photos/seed/3/64","https://picsum.photos/seed/4/64","https://picsum.photos/seed/5/64","https://picsum.photos/seed/6/64"],P=O.map(A=>({...A,members:A.members.map((_,R)=>({..._,avatar:_.avatar||N[R%N.length]}))}));if(s(P),x.data.success){const _=(x.data.data||[]).reduce((R,L)=>{const H=P.filter(V=>{const J=V.currentProject===L.id,k=V.currentProject===L.name;return J||k});return R[L.id]=H,R},{});a(_)}}}catch(x){console.error("Error loading dashboard data:",x)}finally{d(!1)}},j=x=>e(`/projects/${x}`),v=x=>e(`/teams/${x}`),w=()=>{e("/projects?create=true")},b=()=>{e("/teams?create=true")};if(u)return o.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),o.jsx("p",{className:"ml-3 text-text-secondary-dark",children:"Loading dashboard..."})]});const g=t.slice(0,2),f=r.slice(0,6),m=({title:x,value:C})=>o.jsxs("div",{className:"bg-surface-dark p-6 rounded-lg border border-border-dark transition-all hover:shadow-lg hover:border-primary/50",children:[o.jsx("p",{className:"text-sm font-medium text-text-secondary-dark",children:x}),o.jsx("p",{className:"text-3xl font-bold mt-1",children:C})]});return o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-8",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),o.jsx("p",{className:"text-sm text-text-secondary-dark mt-1",children:"Welcome back. Here's a summary of your teams and projects."})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[o.jsx(m,{title:"Projects",value:t.length}),o.jsx(m,{title:"Teams",value:r.length}),o.jsx(m,{title:"Active Projects",value:t.filter(x=>x.status==="active").length}),o.jsx(m,{title:"Running Agents",value:r.flatMap(x=>x.members).filter(x=>x.agentStatus==="active").length})]}),o.jsxs("div",{className:"space-y-10",children:[o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Projects"}),o.jsx(Fs,{to:"/projects",className:"text-sm font-semibold text-primary hover:underline",children:"View All"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.map(x=>{const C=l[x.id];return o.jsx(Gp,{project:x,showStatus:!0,showTeams:!0,assignedTeams:i[x.id]||[],onClick:()=>j(x.id),progressPercent:C==null?void 0:C.progressPercent,progressLabel:C==null?void 0:C.progressLabel,progressBreakdown:C==null?void 0:C.progressBreakdown},x.id)}),o.jsx(Hl,{title:"Create New Project",onClick:w})]})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Teams"}),o.jsx(Fs,{to:"/teams",className:"text-sm font-semibold text-primary hover:underline",children:"View All"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[f.map(x=>o.jsx(Xp,{team:x,onClick:()=>v(x.id)},x.id)),o.jsx(Hl,{title:"Create New Team",onClick:b})]})]})]})]})},Xw=({onSave:e,onClose:t})=>{const[n,r]=y.useState(""),[s,i]=y.useState(!1),[a,l]=y.useState(""),c=async d=>{if(d.preventDefault(),!n.trim()){l("Please enter a project path");return}try{i(!0),l(""),await e(n.trim())}catch(h){l(h instanceof Error?h.message:"Failed to create project")}finally{i(!1)}},u=async()=>{try{if("showDirectoryPicker"in window&&window.showDirectoryPicker){const d=await window.showDirectoryPicker();r(d.name)}else{const d=document.createElement("input");d.type="file",d.webkitdirectory=!0,d.multiple=!0,d.addEventListener("change",h=>{const p=h.target.files;if(p&&p.length>0){const w=p[0].webkitRelativePath.split("/")[0];r(w)}}),d.click()}}catch(d){console.log("Folder selection cancelled or failed:",d)}};return o.jsx("div",{className:"fixed inset-0 bg-background-dark/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-surface-dark border border-border-dark rounded-xl shadow-lg w-full max-w-md",children:[o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Create New Project"}),o.jsx("button",{className:"text-text-secondary-dark hover:text-text-primary-dark transition-colors",onClick:t,disabled:s,children:o.jsx(Yn,{className:"w-6 h-6"})})]}),o.jsx("form",{onSubmit:c,children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-text-secondary-dark mb-2",htmlFor:"project-path",children:["Project Path ",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{className:"w-full bg-background-dark border border-border-dark rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-primary placeholder-text-secondary-dark/50",id:"project-path",placeholder:"/Users/name/my-project",type:"text",value:n,onChange:d=>r(d.target.value),disabled:s,required:!0}),o.jsxs("button",{type:"button",className:"bg-background-dark border border-border-dark text-text-secondary-dark font-semibold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-border-dark/50 hover:text-text-primary-dark transition-colors text-sm whitespace-nowrap",onClick:u,disabled:s,children:[o.jsx(Ze,{className:"w-4 h-4"}),o.jsx("span",{children:"Browse"})]})]}),o.jsxs("p",{className:"text-xs text-text-secondary-dark mt-2",children:["Enter the absolute path to your project directory. AgentMux will create a ",o.jsx("code",{className:"bg-background-dark px-1 rounded text-xs",children:".agentmux"})," subdirectory for configuration and tickets."]}),a&&o.jsx("p",{className:"text-red-400 text-sm mt-2",children:a})]})})})]}),o.jsxs("div",{className:"bg-background-dark/50 px-6 py-4 border-t border-border-dark flex justify-end gap-3 rounded-b-xl",children:[o.jsx("button",{type:"button",className:"bg-transparent border border-border-dark text-text-primary-dark font-semibold py-2 px-4 rounded-lg hover:bg-border-dark/50 transition-colors",onClick:t,disabled:s,children:"Cancel"}),o.jsx("button",{type:"submit",className:"bg-primary text-white font-semibold py-2 px-4 rounded-lg flex items-center gap-2 hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:c,disabled:s||!n.trim(),children:s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),o.jsx("span",{children:"Creating..."})]}):o.jsx("span",{children:"Create Project"})})]})]})})},Se="/api";class Yw{async getProjects(){return(await de.get(`${Se}/projects`)).data.data||[]}async getProject(t){const n=await de.get(`${Se}/projects/${t}`);if(!n.data.success||!n.data.data)throw new Error(n.data.error||"Project not found");return n.data.data}async createProject(t,n,r){const s=await de.post(`${Se}/projects`,{path:t,name:n,description:r});if(!s.data.success||!s.data.data)throw new Error(s.data.error||"Failed to create project");return s.data.data}async startProject(t,n){const r=await de.post(`${Se}/projects/${t}/start`,{teamIds:n});if(!r.data.success)throw new Error(r.data.error||"Failed to start project");return{message:r.data.message||"Project started successfully"}}async assignTeamsToProject(t,n){const r=await this.getTeams(),s={};n.forEach(a=>{const l=r.find(c=>c.id===a);if(l&&l.members.length>0){const c=l.members[0].role;s[c]||(s[c]=[]),s[c].push(a)}});const i=await de.post(`${Se}/projects/${t}/assign-teams`,{teamAssignments:s});if(!i.data.success)throw new Error(i.data.error||"Failed to assign teams")}async getTeams(){return(await de.get(`${Se}/teams`)).data.data||[]}async getTeam(t){const n=await de.get(`${Se}/teams/${t}`);if(!n.data.success||!n.data.data)throw new Error(n.data.error||"Team not found");return n.data.data}async createTeam(t){const n=await de.post(`${Se}/teams`,t);if(!n.data.success||!n.data.data)throw new Error(n.data.error||"Failed to create team");return n.data.data}async deleteTeam(t){const n=await de.delete(`${Se}/teams/${t}`);if(!n.data.success)throw new Error(n.data.error||"Failed to delete team")}async unassignTeamFromProject(t,n){const r=await de.post(`${Se}/projects/${t}/unassign-team`,{teamId:n});if(!r.data.success)throw new Error(r.data.error||"Failed to unassign team")}async getProjectTickets(t){return(await de.get(`${Se}/projects/${t}/tickets`)).data.data||[]}async createTicket(t,n){const r=await de.post(`${Se}/projects/${t}/tickets`,n);if(!r.data.success||!r.data.data)throw new Error(r.data.error||"Failed to create ticket");return r.data.data}async updateTicket(t,n){const r=await de.patch(`${Se}/tickets/${t}`,n);if(!r.data.success||!r.data.data)throw new Error(r.data.error||"Failed to update ticket");return r.data.data}async deleteTicket(t,n){const r=await de.delete(`${Se}/projects/${t}/tickets/${n}`);if(!r.data.success)throw new Error(r.data.error||"Failed to delete ticket")}async getAllTasks(t){return(await de.get(`${Se}/projects/${t}/tasks`)).data.data||[]}async getMilestones(t){return(await de.get(`${Se}/projects/${t}/milestones`)).data.data||[]}async getTasksByStatus(t,n){return(await de.get(`${Se}/projects/${t}/tasks/status/${n}`)).data.data||[]}async getTasksByMilestone(t,n){return(await de.get(`${Se}/projects/${t}/tasks/milestone/${n}`)).data.data||[]}}const Je=new Yw,Xd="/api",Zw=()=>{const e=Xn(),[t,n]=Fv(),[r,s]=y.useState([]),[i,a]=y.useState(!0),[l,c]=y.useState(""),[u,d]=y.useState("all"),[h,p]=y.useState(!1),[j,v]=y.useState({}),[w,b]=y.useState({});y.useEffect(()=>{g(),t.get("create")==="true"&&(p(!0),t.delete("create"),n(t,{replace:!0}))},[]);const g=async()=>{try{a(!0);const N=await de.get(`${Xd}/projects`);if(N.data.success){const P=N.data.data||[];s(P),f(P).catch(A=>console.error("Progress calc failed:",A)),m(P).catch(A=>console.error("Teams loading failed:",A))}}catch(N){console.error("Error loading projects:",N)}finally{a(!1)}},f=async N=>{const P=await Promise.all(N.map(async A=>{try{const _=await Je.getAllTasks(A.id),R=_.length;if(R===0)return[A.id,{percent:0,active:0,total:0,open:0,inProgress:0,pending:0,done:0,blocked:0}];const L=_.filter(I=>I.status==="open").length,H=_.filter(I=>I.status==="in_progress").length,V=_.filter(I=>I.status==="pending").length,J=_.filter(I=>I.status==="done"||I.status==="completed").length,k=_.filter(I=>I.status==="blocked").length,B=L+H+V,F=Math.round(J/R*100);return[A.id,{percent:F,active:B,total:R,open:L,inProgress:H,pending:V,done:J,blocked:k}]}catch(_){return console.warn("Failed to load tasks for project",A.id,_),[A.id,{percent:0,active:0,total:0,open:0,inProgress:0,pending:0,done:0,blocked:0}]}}));v(Object.fromEntries(P))},m=async N=>{try{const P=await Je.getTeams(),A=["https://picsum.photos/seed/1/64","https://picsum.photos/seed/2/64","https://picsum.photos/seed/3/64","https://picsum.photos/seed/4/64","https://picsum.photos/seed/5/64","https://picsum.photos/seed/6/64"],_=P.map(L=>({...L,members:L.members.map((H,V)=>({...H,avatar:H.avatar||A[V%A.length]}))})),R=N.map(L=>{const H=_.filter(V=>{const J=V.currentProject===L.id,k=V.currentProject===L.name;return J||k});return[L.id,H]});b(Object.fromEntries(R))}catch(P){console.error("Failed to load teams for projects:",P)}},x=async N=>{try{const P=await de.post(`${Xd}/projects`,{path:N});P.data.success&&P.data.data&&(s(A=>[P.data.data,...A]),p(!1),e(`/projects/${P.data.data.id}`))}catch(P){throw console.error("Error creating project:",P),P}},C=N=>{e(`/projects/${N}`)},O=r.filter(N=>{const P=N.name.toLowerCase().includes(l.toLowerCase())||N.path.toLowerCase().includes(l.toLowerCase()),A=u==="all"||N.status===u;return P&&A});return i?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin mb-4 mx-auto"}),o.jsx("p",{className:"text-text-secondary-dark",children:"Loading projects..."})]})}):o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Projects"}),o.jsx("p",{className:"text-sm text-text-secondary-dark mt-1",children:"Manage and monitor your AgentMux projects"})]}),o.jsxs("button",{className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2",onClick:()=>p(!0),children:[o.jsx(Vt,{className:"w-5 h-5"}),"New Project"]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 mb-6",children:[o.jsxs("div",{className:"relative w-full md:w-auto md:flex-grow max-w-md",children:[o.jsx(o0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary-dark w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search projects...",value:l,onChange:N=>c(N.target.value),className:"w-full bg-surface-dark border border-border-dark rounded-lg pl-10 pr-4 py-2.5 text-sm focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors"})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("select",{value:u,onChange:N=>d(N.target.value),className:"bg-surface-dark border border-border-dark rounded-lg px-4 py-2.5 text-sm focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"paused",children:"Paused"}),o.jsx("option",{value:"completed",children:"Completed"})]})})]}),o.jsx("div",{children:O.length>0?o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[O.map(N=>{var P,A,_,R;return o.jsx(Gp,{project:N,showStatus:!0,showTeams:!0,assignedTeams:w[N.id]||[],onClick:()=>C(N.id),progressPercent:(P=j[N.id])==null?void 0:P.percent,progressLabel:typeof((A=j[N.id])==null?void 0:A.total)=="number"?`${((_=j[N.id])==null?void 0:_.done)||0} of ${((R=j[N.id])==null?void 0:R.total)||0} completed`:void 0,progressBreakdown:j[N.id]?{open:j[N.id].open,inProgress:j[N.id].inProgress,pending:j[N.id].pending,done:j[N.id].done,blocked:j[N.id].blocked,total:j[N.id].total}:void 0},N.id)}),o.jsx(Hl,{title:"New Project",onClick:()=>p(!0)})]}):o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(Jv,{className:"w-12 h-12 text-text-secondary-dark/50",strokeWidth:1.5})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:l||u!=="all"?"No projects found":"No projects yet"}),o.jsx("p",{className:"text-sm text-text-secondary-dark mb-6",children:l||u!=="all"?"Try adjusting your search or filter criteria":"Create your first project to get started with AgentMux"}),!l&&u==="all"&&o.jsxs("button",{className:"bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors inline-flex items-center gap-2",onClick:()=>p(!0),children:[o.jsx(Vt,{className:"w-5 h-5"}),"Create Project"]})]})}),h&&o.jsx(Xw,{onSave:x,onClose:()=>p(!1)})]})},ek=({project:e,onClose:t,onAssignmentComplete:n})=>{const[r,s]=y.useState([]),[i,a]=y.useState(new Set),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[h,p]=y.useState(null);y.useEffect(()=>{j()},[]);const j=async()=>{try{c(!0);const f=await Je.getTeams();s(f);const m=new Set(f.filter(x=>x.currentProject===e.id).map(x=>x.id));a(m)}catch(f){p("Failed to load teams"),console.error("Error loading teams:",f)}finally{c(!1)}},v=f=>{const m=new Set(i);m.has(f)?m.delete(f):m.add(f),a(m)},w=async()=>{try{d(!0),p(null),await Je.assignTeamsToProject(e.id,Array.from(i)),n(),t()}catch(f){p(f instanceof Error?f.message:"Failed to assign teams"),console.error("Error assigning teams:",f)}finally{d(!1)}},b=f=>{f.target===f.currentTarget&&t()},g=f=>({orchestrator:"#8b5cf6",pm:"#3b82f6",developer:"#10b981",qa:"#f59e0b",tester:"#ef4444",designer:"#ec4899"})[f]||"#6b7280";return o.jsx("div",{className:"modal-overlay",onClick:b,children:o.jsxs("div",{className:"modal-content team-assignment-modal",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("div",{className:"modal-title",children:[o.jsx(ot,{className:"title-icon"}),o.jsxs("div",{children:[o.jsx("h2",{children:"Assign Teams"}),o.jsxs("p",{children:['Select teams to assign to "',e.name,'"']})]})]}),o.jsx("button",{className:"close-button",onClick:t,children:o.jsx(Yn,{size:20})})]}),o.jsx("div",{className:"modal-body",children:l?o.jsxs("div",{className:"loading-state",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Loading teams..."})]}):h?o.jsxs("div",{className:"error-state",children:[o.jsxs("p",{children:["Error: ",h]}),o.jsx(te,{onClick:j,className:"retry-button",variant:"outline",size:"sm",children:"Retry"})]}):r.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx(ot,{size:48}),o.jsx("h3",{children:"No Teams Available"}),o.jsx("p",{children:"Create some teams first before assigning them to projects."})]}):o.jsxs("div",{className:"teams-selection",children:[o.jsxs("div",{className:"selection-header",children:[o.jsxs("h3",{children:["Available Teams (",r.length,")"]}),o.jsxs("p",{children:["Selected: ",i.size," team",i.size!==1?"s":""]})]}),o.jsx("div",{className:"teams-grid",children:r.map(f=>{var O,N;const m=i.has(f.id),x=f.currentProject===e.id,C=f.currentProject&&f.currentProject!==e.id;return o.jsxs("div",{className:`team-selection-card ${m?"selected":""} ${C?"unavailable":""}`,onClick:()=>!C&&v(f.id),children:[m&&o.jsx("div",{className:"selection-indicator",children:o.jsx(Pd,{size:16})}),o.jsxs("div",{className:"team-card-header",children:[o.jsxs("div",{className:"team-info",children:[o.jsx("h4",{className:"team-name",children:f.name}),f.description&&o.jsx("p",{className:"team-description",children:f.description})]}),o.jsx("div",{className:"team-meta",children:o.jsx("span",{className:"team-meta-info",children:new Date(f.updatedAt).toLocaleDateString()})})]}),o.jsxs("div",{className:"team-members-summary",children:[o.jsxs("div",{className:"members-count",children:[o.jsx(ot,{size:14}),o.jsxs("span",{children:[((O=f.members)==null?void 0:O.length)||0," member",(((N=f.members)==null?void 0:N.length)||0)!==1?"s":""]})]}),f.members&&f.members.length>0&&o.jsxs("div",{className:"member-roles",children:[f.members.slice(0,3).map((P,A)=>o.jsx("span",{className:"role-badge",style:{color:g(P.role)},children:P.role},A)),f.members.length>3&&o.jsxs("span",{className:"more-roles",children:["+",f.members.length-3," more"]})]})]}),x&&o.jsx("div",{className:"assignment-status current-project",children:"Currently assigned to this project"}),C&&o.jsx("div",{className:"assignment-status other-project",children:"Assigned to another project"})]},f.id)})})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx(te,{className:"secondary-button",onClick:t,disabled:u,variant:"secondary",children:"Cancel"}),o.jsxs(te,{className:"primary-button",onClick:w,disabled:u||r.length===0,loading:u,icon:Pd,children:["Assign ",i.size," Team",i.size!==1?"s":""]})]})]})})},Yd={in_progress:{icon:$r,color:"text-primary",label:"In Progress"},open:{icon:Fl,color:"text-text-secondary-dark",label:"Open"},pending:{icon:Fl,color:"text-text-secondary-dark",label:"Open"},done:{icon:Jn,color:"text-green-400",label:"Done"},completed:{icon:Jn,color:"text-green-400",label:"Done"},blocked:{icon:wi,color:"text-red-400",label:"Blocked"}},Zd={high:{color:"text-red-400",label:"High"},critical:{color:"text-red-500",label:"Critical"},medium:{color:"text-yellow-400",label:"Medium"},low:{color:"text-green-400",label:"Low"}},tk=({isOpen:e,onClose:t,task:n,onEdit:r,onAssign:s,taskAssignmentLoading:i})=>{var u;if(!e||!n)return null;const a=Yd[n.status]||Yd.open,l=Zd[n.priority]||Zd.medium,c=a.icon;return o.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:t,children:o.jsxs("div",{className:"bg-surface-dark w-full max-w-4xl rounded-xl shadow-2xl flex flex-col h-[90vh]",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border-dark flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"bg-primary/10 text-primary p-2 rounded-lg",children:o.jsx(c,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:n.title}),o.jsxs("p",{className:"text-sm text-text-secondary-dark",children:["In ",o.jsx("span",{className:"text-primary",children:"AgentMux Project"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(te,{variant:"ghost",size:"icon",className:"w-8 h-8",children:o.jsx(Zv,{className:"w-4 h-4"})}),o.jsx(te,{variant:"ghost",size:"icon",onClick:t,className:"w-8 h-8",children:o.jsx(Yn,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-grow p-6 overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-semibold text-text-secondary-dark uppercase tracking-wider",children:"Status"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(c,{className:`${a.color} w-5 h-5`}),o.jsx("p",{className:"text-sm font-medium",children:a.label})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-semibold text-text-secondary-dark uppercase tracking-wider",children:"Priority"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${l.color.replace("text-","bg-")}`}),o.jsx("p",{className:"text-sm font-medium",children:l.label})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-semibold text-text-secondary-dark uppercase tracking-wider",children:"Milestone"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-primary/80"}),o.jsx("p",{className:"text-sm font-medium",children:((u=n.milestoneId)==null?void 0:u.replace(/_/g," ").replace(/^m\d+\s*/,""))||n.milestone||"General"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[r&&o.jsx(te,{variant:"secondary",size:"sm",icon:_p,onClick:()=>r(n),children:"Edit"}),s&&n.status!=="done"&&n.status!=="completed"&&o.jsx(te,{variant:"primary",size:"sm",onClick:()=>s(n),loading:i===n.id,disabled:i===n.id,children:i===n.id?"Starting...":"Start Task"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Description"}),o.jsx("div",{className:"text-text-secondary-dark leading-relaxed prose prose-invert max-w-none text-sm",children:n.description?o.jsx("div",{children:n.description.split(`
`).map((d,h)=>o.jsx("p",{className:"mb-2",children:d},h))}):o.jsx("p",{className:"italic text-text-secondary-dark",children:"No description provided"})})]}),n.acceptanceCriteria&&n.acceptanceCriteria.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"text-lg font-semibold mb-4",children:["Acceptance Criteria (",n.acceptanceCriteria.length,")"]}),o.jsx("div",{className:"space-y-2",children:n.acceptanceCriteria.map((d,h)=>o.jsxs("div",{className:"flex items-start gap-2 p-3 bg-background-dark rounded-lg",children:[o.jsx(Jn,{className:"w-4 h-4 text-green-400 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:d})]},h))})]}),n.tasks&&n.tasks.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"text-lg font-semibold mb-4",children:["Subtasks (",n.tasks.length,")"]}),o.jsx("div",{className:"space-y-2",children:n.tasks.map((d,h)=>o.jsxs("div",{className:"flex items-start gap-2 p-3 bg-background-dark rounded-lg",children:[o.jsx(Fl,{className:"w-4 h-4 text-text-secondary-dark mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:d.replace(/^\[x\]\s*|\[\s*\]\s*/i,"")})]},h))})]}),n.assignee&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Assignment"}),o.jsx("div",{className:"p-3 bg-background-dark rounded-lg",children:o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"text-text-secondary-dark",children:"Assigned to:"})," ",o.jsx("span",{className:"font-medium",children:n.assignee})]})})]})]})]})})},nk=({projectPath:e,onClose:t})=>{const[n,r]=y.useState(null),[s,i]=y.useState([]),[a,l]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState(null),p={"project-spec.md":`# Project Specification

## Overview
Brief description of the project goals and objectives.

## Requirements
- [ ] Requirement 1
- [ ] Requirement 2
- [ ] Requirement 3

## Architecture
Description of the system architecture and design decisions.

## Implementation Notes
Key implementation details and considerations.
`,"team-prompts.md":`# Team System Prompts

## Project Manager
You are a Project Manager AI agent responsible for:
- Coordinating team activities
- Managing project timeline and milestones
- Facilitating communication between team members
- Ensuring project deliverables meet requirements

## Developer
You are a Developer AI agent responsible for:
- Writing clean, maintainable code
- Implementing features according to specifications
- Following coding standards and best practices
- Collaborating with other developers

## QA Tester
You are a QA Tester AI agent responsible for:
- Creating comprehensive test plans
- Executing manual and automated tests
- Reporting and tracking bugs
- Ensuring quality standards are met
`,"workflow.md":`# Project Workflow

## Development Process
1. **Planning Phase**
   - Requirements gathering
   - Architecture design
   - Task breakdown

2. **Implementation Phase**
   - Feature development
   - Code reviews
   - Testing

3. **Deployment Phase**
   - Build and deployment
   - Monitoring and maintenance

## Team Coordination
- Daily standups
- Sprint planning
- Retrospectives

## Tools and Resources
- Development environment setup
- CI/CD pipeline
- Documentation standards
`};y.useEffect(()=>{e&&j()},[e]);const j=async()=>{if(e){u(!0),h(null);try{const m=await fetch(`/api/projects/files?projectPath=${encodeURIComponent(e)}&type=agentmux-md`);if(m.ok){const x=await m.json();i(x.files||[])}else h("Failed to load available files")}catch(m){h("Error loading files: "+m.message)}finally{u(!1)}}},v=async m=>{u(!0),h(null);try{const x=await fetch(`/api/projects/file-content?projectPath=${encodeURIComponent(e||"")}&filePath=${encodeURIComponent(m)}`);if(x.ok){const C=await x.json();r({name:m.split("/").pop()||m,path:m,content:C.content,modified:!1})}else h("Failed to load file")}catch(x){h("Error loading file: "+x.message)}finally{u(!1)}},w=m=>{const x=m;r({name:x,path:`.agentmux/${x}`,content:p[m],modified:!0})},b=async()=>{if(!(!n||!e)){u(!0),h(null);try{(await fetch("/api/projects/save-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectPath:e,filePath:n.path,content:n.content})})).ok?(r({...n,modified:!1}),await j()):h("Failed to save file")}catch(m){h("Error saving file: "+m.message)}finally{u(!1)}}},g=m=>{n&&r({...n,content:m,modified:!0})},f=m=>m.replace(/^# (.*)/gm,"<h1>$1</h1>").replace(/^## (.*)/gm,"<h2>$1</h2>").replace(/^### (.*)/gm,"<h3>$1</h3>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,"<code>$1</code>").replace(/- \[ \] (.*)/g," $1").replace(/- \[x\] (.*)/gi," $1").replace(/^- (.*)/gm," $1").replace(/\n/g,"<br>");return o.jsx("div",{className:"markdown-editor-overlay",children:o.jsxs("div",{className:"markdown-editor",children:[o.jsxs("div",{className:"markdown-editor-header",children:[o.jsxs("div",{className:"header-left",children:[o.jsx("h2",{children:"Markdown Editor"}),n&&o.jsxs("span",{className:"file-info",children:[n.name,n.modified&&o.jsx("span",{className:"modified-indicator",children:""})]})]}),o.jsxs("div",{className:"header-right",children:[n&&o.jsxs(o.Fragment,{children:[o.jsx(te,{variant:"outline",size:"sm",onClick:()=>l(!a),title:a?"Edit Mode":"Preview Mode",icon:a?n0:qv}),o.jsx(te,{variant:"primary",size:"sm",onClick:b,disabled:!n.modified||c,title:"Save File",icon:s0})]}),o.jsx(Rr,{"aria-label":"Close",variant:"ghost",icon:Yn,onClick:t})]})]}),d&&o.jsx("div",{className:"error-message",children:d}),o.jsx("div",{className:"markdown-editor-content",children:n?o.jsx("div",{className:"editor-pane",children:a?o.jsx("div",{className:"markdown-preview",dangerouslySetInnerHTML:{__html:f(n.content)}}):o.jsx("textarea",{className:"markdown-textarea",value:n.content,onChange:m=>g(m.target.value),placeholder:"Enter your markdown content here...",spellCheck:!1})}):o.jsxs("div",{className:"file-browser",children:[o.jsxs("div",{className:"file-section",children:[o.jsxs("h3",{children:[o.jsx(Ze,{size:16})," Available Files"]}),c?o.jsx("div",{className:"loading",children:"Loading files..."}):s.length>0?o.jsx("ul",{className:"file-list",children:s.map((m,x)=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>v(m),className:"file-item",children:[o.jsx(Pa,{size:14}),m]})},x))}):o.jsx("p",{className:"no-files",children:"No .agentmux markdown files found"})]}),o.jsxs("div",{className:"file-section",children:[o.jsxs("h3",{children:[o.jsx(Pa,{size:16})," Create New File"]}),o.jsx("div",{className:"template-list",children:Object.keys(p).map(m=>o.jsxs("button",{onClick:()=>w(m),className:"template-item",children:[o.jsx(Pa,{size:14}),m]},m))})]})]})}),n&&o.jsxs("div",{className:"editor-footer",children:[o.jsx("span",{className:"file-path",children:n.path}),o.jsxs("span",{className:"editor-mode",children:[a?"Preview":"Edit"," Mode"]})]})]})})},rk=({project:e,onAddGoal:t,onEditGoal:n,onAddUserJourney:r,onEditUserJourney:s,onBuildSpecs:i,onBuildTasks:a,buildSpecsWorkflow:l,alignmentStatus:c,onContinueWithMisalignment:u,onViewAlignment:d,selectedBuildSpecsTeam:h,setSelectedBuildSpecsTeam:p,selectedBuildTasksTeam:j,setSelectedBuildTasksTeam:v,availableTeams:w,onCreateSpecsTasks:b,onCreateDevTasks:g,onCreateE2ETasks:f})=>{En();const[m,x]=y.useState({mdFileCount:0,taskCount:0,hasProjectMd:!1,hasUserJourneyMd:!1,hasInitialGoalMd:!1,hasInitialUserJourneyMd:!1}),[C,O]=y.useState(!0),[N,P]=y.useState({progressPercent:0,tasksCompleted:0,tasksTotal:0,assignedTeams:0});y.useEffect(()=>{A()},[e.id]);const A=async()=>{try{O(!0);const _=await fetch(`/api/projects/${e.id}/stats`);if(_.ok){const R=await _.json();R.success&&x(R.data)}try{const R=await Je.getAllTasks(e.id),L=R.length,H=R.filter(k=>k.status==="done"||k.status==="completed").length,V=L?Math.round(H/L*100):0,J=(w||[]).filter(k=>k.currentProject===e.id||k.currentProject===e.name).length;P({progressPercent:V,tasksCompleted:H,tasksTotal:L,assignedTeams:J})}catch(R){console.warn("Failed to compute prototype metrics",R)}}catch(_){console.error("Error loading project stats:",_)}finally{O(!1)}};return o.jsxs("div",{className:"detail-view",children:[o.jsxs("div",{className:"detail-header",children:[o.jsx("h3",{children:"Project Details"}),o.jsx("p",{className:"detail-description",children:"Overview and key metrics for your project"})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("div",{className:"flex items-center justify-between p-5 border-b border-border-dark",children:o.jsx("h4",{children:"Project Metrics"})}),C?o.jsx("div",{className:"loading-stats",children:o.jsx("p",{children:"Loading project metrics..."})}):o.jsxs("div",{className:"scorecards-grid",children:[o.jsxs("div",{className:"scorecard",children:[o.jsx("div",{className:"scorecard-header",children:o.jsx("h5",{children:"Overall Progress"})}),o.jsxs("div",{className:"scorecard-value",children:[N.progressPercent,"%"]})]}),o.jsxs("div",{className:"scorecard",children:[o.jsx("div",{className:"scorecard-header",children:o.jsx("h5",{children:"Tasks Completed"})}),o.jsxs("div",{className:"scorecard-value",children:[N.tasksCompleted,"/",N.tasksTotal]})]}),o.jsxs("div",{className:"scorecard",children:[o.jsx("div",{className:"scorecard-header",children:o.jsx("h5",{children:"Assigned Teams"})}),o.jsx("div",{className:"scorecard-value",children:N.assignedTeams})]})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("div",{className:"flex items-center justify-between p-5 border-b border-border-dark",children:o.jsx("h4",{children:"Specification Management"})}),o.jsxs("div",{className:"spec-management",children:[o.jsxs("div",{className:"spec-status-grid",children:[o.jsxs("div",{className:"spec-status-item",children:[o.jsxs("div",{className:"spec-status-info",children:[o.jsx(is,{className:"spec-icon"}),o.jsxs("div",{className:"spec-details",children:[o.jsx("h5",{children:"Project Goal"}),o.jsx("p",{className:"spec-description",children:"Define project objectives and success criteria"})]})]}),o.jsx("div",{className:"spec-status-indicator",children:m.hasInitialGoalMd?o.jsx(te,{variant:"secondary",icon:is,onClick:n,children:"Edit"}):o.jsx(te,{variant:"primary",onClick:t,children:"Add Goal"})})]}),o.jsxs("div",{className:"spec-status-item",children:[o.jsxs("div",{className:"spec-status-info",children:[o.jsx(is,{className:"spec-icon"}),o.jsxs("div",{className:"spec-details",children:[o.jsx("h5",{children:"User Journey"}),o.jsx("p",{className:"spec-description",children:"Map user interactions and experience flows"})]})]}),o.jsx("div",{className:"spec-status-indicator",children:m.hasInitialUserJourneyMd?o.jsx(te,{variant:"secondary",icon:is,onClick:s,children:"Edit"}):o.jsx(te,{variant:"primary",onClick:r,children:"Add User Journey"})})]})]}),o.jsxs("div",{className:"spec-task-actions",children:[o.jsx("h5",{children:"Generate Project Tasks"}),o.jsxs("div",{className:"task-creation-buttons",children:[o.jsx(te,{onClick:b,className:"w-full sm:w-auto flex-1",children:"Generate Tasks from Goal"}),o.jsx(te,{variant:"secondary",onClick:g,className:"w-full sm:w-auto flex-1",children:"Generate Tasks from User Journey"})]})]})]})]})]})};class sk{constructor(){dt(this,"cache",null);dt(this,"lastCacheTime",0);dt(this,"cacheTimeout",3e4)}async getInProgressTasks(){var n,r;const t=Date.now();if(this.cache&&t-this.lastCacheTime<this.cacheTimeout)return this.cache.tasks;try{const s=await fetch("/api/in-progress-tasks");if(!s.ok)return console.warn("Failed to fetch in-progress tasks:",s.statusText),((n=this.cache)==null?void 0:n.tasks)||[];const i=await s.json();return this.cache=i,this.lastCacheTime=t,i.tasks}catch(s){return console.error("Error loading in-progress tasks:",s),((r=this.cache)==null?void 0:r.tasks)||[]}}async getTaskAssignedMember(t){return(await this.getInProgressTasks()).find(r=>{var s;return r.taskPath===t||r.originalPath===t||t.includes(r.taskName)||r.originalPath.includes(((s=t.split("/").pop())==null?void 0:s.replace(".md",""))||"")})||null}async getTaskAssignedMemberDetails(t){try{const n=await this.getTaskAssignedMember(t);if(!n)return{};const r=await fetch("/api/teams");if(!r.ok)return{sessionName:n.assignedSessionName};const s=await r.json(),i=s.success?s.data.teams:s.teams||[];for(const a of i)if(a.members){const l=a.members.find(c=>c.id===n.assignedMemberId||c.sessionName===n.assignedSessionName);if(l)return{memberName:l.name,sessionName:l.sessionName||n.assignedSessionName,teamName:a.name}}return{sessionName:n.assignedSessionName}}catch(n){return console.error("Error getting task assigned member details:",n),{}}}clearCache(){this.cache=null,this.lastCacheTime=0}}const km=new sk,ok=({project:e,tickets:t,onTicketsUpdate:n,onCreateSpecsTasks:r,onCreateDevTasks:s,onCreateE2ETasks:i,loading:a,onTaskClick:l,onTaskAssign:c,onTaskUnblock:u,taskAssignmentLoading:d,taskUnblockLoading:h})=>{const[p,j]=y.useState(null),[v,w]=y.useState(!1),[b,g]=y.useState(!1),[f,m]=y.useState({title:"",status:"open",priority:"medium",targetRole:"",milestone:"",description:""}),[x,C]=y.useState({name:"",description:""}),[O,N]=y.useState(new Map),P=y.useRef(null),[A,_]=y.useState({open:20,in_progress:20,done:20,blocked:20}),[R,L]=y.useState({}),H=p?p==="Completed"?t.filter(M=>M.status==="done"||M.status==="completed"):t.filter(M=>(M.milestone||M.milestoneId||"Uncategorized")===p):t,V={open:H.filter(M=>M.status==="open"||M.status==="pending"),in_progress:H.filter(M=>M.status==="in_progress"),done:H.filter(M=>M.status==="done"||M.status==="completed"),blocked:H.filter(M=>M.status==="blocked")},J=t.reduce((M,q)=>{const re=q.milestone||q.milestoneId||"Uncategorized";return M[re]||(M[re]=[]),M[re].push(q),M},{}),k=M=>{const q=M.match(/^m(\d+)/i);return q?parseInt(q[1],10):999},B=Object.entries(J).sort(([M],[q])=>k(M)-k(q)),F=Object.keys(J);y.useEffect(()=>{const M=async()=>{const q=new Map;for(const re of t)if(re.filePath)try{const T=await km.getTaskAssignedMemberDetails(re.filePath);(T.memberName||T.sessionName)&&q.set(re.id,T)}catch{console.debug("No assignment data found for task:",re.id)}N(q)};t.length>0&&M()},[t]),y.useEffect(()=>{(async()=>{try{const q=await fetch("/api/teams");if(!q.ok)return;const re=await q.json(),T=re.success?re.data||[]:re||[],U={};T.forEach(K=>{(K.members||[]).forEach(se=>{se.name&&(U[se.name.toLowerCase()]=se.avatar||""),se.sessionName&&(U[se.sessionName.toLowerCase()]=se.avatar||"")})}),L(U)}catch{}})()},[]),y.useEffect(()=>{if(!P.current||B.length===0)return;const M=B.findIndex(([q,re])=>re.some(T=>T.status==="in_progress"));M!==-1&&setTimeout(()=>{const q=P.current;if(q){const T=q.querySelectorAll(".milestone-card")[M];if(T){const U=q.clientWidth,K=T.offsetLeft,se=T.clientWidth,Re=K-U/2+se/2;q.scrollTo({left:Math.max(0,Re),behavior:"smooth"})}}},100)},[B,t]);const I=async()=>{try{const M=await fetch(`/api/projects/${e.id}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(M.ok)w(!1),m({title:"",status:"open",priority:"medium",targetRole:"",milestone:"",description:""}),n();else{const q=await M.text();console.error("Failed to create task: "+q)}}catch(M){console.error("Error creating task:",M),console.error("Failed to create task")}},W=async()=>{try{const M=await fetch(`/api/projects/${e.id}/milestones`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(M.ok)g(!1),C({name:"",description:""}),n();else{const q=await M.text();console.error("Failed to create milestone: "+q)}}catch(M){console.error("Error creating milestone:",M),console.error("Failed to create milestone")}};return o.jsxs("div",{className:"tasks-view",children:[o.jsx("div",{className:"tasks-header",children:o.jsx("div",{className:"flex justify-end",children:o.jsx(Zn,{align:"bottom-right",items:[{label:"Create Task",onClick:()=>w(!0)},{label:"Create Milestone",onClick:()=>g(!0)}]})})}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-text-secondary-dark flex-shrink-0",children:"Milestones:"}),o.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-hide pb-1",children:[o.jsx("button",{className:`chip flex-shrink-0 ${p?"":"chip--active"}`,onClick:()=>j(null),children:"All"}),B.map(([M,q])=>{const re=M.replace(/_/g," ").replace(/^m\d+\s*/,"").replace(/^\w/,T=>T.toUpperCase());return o.jsxs("button",{className:`chip flex-shrink-0 ${p===M?"chip--active":""}`,onClick:()=>j(M),children:[re,o.jsx("span",{className:"chip-count",children:q.length})]},M)}),o.jsx("button",{className:`chip flex-shrink-0 ${p==="Completed"?"chip--active":""}`,onClick:()=>j("Completed"),children:"Completed"})]})]})}),o.jsxs("div",{className:"kanban-section",children:[o.jsx("h4",{children:"Task Board"}),o.jsxs("div",{className:"kanban-board",children:[o.jsx(So,{title:"Open",count:V.open.length,totalCount:V.open.length,tasks:V.open.slice(0,A.open),status:"open",onTaskClick:l,onTaskAssign:c,onTaskUnblock:u,taskAssignmentLoading:d,taskUnblockLoading:h,taskAssignments:O,onCreateTaskClick:()=>w(!0),onLoadMore:V.open.length>A.open?()=>_(M=>({...M,open:M.open+20})):void 0,avatarMap:R}),o.jsx(So,{title:"In Progress",count:V.in_progress.length,totalCount:V.in_progress.length,tasks:V.in_progress.slice(0,A.in_progress),status:"in_progress",onTaskClick:l,onTaskAssign:c,onTaskUnblock:u,taskAssignmentLoading:d,taskUnblockLoading:h,taskAssignments:O,onCreateTaskClick:()=>w(!0),onLoadMore:V.in_progress.length>A.in_progress?()=>_(M=>({...M,in_progress:M.in_progress+20})):void 0,avatarMap:R}),o.jsx(So,{title:"Done",count:V.done.length,totalCount:V.done.length,tasks:V.done.slice(0,A.done),status:"done",onTaskClick:l,onTaskAssign:c,onTaskUnblock:u,taskAssignmentLoading:d,taskUnblockLoading:h,taskAssignments:O,onCreateTaskClick:()=>w(!0),onLoadMore:V.done.length>A.done?()=>_(M=>({...M,done:M.done+20})):void 0,avatarMap:R}),o.jsx(So,{title:"Blocked",count:V.blocked.length,totalCount:V.blocked.length,tasks:V.blocked.slice(0,A.blocked),status:"blocked",onTaskClick:l,onTaskAssign:c,onTaskUnblock:u,taskAssignmentLoading:d,taskUnblockLoading:h,taskAssignments:O,onCreateTaskClick:()=>w(!0),onLoadMore:V.blocked.length>A.blocked?()=>_(M=>({...M,blocked:M.blocked+20})):void 0,avatarMap:R})]})]}),o.jsx($s,{isOpen:v,onClose:()=>w(!1),onSubmit:I,title:"Create New Task",submitText:"Create Task",children:o.jsxs(Ar,{children:[o.jsx(nr,{children:o.jsxs("div",{children:[o.jsx(ge,{children:"Title"}),o.jsx(Bn,{type:"text",value:f.title,onChange:M=>m({...f,title:M.target.value}),placeholder:"Enter task title",required:!0})]})}),o.jsxs(nr,{children:[o.jsxs("div",{children:[o.jsx(ge,{children:"Status"}),o.jsxs("select",{value:f.status,onChange:M=>m({...f,status:M.target.value}),className:"form-input",children:[o.jsx("option",{value:"open",children:"Open"}),o.jsx("option",{value:"in_progress",children:"In Progress"}),o.jsx("option",{value:"done",children:"Done"}),o.jsx("option",{value:"blocked",children:"Blocked"})]})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Priority"}),o.jsxs("select",{value:f.priority,onChange:M=>m({...f,priority:M.target.value}),className:"form-input",children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"critical",children:"Critical"})]})]})]}),o.jsxs(nr,{children:[o.jsxs("div",{children:[o.jsx(ge,{children:"Target Role"}),o.jsx(Bn,{type:"text",value:f.targetRole,onChange:M=>m({...f,targetRole:M.target.value}),placeholder:"e.g., frontend-developer, backend-developer, qa"})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Milestone"}),o.jsxs("select",{value:f.milestone,onChange:M=>m({...f,milestone:M.target.value}),className:"form-input",children:[o.jsx("option",{value:"",children:"Select milestone"}),F.map(M=>o.jsx("option",{value:M,children:M},M))]})]})]}),o.jsx(nr,{children:o.jsxs("div",{children:[o.jsx(ge,{children:"Description"}),o.jsx(Ds,{value:f.description,onChange:M=>m({...f,description:M.target.value}),placeholder:"Enter task description",rows:4})]})})]})}),o.jsx($s,{isOpen:b,onClose:()=>g(!1),onSubmit:W,title:"Create New Milestone",submitText:"Create Milestone",children:o.jsxs(Ar,{children:[o.jsx(nr,{children:o.jsxs("div",{children:[o.jsx(ge,{children:"Milestone Name"}),o.jsx(Bn,{type:"text",value:x.name,onChange:M=>C({...x,name:M.target.value}),placeholder:"e.g., m1_foundation, m2_development",required:!0}),o.jsx(Vl,{children:"Use format like m0_*, m1_*, etc. This will create the folder structure for task organization."})]})}),o.jsx(nr,{children:o.jsxs("div",{children:[o.jsx(ge,{children:"Description"}),o.jsx(Ds,{value:x.description,onChange:M=>C({...x,description:M.target.value}),placeholder:"Describe the milestone objectives",rows:3})]})})]})})]})},So=({title:e,count:t,tasks:n,status:r,onTaskClick:s,onTaskAssign:i,onTaskUnblock:a,taskAssignmentLoading:l,taskUnblockLoading:c,taskAssignments:u,onCreateTaskClick:d,onLoadMore:h,totalCount:p,avatarMap:j})=>o.jsxs("div",{className:`task-column task-column--${r}`,style:{maxHeight:"calc(100vh - 22rem)"},children:[o.jsx("div",{className:"column-header",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"column-title",children:e}),o.jsx("span",{className:"task-count",children:t})]})}),o.jsxs("div",{className:"column-content overflow-y-auto",children:[n.map(v=>{var w,b,g,f;return o.jsxs("div",{className:`bg-surface-dark p-4 rounded-lg border border-border-dark hover:border-primary/50 cursor-pointer shadow-sm transition-all ${v.status==="done"||v.status==="completed"?"opacity-70":""} ${v.status==="blocked"?"border-red-500/50 hover:border-red-500/80":""}`,onClick:()=>s(v),children:[o.jsx("p",{className:`font-semibold text-sm leading-snug ${v.status==="done"||v.status==="completed"?"line-through text-text-secondary-dark":""}`,children:v.title}),o.jsxs("div",{className:"flex items-center justify-between mt-3 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[v.priority&&o.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${v.priority==="high"||v.priority==="critical"?"bg-red-500/20 text-red-400":v.priority==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:v.priority.charAt(0).toUpperCase()+v.priority.slice(1)}),o.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-primary/20 text-primary/80 border border-primary/30",children:((w=v.milestoneId)==null?void 0:w.replace(/_/g," ").replace(/^m\d+\s*/,"").split(":")[0])||"General"}),(v.linksCount||((b=v.links)==null?void 0:b.length))&&o.jsxs("div",{className:"flex items-center gap-1 text-primary",title:`${v.linksCount||((g=v.links)==null?void 0:g.length)} dependencies`,children:[o.jsx(Xv,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs font-medium",children:v.linksCount||((f=v.links)==null?void 0:f.length)})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[(()=>{const m=u.get(v.id),x=(m==null?void 0:m.memberName)||v.assignee||"",C=(m==null?void 0:m.sessionName)||"",O=x.toLowerCase(),N=C.toLowerCase(),P=j&&(j[O]||j[N])||"";if(P&&(P.startsWith("http")||P.startsWith("data:")))return o.jsx("img",{className:"w-6 h-6 rounded-full bg-cover bg-center ring-2 ring-surface-dark",src:P,alt:x,title:x||C});if(P)return o.jsx("div",{className:"w-6 h-6 rounded-full bg-surface-dark border border-border-dark flex items-center justify-center text-xs text-text-secondary-dark ring-2 ring-surface-dark",title:x||C,children:P});const A=(x||C||"").charAt(0).toUpperCase();return o.jsx("div",{className:"w-6 h-6 rounded-full bg-surface-dark border border-border-dark flex items-center justify-center text-xs text-text-secondary-dark ring-2 ring-surface-dark",title:x||C,children:A})})(),o.jsx("button",{onClick:m=>{m.stopPropagation()},className:"w-7 h-7 flex items-center justify-center rounded-full text-text-secondary-dark hover:bg-primary/10 hover:text-primary transition-colors",children:o.jsx(Pr,{className:"w-4 h-4"})})]})]})]},v.id)}),n.length===0&&o.jsx("div",{className:"p-4 flex-grow flex flex-col items-center justify-center text-center",children:o.jsxs("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg bg-surface-dark/50 border-2 border-dashed border-border-dark h-full w-full",children:[o.jsx(Gv,{className:"w-12 h-12 text-text-secondary-dark mb-3"}),o.jsxs("h4",{className:"font-semibold mb-1",children:["No ",e," Tasks"]}),o.jsx("p",{className:"text-sm text-text-secondary-dark mb-4",children:e==="Open"?"All tasks are in progress or completed.":`No ${e.toLowerCase()} tasks at the moment.`}),d&&o.jsx("button",{onClick:d,className:"bg-primary text-white h-9 px-3 rounded-lg text-sm font-semibold hover:bg-primary/90 transition-colors",children:"Create New Task"})]})})]}),h&&o.jsx("div",{className:"p-4 border-t border-border-dark",children:o.jsx("button",{onClick:h,className:"w-full h-9 px-3 rounded-lg text-sm font-semibold bg-surface-dark border border-border-dark hover:bg-background-dark text-text-secondary-dark hover:text-primary transition-colors",children:"Load More"})})]}),bm=({files:e,selectedFile:t,expandedFolders:n,onFileSelect:r,onToggleFolder:s,level:i=0})=>o.jsx("div",{children:e.map(a=>o.jsxs("div",{children:[o.jsxs("div",{className:`file-item ${t===a.path?"file-item--selected":""}`,style:{paddingLeft:`${i*16+8}px`},onClick:()=>{a.type==="folder"?s(a.path):r(a.path)},children:[a.type==="folder"&&o.jsx("span",{className:"folder-toggle",children:n.has(a.path)?"":""}),o.jsx("span",{className:"file-icon",children:a.icon}),o.jsx("span",{className:"file-name",children:a.name})]}),a.type==="folder"&&n.has(a.path)&&a.children&&a.children.length>0&&o.jsx(bm,{files:a.children,selectedFile:t,expandedFolders:n,onFileSelect:r,onToggleFolder:s,level:i+1})]},a.path))}),ik=({project:e,selectedFile:t,onFileSelect:n,setIsMarkdownEditorOpen:r})=>{const[s,i]=y.useState([]),[a,l]=y.useState(new Set([".agentmux"])),[c,u]=y.useState(""),[d,h]=y.useState(!1),[p,j]=y.useState(null);y.useEffect(()=>{w()},[e]),y.useEffect(()=>{t?v(t):(u(""),j(null))},[t,e]);const v=async g=>{try{h(!0),j(null);const f=await fetch(`/api/projects/${e.id}/file-content?filePath=${encodeURIComponent(g)}`);if(f.ok){const m=await f.json();u(m.data.content)}else{const m=await f.json();j(m.error||"Failed to load file")}}catch(f){console.error("Error loading file content:",f),j("Failed to load file content")}finally{h(!1)}},w=async()=>{try{console.log(`Loading files for project: ${e.name} at path: ${e.path}`);const g=await fetch(`/api/projects/${e.id}/files?depth=4&includeDotFiles=true`);if(g.ok){const f=await g.json();f.success&&f.data.files?(console.log(`Loaded ${f.data.files.length} items from project directory:`),console.log(`Original path: ${f.data.projectPath}`),console.log(`Resolved path: ${f.data.resolvedPath}`),console.log("Files found:",f.data.files.map(x=>x.name).join(", ")),i(f.data.files),f.data.files.some(x=>x.name===".agentmux")&&l(x=>new Set([...x,".agentmux"]))):(console.error("Failed to load project files:",f.error),i([]))}else console.error("Error loading project files:",g.status),i([])}catch(g){console.error("Error loading project files:",g),i([])}},b=g=>{const f=new Set(a);f.has(g)?f.delete(g):f.add(g),l(f)};return o.jsxs("div",{className:"editor-view",children:[o.jsxs("div",{className:"file-tree-panel",children:[o.jsxs("div",{className:"file-tree-header",children:[o.jsx("h3",{children:"Project Files"}),o.jsx("div",{className:"project-path-display",children:o.jsx("small",{title:e.path,children:e.path})})]}),o.jsx("div",{className:"file-tree",children:o.jsx(bm,{files:s,selectedFile:t,expandedFolders:a,onFileSelect:n,onToggleFolder:b})})]}),o.jsx("div",{className:"editor-panel",children:t?o.jsxs("div",{className:"file-viewer",children:[o.jsx("div",{className:"file-header",children:o.jsx("h3",{children:t})}),o.jsx("div",{className:"file-content",children:d?o.jsx("div",{className:"loading-state",children:o.jsx("p",{children:"Loading file content..."})}):p?o.jsx("div",{className:"error-state",children:o.jsxs("p",{children:["Error: ",p]})}):o.jsx("pre",{className:"code-viewer",children:o.jsx("code",{children:c})})})]}):o.jsxs("div",{className:"project-info",children:[o.jsxs("div",{className:"info-header",children:[o.jsx("h3",{children:"Project Information"}),o.jsx(te,{variant:"primary",icon:is,onClick:()=>r(!0),title:"Edit .agentmux spec files",children:"Edit Specs"})]}),o.jsxs("div",{className:"info-section",children:[o.jsx("h4",{children:"Name"}),o.jsx("p",{children:e.name})]}),o.jsxs("div",{className:"info-section",children:[o.jsx("h4",{children:"Path"}),o.jsx("p",{children:e.path})]}),o.jsxs("div",{className:"info-section",children:[o.jsx("h4",{children:"Status"}),o.jsx("p",{children:e.status})]}),e.description&&o.jsxs("div",{className:"info-section",children:[o.jsx("h4",{children:"Description"}),o.jsx("p",{children:e.description})]})]})})]})},ak=({assignedTeams:e,onUnassignTeam:t,openTerminalWithSession:n,onAssignTeam:r,projectName:s,onViewTeam:i,onEditTeam:a})=>o.jsxs("div",{className:"teams-view",children:[o.jsxs("div",{className:"teams-header",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Assigned Teams"}),o.jsx("p",{className:"teams-description",children:"Teams currently working on this project"})]}),e.length>0?o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[e.map(l=>{var h;const c=l.members.some(p=>p.agentStatus==="active");(h=l.members[0])==null||h.avatar;const u=l.members.slice(0,3),d=Math.max(l.members.length-3,0);return o.jsxs("div",{className:"bg-surface-dark border border-border-dark rounded-xl p-5 hover:border-primary/50 transition-colors relative",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold",children:l.name}),o.jsxs("div",{className:"mt-2 space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-text-secondary-dark",children:[o.jsx(ot,{className:"w-4 h-4"}),o.jsxs("span",{children:[l.members.length," Members"]})]}),s&&o.jsxs("div",{className:"flex items-center gap-2 text-text-secondary-dark",children:[o.jsx(Ze,{className:"w-4 h-4"}),o.jsxs("span",{children:["Project: ",s]})]})]})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c?"bg-emerald-500/10 text-emerald-400":"bg-gray-500/10 text-gray-300"}`,children:c?"active":"inactive"})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[u.map((p,j)=>p.avatar?p.avatar.startsWith("http")||p.avatar.startsWith("data:")?o.jsx("img",{src:p.avatar,alt:p.name,className:"w-8 h-8 rounded-full ring-2 ring-surface-dark object-cover",title:p.name,style:{marginLeft:j===0?0:-6}},p.id):o.jsx("div",{className:"w-8 h-8 rounded-full bg-background-dark border border-border-dark flex items-center justify-center ring-2 ring-surface-dark",title:p.name,style:{marginLeft:j===0?0:-6},children:p.avatar},p.id):o.jsx("div",{className:"w-8 h-8 rounded-full bg-background-dark border border-border-dark flex items-center justify-center ring-2 ring-surface-dark",title:p.name,style:{marginLeft:j===0?0:-6},children:p.name.charAt(0).toUpperCase()},p.id)),d>0&&o.jsxs("div",{className:"w-8 h-8 rounded-full bg-background-dark border border-border-dark flex items-center justify-center text-xs text-text-secondary-dark ring-2 ring-surface-dark",style:{marginLeft:-6},children:["+",d]})]}),o.jsx(Zn,{align:"bottom-right",items:[{label:"Edit Team",onClick:()=>a?a(l.id):i&&i(l.id)},{label:"View Team",onClick:()=>i&&i(l.id)},{label:"Open Terminal",onClick:()=>{const p=l.members.find(j=>j.sessionName);p!=null&&p.sessionName&&n(p.sessionName)}},{label:"Unassign",danger:!0,onClick:()=>t(l.id,l.name)}]})]})]},l.id)}),o.jsx("button",{type:"button",onClick:r,className:"flex items-center justify-center p-6 rounded-xl border-2 border-dashed border-border-dark hover:border-primary/50 hover:text-primary transition-colors text-text-secondary-dark",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(Rp,{className:"w-10 h-10 mb-2"}),o.jsx("span",{className:"font-medium",children:"Assign New Team"})]})})]}):o.jsxs("div",{className:"empty-teams",children:[o.jsx("div",{className:"empty-icon",children:o.jsx(ot,{className:"w-6 h-6"})}),o.jsx("h4",{className:"empty-title",children:"No teams assigned"}),o.jsx("p",{className:"empty-description",children:"Assign teams to this project to start collaborative development."})]})]}),lk=()=>{const{id:e}=Np(),t=Tn(),n=Xn(),{openTerminalWithSession:r}=qs(),{showAlert:s,showSuccess:i,showError:a,AlertComponent:l}=En(),{showConfirm:c,showDeleteConfirm:u,ConfirmComponent:d}=Js(),h=y.useCallback(()=>{const S=t.hash.replace("#","");return["detail","editor","tasks","teams"].includes(S)?S:"detail"},[t.hash]),[p,j]=y.useState(()=>{const S=t.hash.replace("#","");return["detail","editor","tasks","teams"].includes(S)?S:"detail"}),[v,w]=y.useState(null),[b,g]=y.useState(!1),[f,m]=y.useState(!1),[x,C]=y.useState(!1),[O,N]=y.useState(!1),[P,A]=y.useState(""),[_,R]=y.useState(""),[L,H]=y.useState(!1),[V,J]=y.useState(null),[k,B]=y.useState(null),[F,I]=y.useState(null),[W,M]=y.useState({}),[q,re]=y.useState({isActive:!1,steps:[]}),[T,U]=y.useState({project:null,assignedTeams:[],tickets:[],loading:!0,error:null}),[K,se]=y.useState({hasAlignmentIssues:!1,alignmentFilePath:null,content:null}),[Re,Br]=y.useState(""),[zr,Sm]=y.useState(""),[Xs,Cm]=y.useState([]);y.useState(!1),y.useState(!1),y.useState(null),y.useEffect(()=>{j(h())},[h]);const Ys=S=>{j(S),n(`${t.pathname}#${S}`,{replace:!0})};y.useEffect(()=>{e&&et(e)},[e]),y.useEffect(()=>{e&&p==="teams"&&et(e)},[p,e]);const Tm=async S=>{try{const $=await fetch(`/api/projects/${S}/alignment-status`);if($.ok){const Z=await $.json();Z.success&&se(Z.data)}}catch($){console.error("Failed to check alignment status:",$)}},Em=async()=>{if(T.project)try{(await fetch(`/api/projects/${T.project.id}/continue-with-misalignment`,{method:"POST"})).ok?(i("Orchestrator notified to continue Build Specs despite alignment issues"),se({hasAlignmentIssues:!1,alignmentFilePath:null,content:null})):a("Failed to notify orchestrator")}catch(S){a("Failed to continue with misalignment: "+(S instanceof Error?S.message:"Unknown error"))}},_m=async()=>{if(T.project)try{const S=await fetch(`/api/projects/${T.project.id}/specs?fileName=alignment_comparison.md`);if(S.ok){const $=await S.json();if($.success&&$.data){const Z=window.open("","_blank");Z&&(Z.document.write(`
              <html>
                <head>
                  <title>Alignment Comparison Analysis</title>
                  <style>
                    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; padding: 20px; max-width: 800px; margin: 0 auto; }
                    h1, h2, h3 { color: #333; }
                    pre { background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; }
                    code { background: #f5f5f5; padding: 2px 4px; border-radius: 3px; }
                  </style>
                </head>
                <body>
                  <h1>Codebase Alignment Analysis</h1>
                  <pre>${$.data.content.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</pre>
                </body>
              </html>
            `),Z.document.close())}}else a("Failed to load alignment analysis")}catch(S){a("Failed to view alignment analysis: "+(S instanceof Error?S.message:"Unknown error"))}},et=async S=>{try{U(ut=>({...ut,loading:!0,error:null}));const[$,Z]=await Promise.all([Je.getProject(S),Je.getAllTasks(S)]),Ne=await Je.getTeams(),vt=Ne.filter(ut=>{const Yt=ut.currentProject===S,_n=ut.currentProject===$.name;return ut.currentProject&&console.log("Team assignment check:",{teamName:ut.name,teamCurrentProject:ut.currentProject,projectId:S,projectName:$.name,matchesById:Yt,matchesByName:_n}),Yt||_n});Cm(Ne),U({project:$,assignedTeams:vt,tickets:Z,loading:!1,error:null}),await Tm(S)}catch($){U(Z=>({...Z,loading:!1,error:$ instanceof Error?$.message:"Failed to load project"}))}},lu=()=>{g(!0)},Pm=async()=>{if(!(!T.project||T.assignedTeams.length===0))try{U($=>({...$,loading:!0}));const S=await Je.startProject(T.project.id,T.assignedTeams.map($=>$.id));await et(T.project.id),i(`${S.message||"Project started with automated check-ins and git commit reminders."}`,"Project Started Successfully")}catch(S){console.error("Failed to start project:",S),a("Failed to start project: "+(S instanceof Error?S.message:"Unknown error"),"Start Project Failed")}finally{U(S=>({...S,loading:!1}))}},Rm=async()=>{T.project&&c(`Are you sure you want to stop "${T.project.name}"?

This will:
 Stop all scheduled check-ins and git reminders
 Set project status to 'stopped'
 Keep all teams and work intact

You can restart the project at any time.`,async()=>await Am(),{title:"Stop Project",confirmText:"Stop Project",type:"warning"})},Am=async()=>{if(T.project)try{U($=>({...$,loading:!0}));const S=await fetch(`/api/projects/${T.project.id}/stop`,{method:"POST",headers:{"Content-Type":"application/json"}});if(S.ok){const $=await S.json();await et(T.project.id),i($.message||"Project stopped successfully. Scheduled messages have been cancelled.","Project Stopped")}else{const $=await S.json();throw new Error($.error||"Failed to stop project")}}catch(S){console.error("Failed to stop project:",S),a("Failed to stop project: "+(S instanceof Error?S.message:"Unknown error"),"Stop Project Failed")}finally{U(S=>({...S,loading:!1}))}},Om=async S=>{var $;if(J(S),H(!0),S.status==="in_progress"||($=S.path)!=null&&$.includes("/in_progress/"))try{const Z=await km.getTaskAssignedMemberDetails(S.path||S.filePath||"");M(Z)}catch(Z){console.error("Failed to load task assigned member details:",Z),M({})}else M({})},cu=async S=>{if(T.project)try{B(S.id);const $=await fetch("/api/orchestrator/health");if(!$.ok)throw new Error("Failed to check orchestrator status");const Z=await $.json();if(!Z.success||!Z.data||!Z.data.orchestrator||!Z.data.orchestrator.running){a("Orchestrator session is not running. Please start the orchestrator first.","Assignment Failed");return}const Ne=await fetch(`/api/projects/${T.project.id}/assign-task`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskId:S.id,taskTitle:S.title,taskDescription:S.description,taskPriority:S.priority,taskMilestone:S.milestoneId,projectName:T.project.name,projectPath:T.project.path})});if(Ne.ok){const vt=await Ne.json();i(`Task "${S.title}" has been assigned to the orchestrator team.`,"Task Assigned")}else{const vt=await Ne.json();throw new Error(vt.error||"Failed to assign task")}}catch($){console.error("Failed to assign task:",$),a("Failed to assign task: "+($ instanceof Error?$.message:"Unknown error"),"Assignment Failed")}finally{B(null)}},Lm=async S=>{if(T.project)try{I(S.id);const $=await fetch("/api/task-management/unblock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskPath:S.path,unblockNote:"Unblocked via UI for reassignment"})});if($.ok){const Z=await $.json();i(`Task "${S.title}" has been unblocked and moved to open for reassignment.`,"Task Unblocked"),await et(T.project.id)}else{const Z=await $.json();throw new Error(Z.error||"Failed to unblock task")}}catch($){console.error("Failed to unblock task:",$),a("Failed to unblock task: "+($ instanceof Error?$.message:"Unknown error"),"Unblock Failed")}finally{I(null)}},uu=async()=>{T.project&&c(`Create Specs Tasks?

This will generate specification-focused tasks using the TPM role. The orchestrator will analyze project requirements and create detailed specification tasks.`,async()=>await Mm(),{title:"Create Specs Tasks",confirmText:"Create Specs Tasks",type:"info"})},Mm=async()=>{if(T.project)try{U($=>({...$,loading:!0}));const S=await fetch("/api/tasks/create-from-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:T.project.id,projectName:T.project.name,projectPath:T.project.path,configType:"build_spec_prompt"})});if(S.ok){const $=await S.json();await et(T.project.id),i($.message||"Specs tasks created successfully! Tasks have been assigned to the orchestrator for TPM assignment.","Specs Tasks Created")}else{const $=await S.json();throw new Error($.error||"Failed to create specs tasks")}}catch(S){console.error("Failed to create specs tasks:",S),a("Failed to create specs tasks: "+(S instanceof Error?S.message:"Unknown error"),"Create Specs Tasks Failed")}finally{U(S=>({...S,loading:!1}))}},du=async()=>{T.project&&c(`Create Dev Tasks?

This will generate development-focused tasks using the dev role. The orchestrator will create detailed development and implementation tasks.`,async()=>await Fm(),{title:"Create Dev Tasks",confirmText:"Create Dev Tasks",type:"info"})},Fm=async()=>{if(T.project)try{U($=>({...$,loading:!0}));const S=await fetch("/api/tasks/create-from-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:T.project.id,projectName:T.project.name,projectPath:T.project.path,configType:"build_tasks_prompt",targetRole:"dev"})});if(S.ok){const $=await S.json();await et(T.project.id),i($.message||"Dev tasks created successfully! Tasks have been assigned to the orchestrator for developer assignment.","Dev Tasks Created")}else{const $=await S.json();throw new Error($.error||"Failed to create dev tasks")}}catch(S){console.error("Failed to create dev tasks:",S),a("Failed to create dev tasks: "+(S instanceof Error?S.message:"Unknown error"),"Create Dev Tasks Failed")}finally{U(S=>({...S,loading:!1}))}},fu=async()=>{T.project&&c(`Create E2E Tasks?

This will generate end-to-end testing tasks using the QA role. The system will analyze your project type and create appropriate E2E testing tasks with technology recommendations.`,async()=>await $m(),{title:"Create E2E Tasks",confirmText:"Create E2E Tasks",type:"info"})},$m=async()=>{if(T.project)try{U($=>({...$,loading:!0}));const S=await fetch("/api/tasks/create-from-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:T.project.id,projectName:T.project.name,projectPath:T.project.path,configType:"build_e2e_test_plan_prompt",targetRole:"qa"})});if(S.ok){const $=await S.json();await et(T.project.id),i($.message||"E2E tasks created successfully! Tasks have been assigned to the orchestrator for QA assignment.","E2E Tasks Created")}else{const $=await S.json();throw new Error($.error||"Failed to create E2E tasks")}}catch(S){console.error("Failed to create E2E tasks:",S),a("Failed to create E2E tasks: "+(S instanceof Error?S.message:"Unknown error"),"Create E2E Tasks Failed")}finally{U(S=>({...S,loading:!1}))}},Dm=()=>{e&&et(e)},Um=(S,$)=>{T.project&&c(`Are you sure you want to unassign "${$}" from this project?

This will send a command to the orchestrator to delete the team's tmux sessions.`,async()=>await Im(S,$),{title:"Unassign Team",confirmText:"Unassign Team",type:"warning"})},Im=async(S,$)=>{if(T.project)try{U(Z=>({...Z,loading:!0})),await fetch("/api/orchestrator/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:`unassign_team ${S} ${T.project.id}`})}),await Je.unassignTeamFromProject(T.project.id,S),await et(T.project.id),i(`Team "${$}" has been unassigned from the project and their tmux sessions have been terminated.`,"Team Unassigned")}catch(Z){console.error("Failed to unassign team:",Z),a("Failed to unassign team: "+(Z instanceof Error?Z.message:"Unknown error"),"Unassign Failed")}finally{U(Z=>({...Z,loading:!1}))}},Bm=()=>{T.project&&c(`Are you sure you want to delete "${T.project.name}"?

This will:
 Remove the project from AgentMux registry
 Keep all project files and .agentmux folder intact
 Unassign any active teams from this project

This action cannot be undone.`,async()=>await zm(),{title:"Delete Project",confirmText:"Delete Project",type:"error"})},zm=async()=>{if(T.project)try{U($=>({...$,loading:!0}));const S=await fetch(`/api/projects/${T.project.id}`,{method:"DELETE"});if(S.ok){const $=await S.json();i(`Project deleted successfully!

${$.message}`,"Project Deleted"),setTimeout(()=>{window.location.href="/"},1e3)}else{const $=await S.json();throw new Error($.error||"Failed to delete project")}}catch(S){console.error("Failed to delete project:",S),a("Failed to delete project: "+(S instanceof Error?S.message:"Unknown error"),"Delete Failed")}finally{U(S=>({...S,loading:!1}))}},Wm=()=>{A(""),C(!0)},Vm=async()=>{if(T.project)try{const S=await fetch(`/api/projects/${T.project.id}/specs?fileName=initial_goal.md`);if(S.ok){const $=await S.json();if($.success)A($.data.content),C(!0);else throw new Error($.error||"Failed to load goal content")}else throw new Error("Failed to load goal content")}catch(S){console.error("Error loading goal content:",S),a("Failed to load goal content: "+(S instanceof Error?S.message:"Unknown error"))}},Hm=async()=>{if(!P.trim()){s("Please enter project goal content");return}if(T.project)try{const S=await fetch(`/api/projects/${T.project.id}/create-spec-file`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:"initial_goal.md",content:P})});if(S.ok){const $=await S.json();if($.success)C(!1),A(""),i("Project goal saved successfully!","Goal Saved"),e&&et(e);else throw new Error($.error||"Failed to save goal")}else throw new Error("Failed to save goal")}catch(S){console.error("Error saving goal:",S),alert("Failed to save goal: "+(S instanceof Error?S.message:"Unknown error"))}},qm=()=>{R(""),N(!0)},Jm=async()=>{if(T.project)try{const S=await fetch(`/api/projects/${T.project.id}/specs?fileName=initial_user_journey.md`);if(S.ok){const $=await S.json();if($.success)R($.data.content),N(!0);else throw new Error($.error||"Failed to load user journey content")}else throw new Error("Failed to load user journey content")}catch(S){console.error("Error loading user journey content:",S),a("Failed to load user journey content: "+(S instanceof Error?S.message:"Unknown error"))}},Km=async()=>{if(!_.trim()){s("Please enter user journey content");return}if(T.project)try{const S=await fetch(`/api/projects/${T.project.id}/create-spec-file`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:"initial_user_journey.md",content:_})});if(S.ok){const $=await S.json();if($.success)N(!1),R(""),i("User journey saved successfully!","User Journey Saved"),e&&et(e);else throw new Error($.error||"Failed to save user journey")}else throw new Error("Failed to save user journey")}catch(S){console.error("Error saving user journey:",S),a("Failed to save user journey: "+(S instanceof Error?S.message:"Unknown error"))}},Qm=async()=>{T.project&&c("This will create a Product Manager for this project and instruct them to build detailed specifications and task planning using a step-by-step process. Continue?",async()=>await Zm(),{title:"Build Specifications",confirmText:"Start Build Process",type:"info"})},Gm=async()=>{if(T.project)try{const S=await fetch(`/api/projects/${T.project.id}/open-finder`,{method:"POST"});if(!S.ok)throw new Error("Failed to open Finder");const $=await S.json();if($.success)i("Project folder opened in Finder","Finder Opened");else throw new Error($.error||"Failed to open Finder")}catch(S){console.error("Error opening Finder:",S),a("Failed to open Finder: "+(S instanceof Error?S.message:"Unknown error"))}},Xm=async()=>{T.project&&c("This will generate detailed project tasks organized by milestone phases. The selected team member will analyze specifications and create milestone directories with detailed task files. Continue?",async()=>await Ym(),{title:"Build Tasks",confirmText:"Start Build Tasks",type:"info"})},Ym=async()=>{if(T.project){if(!zr||zr==="orchestrator"){a("Please select a team member first. Build Tasks must be assigned to an existing team member.");return}try{const S=await fetch("/api/build-tasks/config");if(!S.ok)throw new Error("Failed to load Build Tasks configuration");const $=await S.json();if(!$.success)throw new Error($.error||"Failed to load Build Tasks configuration");const Z=$.data,[Ne,vt]=await Promise.all([fetch(`/api/projects/${T.project.id}/specs?fileName=initial_goal.md`),fetch(`/api/projects/${T.project.id}/specs?fileName=initial_user_journey.md`)]);if(!Ne.ok||!vt.ok)throw new Error("Failed to load initial specifications");const[ut,Yt]=await Promise.all([Ne.json(),vt.json()]);if(!ut.success||!Yt.success)throw new Error("Failed to read initial specifications");const _n=ut.data.content,eo=Yt.data.content;console.log("Using selected team member for Build Tasks:",zr);const[to,ta]=zr.split(":"),Zt=Xs.find(De=>De.id===to),Pn=Zt==null?void 0:Zt.members.find(De=>De.id===ta);if(!Zt||!Pn)throw new Error("Selected team member not found");console.log("Selected team:",Zt.name,"Member:",Pn.name);const er=Z.steps,Wr=Pn.sessionName||Pn.name;console.log("Target session name for Build Tasks:",Wr);const Dt=[];for(let De=0;De<er.length;De++){const tt=er[De];console.log(`Scheduling Build Tasks Step ${tt.id}: ${tt.name} with ${tt.delayMinutes} minute delay...`);const Vr=fetch("/api/build-tasks/retry-step",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:T.project.id,stepId:tt.id,targetSession:Wr,projectName:T.project.name,projectPath:T.project.path,initialGoal:_n,userJourney:eo})});Dt.push(Vr.then(async no=>{if(no.ok){const ie=await no.json();return console.log(`Build Tasks Step ${tt.id} scheduled:`,ie.message),{stepId:tt.id,success:!0,message:ie.message}}else{const ie=await no.text();return console.error(`Build Tasks Step ${tt.id} failed:`,ie),{stepId:tt.id,success:!1,error:ie}}}))}if((await Promise.all(Dt)).every(De=>De.success)){r(Wr);const De=er.length,tt=Math.max(...er.map(Vr=>Vr.delayMinutes));i(`Build Tasks process sent to ${Pn.name}!

 ${De} steps sent to ${Zt.name}
 Final step in ${tt} minutes

 Monitor ${Pn.name}'s terminal for progress.

This will create milestone directories and detailed task files in .agentmux/tasks/`,"Build Tasks Started")}else throw new Error("Some Build Tasks steps failed to schedule")}catch(S){console.error("Error building tasks:",S),a("Failed to build tasks: "+(S instanceof Error?S.message:"Unknown error"))}}},Zm=async()=>{var Z;if(!T.project)return;if(!Re||Re==="orchestrator"){a("Please select a team member first. Build Specs must be assigned to an existing team member.");return}const S=Xs.find(Ne=>Ne.id===Re),$=(Z=S==null?void 0:S.members)==null?void 0:Z[0];if(!($!=null&&$.sessionName)){a('Team must be started before using Build Specs. Please click "Start Team" first to create tmux sessions for team members.');return}try{const Ne=await fetch("/api/build-specs/config");if(!Ne.ok)throw new Error("Failed to load Build Specs configuration");const vt=await Ne.json();if(!vt.success)throw new Error(vt.error||"Failed to load Build Specs configuration");const ut=vt.data,[Yt,_n]=await Promise.all([fetch(`/api/projects/${T.project.id}/specs?fileName=initial_goal.md`),fetch(`/api/projects/${T.project.id}/specs?fileName=initial_user_journey.md`)]);if(!Yt.ok||!_n.ok)throw new Error("Failed to load initial specifications");const[eo,to]=await Promise.all([Yt.json(),_n.json()]);if(!eo.success||!to.success)throw new Error("Failed to read initial specifications");const ta=eo.data.content,Zt=to.data.content,Pn=ie=>ie.map(Ve=>Ve.replace(/\{PROJECT_NAME\}/g,T.project.name).replace(/\{PROJECT_PATH\}/g,T.project.path).replace(/\{PROJECT_ID\}/g,T.project.id).replace(/\{INITIAL_GOAL\}/g,ta).replace(/\{USER_JOURNEY\}/g,Zt)).join(`
`);console.log("Using selected team member:",Re);const[er,Wr]=Re.split(":"),Dt=Xs.find(ie=>ie.id===er),Rn=Dt==null?void 0:Dt.members.find(ie=>ie.id===Wr);if(!Dt||!Rn)throw new Error("Selected team member not found");console.log("Selected team:",Dt.name,"Member:",Rn.name),console.log("Using existing team - no assignment needed");const en=ut.steps,De=Rn.sessionName||Rn.name;console.log("Target session name:",De);const tt=[];for(let ie=0;ie<en.length;ie++){const Ve=en[ie];console.log(`Scheduling Step ${Ve.id}: ${Ve.name} with ${Ve.delayMinutes} minute delay...`);const Ue=fetch("/api/build-specs/retry-step",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:T.project.id,stepId:Ve.id,targetSession:De,projectName:T.project.name})});tt.push(Ue.then(async He=>{if(He.ok){const jt=await He.json();return console.log(`Step ${Ve.id} scheduled:`,jt.message),{stepId:Ve.id,success:!0,message:jt.message}}else{const jt=await He.text();return console.error(`Step ${Ve.id} failed:`,jt),{stepId:Ve.id,success:!1,error:jt}}}))}const Vr=await Promise.all(tt);if((await Promise.all(Vr.map(async(ie,Ve)=>{const Ue=en[Ve];if(Ue.delayMinutes===0){const He=await ie,jt=He.messageResponse.ok,ro=He.enterResponse?He.enterResponse.ok:!0;return jt&&ro?(console.log(`Step ${Ue.id} (${Ue.name}) sent successfully with Enter key`),!0):(console.error(`Step ${Ue.id} (${Ue.name}) failed - Message: ${jt}, Enter: ${ro}`),!1)}else if(ie.ok){const He=await ie.json();return console.log(`Step ${Ue.id} (${Ue.name}) scheduled successfully:`,He),!0}else{console.error(`Step ${Ue.id} (${Ue.name}) scheduling failed:`,ie.status,ie.statusText);try{const He=await ie.text();console.error(`Step ${Ue.id} error body:`,He)}catch{console.error(`Could not read error body for step ${Ue.id}`)}return!1}}))).every(ie=>ie)){const ie=new Date,Ve=en.map((Ae,so)=>({id:Ae.id,name:Ae.name,delayMinutes:Ae.delayMinutes,status:Ae.delayMinutes===0?"scheduled":"pending",scheduledAt:Ae.delayMinutes===0?ie:new Date(ie.getTime()+Ae.delayMinutes*6e4)}));re({isActive:!0,steps:Ve}),r(De);const Ue=en.length,He=Math.max(...en.map(Ae=>Ae.delayMinutes));i(`Build Specs process sent to ${Rn.name}!

 ${Ue} steps sent to ${Dt.name}
 Final step in ${He} minutes

 Monitor ${Rn.name}'s terminal for progress.`,"Build Specs Started");const jt=setInterval(()=>{re(Ae=>{if(!Ae.isActive)return Ae;const so=new Date,na=Ae.steps.map(An=>An.status==="pending"&&An.scheduledAt&&so>=An.scheduledAt?{...An,status:"scheduled"}:An);return na.every(An=>An.status==="scheduled")?(clearInterval(jt),{...Ae,steps:na}):{...Ae,steps:na}})},3e4),ro=en.reduce((Ae,so)=>Ae+so.delayMinutes,0);setTimeout(()=>{clearInterval(jt)},(ro+5)*6e4)}else throw new Error("Some Build Specs steps failed to schedule")}catch(Ne){console.error("Error building specs:",Ne),a("Failed to build specs: "+(Ne instanceof Error?Ne.message:"Unknown error"))}};if(T.loading)return o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin mb-4 mx-auto"}),o.jsx("p",{className:"text-text-secondary-dark",children:"Loading project..."})]})});if(T.error||!T.project)return o.jsx("div",{className:"max-w-4xl mx-auto px-6 py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Error Loading Project"}),o.jsx("p",{className:"text-text-secondary-dark",children:T.error||"Project not found"})]})});const{project:ct,assignedTeams:Zs,tickets:hu}=T;return o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-8",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm text-text-secondary-dark mb-1",children:[o.jsx(Fs,{to:"/projects",className:"hover:text-primary",children:"Projects"}),o.jsx("span",{className:"text-text-secondary-dark",children:"/"}),o.jsx("span",{className:"text-text-primary-dark",children:ct.name})]}),o.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:ct.name}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"flex items-center gap-1 text-sm text-text-secondary-dark",children:[o.jsx(Ze,{className:"w-4 h-4"}),ct.path]}),o.jsx(te,{variant:"secondary",size:"sm",icon:Hv,onClick:Gm,title:"Open project folder in Finder",children:"Open in Finder"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[ct.status==="active"?o.jsx(te,{variant:"warning",icon:Kc,onClick:Rm,disabled:T.loading,title:"Stop project and cancel scheduled messages",children:"Stop Project"}):o.jsx(te,{variant:"primary",icon:Pr,onClick:Pm,disabled:T.loading||Zs.length===0,loading:T.loading,title:Zs.length===0?"Assign a team before starting the project":"Start project with assigned teams",children:T.loading?"Starting...":"Start Project"}),o.jsx(Zn,{align:"bottom-right",items:[{label:"Assign Team",onClick:lu},{label:"Delete Project",onClick:Bm,danger:!0}]})]})]}),o.jsxs("div",{className:"flex gap-1 mb-6 border-b border-border-dark",children:[o.jsxs("button",{className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 ${p==="detail"?"border-primary text-primary":"border-transparent text-text-secondary-dark hover:text-text-primary-dark"}`,onClick:()=>Ys("detail"),children:[o.jsx($l,{className:"w-4 h-4"}),"Detail"]}),o.jsxs("button",{className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 ${p==="editor"?"border-primary text-primary":"border-transparent text-text-secondary-dark hover:text-text-primary-dark"}`,onClick:()=>Ys("editor"),children:[o.jsx(Ze,{className:"w-4 h-4"}),"Editor"]}),o.jsxs("button",{className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 ${p==="tasks"?"border-primary text-primary":"border-transparent text-text-secondary-dark hover:text-text-primary-dark"}`,onClick:()=>Ys("tasks"),children:[o.jsx(Bv,{className:"w-4 h-4"}),"Tasks (",hu.length,")"]}),o.jsxs("button",{className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 ${p==="teams"?"border-primary text-primary":"border-transparent text-text-secondary-dark hover:text-text-primary-dark"}`,onClick:()=>Ys("teams"),children:[o.jsx(Rp,{className:"w-4 h-4"}),"Teams (",Zs.length,")"]})]}),o.jsx("div",{children:p==="detail"?o.jsx(rk,{project:ct,onAddGoal:Wm,onEditGoal:Vm,onAddUserJourney:qm,onEditUserJourney:Jm,onBuildSpecs:Qm,onBuildTasks:Xm,buildSpecsWorkflow:q,alignmentStatus:K,onContinueWithMisalignment:Em,onViewAlignment:_m,selectedBuildSpecsTeam:Re,setSelectedBuildSpecsTeam:Br,selectedBuildTasksTeam:zr,setSelectedBuildTasksTeam:Sm,availableTeams:Xs,onCreateSpecsTasks:uu,onCreateDevTasks:du,onCreateE2ETasks:fu},ct.updatedAt):p==="editor"?o.jsx(ik,{project:ct,selectedFile:v,onFileSelect:w,setIsMarkdownEditorOpen:m}):p==="tasks"?o.jsx(ok,{project:ct,tickets:hu,onTicketsUpdate:()=>et(ct.id),onCreateSpecsTasks:uu,onCreateDevTasks:du,onCreateE2ETasks:fu,loading:T.loading,onTaskClick:Om,onTaskAssign:cu,onTaskUnblock:Lm,taskAssignmentLoading:k,taskUnblockLoading:F}):o.jsx(ak,{assignedTeams:Zs,onUnassignTeam:Um,openTerminalWithSession:r,onAssignTeam:lu,projectName:ct.name,onViewTeam:S=>n(`/teams/${S}`),onEditTeam:S=>n(`/teams/${S}?edit=true`)})}),b&&o.jsx(ek,{project:ct,onClose:()=>g(!1),onAssignmentComplete:Dm}),f&&o.jsx(nk,{projectPath:ct.path,onClose:()=>m(!1)}),o.jsx(tk,{isOpen:L,onClose:()=>{H(!1),J(null)},task:V,onAssign:cu,taskAssignmentLoading:k}),x&&o.jsx($s,{isOpen:x,onClose:()=>C(!1),title:"Add Project Goal",subtitle:"Define your project's main objective and success criteria",onSubmit:S=>{S.preventDefault(),Hm()},submitText:"Save Goal",size:"md",children:o.jsxs(Ar,{children:[o.jsx(ge,{htmlFor:"goal-content",required:!0,children:"Project Goal"}),o.jsx(Ds,{id:"goal-content",value:P,onChange:S=>A(S.target.value),placeholder:"Describe your project's main objective, success criteria, and key outcomes...",rows:8,required:!0}),o.jsx(Vl,{children:"Define what you want to achieve with this project. Be specific about goals, target users, and success metrics."})]})}),O&&o.jsx($s,{isOpen:O,onClose:()=>N(!1),title:"Add User Journey",subtitle:"Map out how users will interact with your solution",onSubmit:S=>{S.preventDefault(),Km()},submitText:"Save User Journey",size:"md",children:o.jsxs(Ar,{children:[o.jsx(ge,{htmlFor:"journey-content",required:!0,children:"User Journey"}),o.jsx(Ds,{id:"journey-content",value:_,onChange:S=>R(S.target.value),placeholder:"Describe your users' journey from discovery to success. Include user personas, key interactions, pain points, and desired outcomes...",rows:8,required:!0}),o.jsx(Vl,{children:"Map out how users will interact with your solution. Include user types, main flows, and critical touchpoints."})]})}),o.jsx(l,{}),o.jsx(d,{})]})},Nm=({isOpen:e,onClose:t,onSubmit:n,team:r})=>{const{showWarning:s,AlertComponent:i}=En(),[a,l]=y.useState({name:"",projectPath:""}),[c,u]=y.useState([]),[d,h]=y.useState([]),[p,j]=y.useState([]),[v,w]=y.useState(!1);y.useEffect(()=>{if(b(),g(),r&&(l({name:r.name||"",projectPath:r.currentProject||r.projectPath||""}),r.members&&Array.isArray(r.members))){const A=r.members.map((_,R)=>({..._,runtimeType:_.runtimeType||"claude-code",avatar:_.avatar||x[R%x.length]}));u(A)}},[r]),y.useEffect(()=>{if(p.length>0&&c.length===0&&!r){const _=p.filter(R=>R.isDefault).map((R,L)=>({id:(L+1).toString(),name:R.displayName,role:R.key,systemPrompt:`Load from ${R.promptFile}`,runtimeType:"claude-code",avatar:x[L%x.length]}));_.length>0&&u(_)}},[p,c.length,r]);const b=async()=>{try{const A=await fetch("/api/projects");if(A.ok){const _=await A.json(),R=_.success?_.data||[]:_||[];h(Array.isArray(R)?R:[])}}catch(A){console.error("Error fetching projects:",A),h([])}},g=async()=>{try{const A=await fetch("/api/config/available_team_roles.json");if(A.ok){const _=await A.json();_.roles&&Array.isArray(_.roles)&&j(_.roles)}}catch(A){console.error("Error fetching available roles:",A),j([])}},f=A=>{const{name:_,value:R}=A.target;l(L=>({...L,[_]:R}))},m=(A,_,R)=>{u(L=>L.map(H=>{if(H.id===A){const V={...H,[_]:R};if(_==="role"){const J=p.find(k=>k.key===R);J&&(V.systemPrompt=`Load from ${J.promptFile}`)}return V}return H}))},x=["https://picsum.photos/seed/1/64","https://picsum.photos/seed/2/64","https://picsum.photos/seed/3/64","https://picsum.photos/seed/4/64","https://picsum.photos/seed/5/64","https://picsum.photos/seed/6/64"],C=()=>{const A=(Math.max(...c.map(L=>parseInt(L.id)))+1).toString(),_=p.find(L=>L.key==="fullstack-dev"),R={id:A,name:"Fullstack Developer",role:"fullstack-dev",systemPrompt:_?`Load from ${_.promptFile}`:"Default fullstack developer prompt",runtimeType:"claude-code",avatar:x[c.length%x.length]};u(L=>[...L,R])},O=A=>{c.length>1&&u(_=>_.filter(R=>R.id!==A))},N=async A=>{if(A.preventDefault(),!(!a.name.trim()||c.length===0)){for(const _ of c)if(!_.name.trim()){s("All team members must have a name");return}w(!0);try{const _=d.find(L=>L.id===a.projectPath),R={...a,members:c.map(L=>({name:L.name,role:L.role,systemPrompt:L.systemPrompt,runtimeType:L.runtimeType,avatar:L.avatar})),currentProject:a.projectPath||void 0,projectPath:_?_.path:void 0};await n(R)}catch(_){console.error("Error submitting team:",_)}finally{w(!1)}}},P=A=>{A.preventDefault(),N(A)};return e?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-background-dark/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:t,children:o.jsxs("div",{className:"bg-surface-dark border border-border-dark rounded-xl shadow-lg w-full max-w-2xl m-4",onClick:A=>A.stopPropagation(),children:[o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-text-primary-dark",children:r?"Edit Team":"Create New Team"}),o.jsx("p",{className:"text-sm text-text-secondary-dark mt-1",children:r?"Modify team configuration and members":"Configure the details for your new AI agent team."})]}),o.jsx("button",{onClick:t,className:"w-8 h-8 -mt-1 -mr-1 rounded-lg hover:bg-background-dark flex items-center justify-center text-text-secondary-dark hover:text-text-primary-dark",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("form",{onSubmit:P,className:"mt-6 space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"team-name",children:"Team Name"}),o.jsx(Bn,{id:"team-name",type:"text",value:a.name,onChange:f,name:"name",placeholder:"e.g., Frontend Wizards",required:!0})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Team Members"}),o.jsxs("div",{className:"space-y-4",children:[c.map((A,_)=>o.jsxs("div",{className:"p-4 border border-border-dark rounded-lg space-y-4 bg-background-dark/50",children:[o.jsxs("div",{children:[o.jsx(ge,{children:"Avatar"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:A.avatar||x[0],alt:"Selected Avatar",className:"w-12 h-12 rounded-full ring-2 ring-primary/50"}),o.jsx("div",{className:"flex flex-wrap gap-2 flex-1",children:x.map(R=>o.jsx("img",{src:R,alt:"Avatar option",onClick:()=>m(A.id,"avatar",R),className:`w-9 h-9 rounded-full cursor-pointer transition-all ${A.avatar===R?"ring-2 ring-primary":"ring-2 ring-transparent hover:ring-primary/50"}`},R))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:`member-name-${_}`,children:"Agent Name"}),o.jsx(Bn,{id:`member-name-${_}`,type:"text",value:A.name,onChange:R=>m(A.id,"name",R.target.value),placeholder:"e.g., Agent Smith",required:!0})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:`member-role-${_}`,children:"Role"}),o.jsxs(ki,{id:`member-role-${_}`,value:A.role,onChange:R=>m(A.id,"role",R.target.value),required:!0,children:[o.jsx("option",{value:"",children:"Select role"}),p.filter(R=>!R.hidden).map(R=>o.jsx("option",{value:R.key,children:R.displayName},R.key))]})]})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:`runtime-type-${_}`,children:"Runtime Type"}),o.jsxs(ki,{id:`runtime-type-${_}`,value:A.runtimeType,onChange:R=>m(A.id,"runtimeType",R.target.value),required:!0,children:[o.jsx("option",{value:"claude-code",children:"Claude CLI"}),o.jsx("option",{value:"gemini-cli",children:"Gemini CLI"}),o.jsx("option",{value:"codex-cli",children:"Codex CLI"})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{type:"button",onClick:()=>O(A.id),className:"text-text-secondary-dark hover:text-red-500 h-auto p-0 text-sm flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Member"]})})]},A.id)),o.jsxs("button",{type:"button",onClick:C,className:"w-full flex items-center justify-center gap-2 py-2 border-2 border-dashed border-border-dark rounded-lg text-text-secondary-dark hover:text-primary hover:border-primary transition-colors",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),o.jsx("span",{children:"Add Team Member"})]})]})]})]})]}),o.jsxs("div",{className:"bg-background-dark px-6 py-4 rounded-b-xl border-t border-border-dark flex justify-end gap-3",children:[o.jsx(te,{variant:"secondary",onClick:t,type:"button",children:"Cancel"}),o.jsx(te,{variant:"primary",type:"submit",onClick:P,disabled:!a.name.trim()||c.length===0||v,children:v?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r?"M5 13l4 4L19 7":"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r?"Save Changes":"Create Team"]})})]})]})}),o.jsx(i,{})]}):null},ck=({member:e,teamId:t,onClose:n})=>{const[r,s]=y.useState(null),[i,a]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(!1),[h,p]=y.useState(null),[j,v]=y.useState(!1),[w,b]=y.useState("prompt"),g=y.useRef(null);y.useEffect(()=>(f(),()=>{x()}),[e.id,t]);const f=async()=>{if(!e.sessionName){c("No active session for this team member");return}try{a(!0),c(null),Q.isConnected()||await Q.connect(),m(),Q.subscribeToSession(e.sessionName),await C()}catch(R){console.error("Error initializing terminal:",R),c("Failed to connect to terminal"),v(!1)}finally{a(!1)}},m=()=>{if(!e.sessionName)return;const R=k=>{k.sessionName===e.sessionName&&(s(B=>({...B,memberId:e.id,memberName:e.name,sessionName:e.sessionName,output:k.content,timestamp:k.timestamp})),setTimeout(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},10))},L=k=>{k.sessionName===e.sessionName&&(s({memberId:e.id,memberName:e.name,sessionName:e.sessionName,output:k.content,timestamp:k.timestamp}),v(!0),c(null))},H=k=>{k.sessionName===e.sessionName&&(console.log("Successfully subscribed to session:",k.sessionName),v(!0),c(null))},V=k=>{k.sessionName===e.sessionName&&(console.error("WebSocket error for session:",k),c(k.error||"WebSocket error occurred"),v(!1))},J=()=>{v(!0)};return Q.on("terminal_output",R),Q.on("initial_terminal_state",L),Q.on("subscription_confirmed",H),Q.on("error",V),Q.on("connected",J),()=>{Q.off("terminal_output",R),Q.off("initial_terminal_state",L),Q.off("subscription_confirmed",H),Q.off("error",V),Q.off("connected",J)}},x=()=>{h&&clearInterval(h),e.sessionName&&Q.isConnected()&&Q.unsubscribeFromSession(e.sessionName)};y.useEffect(()=>{if(u){const R=setInterval(()=>{C()},15e3);p(R)}else h&&(clearInterval(h),p(null));return()=>{h&&clearInterval(h)}},[u]);const C=async()=>{if(!e.sessionName){c("No active session for this team member");return}a(!0),c(null);try{const R=await fetch(`/api/teams/${t}/members/${e.id}/session?lines=100`);if(R.ok){const L=await R.json();L.success?s(L.data):c(L.error||"Failed to fetch session data")}else{const L=await R.json();c(L.error||"Failed to fetch session data")}}catch(R){c("Network error while fetching session data"),console.error("Error fetching session data:",R)}finally{a(!1)}},O=R=>{R.target===R.currentTarget&&n()},N=R=>({orchestrator:"#8b5cf6",pm:"#3b82f6",developer:"#10b981",qa:"#f59e0b",tester:"#ef4444",designer:"#ec4899"})[R]||"#6b7280",P=R=>({inactive:"#6b7280",activating:"#f59e0b",active:"#059669"})[R]||"#6b7280",A=R=>({idle:"#6b7280",in_progress:"#10b981"})[R]||"#6b7280",_=R=>new Date(R).toLocaleString();return o.jsx("div",{className:"modal-overlay",onClick:O,children:o.jsxs("div",{className:"modal-content member-modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("div",{className:"member-header-info",children:[o.jsx("h2",{children:e.name}),o.jsxs("div",{className:"member-badges",children:[o.jsx("span",{className:"role-badge",style:{backgroundColor:N(e.role)},children:e.role}),o.jsxs("span",{className:"status-badge",style:{backgroundColor:P(e.agentStatus)},children:["Agent: ",e.agentStatus]}),o.jsxs("span",{className:"status-badge",style:{backgroundColor:A(e.workingStatus)},children:["Work: ",e.workingStatus]})]})]}),o.jsx("button",{className:"close-button",onClick:n,children:""})]}),o.jsxs("div",{className:"member-tabs",children:[o.jsx("button",{className:`tab-button ${w==="prompt"?"active":""}`,onClick:()=>b("prompt"),children:"System Prompt"}),o.jsx("button",{className:`tab-button ${w==="terminal"?"active":""}`,onClick:()=>b("terminal"),children:"Terminal Output"})]}),o.jsxs("div",{className:"member-modal-body",children:[w==="prompt"&&o.jsx("div",{className:"system-prompt-panel",children:o.jsx("div",{className:"system-prompt-content",children:o.jsx("pre",{className:"system-prompt-text",children:e.systemPrompt})})}),w==="terminal"&&o.jsxs("div",{className:"terminal-panel",children:[o.jsxs("div",{className:"terminal-header",children:[o.jsx("div",{className:"terminal-header-left",children:e.sessionName&&o.jsxs("span",{className:"session-name",children:["Session: ",e.sessionName]})}),o.jsxs("div",{className:"terminal-controls",children:[o.jsx("div",{className:"connection-status",children:o.jsx("span",{className:`status-indicator ${j?"connected":"disconnected"}`,children:j?" Live":" Offline"})}),o.jsxs("label",{className:"auto-refresh-toggle",children:[o.jsx("input",{type:"checkbox",checked:u,onChange:R=>d(R.target.checked),disabled:j}),"Auto-refresh (fallback)"]}),o.jsx(te,{className:"refresh-button",onClick:C,disabled:i||j,variant:"secondary",size:"sm",children:i?"Loading...":"Manual Refresh"})]})]}),o.jsxs("div",{className:"terminal-output",children:[i&&!r&&o.jsxs("div",{className:"loading-state",children:[o.jsx("div",{className:"loading-spinner"}),o.jsx("p",{children:"Loading session data..."})]}),l&&o.jsxs("div",{className:"error-state",children:[o.jsxs("p",{children:["Error: ",l]}),o.jsx(te,{onClick:C,className:"retry-button",variant:"outline",size:"sm",children:"Retry"})]}),r&&o.jsxs("div",{className:"session-data",children:[o.jsx("div",{className:"session-meta",children:o.jsxs("span",{children:["Last updated: ",_(r.timestamp)]})}),o.jsx("pre",{className:"terminal-content",ref:g,children:r.output||"No output available"})]}),!i&&!l&&!r&&o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"No session data available"})})]})]})]})]})})},uk=({team:e,onClick:t,onViewTeam:n,onEditTeam:r,onDeleteTeam:s,projectName:i})=>{const a=e.members||[];return o.jsxs("div",{className:"flex items-center justify-between p-4 bg-surface-dark rounded-lg border border-border-dark hover:bg-background-dark hover:border-primary/50 transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-grow cursor-pointer",onClick:t,children:[o.jsx("div",{className:"p-3 bg-background-dark rounded-lg border border-transparent group-hover:border-primary/20 transition-colors",children:o.jsx(ot,{className:"text-text-secondary-dark group-hover:text-primary transition-colors"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-text-primary-dark",children:e.name}),o.jsx("p",{className:"text-sm text-text-secondary-dark",children:i||e.currentProject||"No Project"})]})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"hidden md:flex -space-x-2",children:[a.slice(0,4).map((l,c)=>o.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-surface-dark bg-cover bg-center overflow-hidden",title:l.name,children:l.avatar?l.avatar.startsWith("http")||l.avatar.startsWith("data:")?o.jsx("img",{src:l.avatar,alt:l.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-primary/40 flex items-center justify-center text-xs font-bold text-white",children:l.avatar}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-primary/40 flex items-center justify-center text-xs font-bold text-white",children:l.name.charAt(0).toUpperCase()})},l.id||c)),a.length>4&&o.jsxs("div",{className:"w-8 h-8 rounded-full border-2 border-surface-dark bg-background-dark flex items-center justify-center text-xs font-medium text-text-secondary-dark",children:["+",a.length-4]})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-sm text-text-secondary-dark w-28",children:[o.jsx(ot,{className:"text-base"}),o.jsxs("span",{children:[a.length," Members"]})]}),o.jsx("div",{onClick:l=>l.preventDefault(),children:o.jsx(Zn,{align:"bottom-right",items:[...n?[{label:"View Team",onClick:()=>n(e.id)}]:[],...r?[{label:"Edit Team",onClick:()=>r(e.id)}]:[],...s?[{label:"Delete Team",danger:!0,onClick:()=>s(e.id)}]:[]]})})]})]})},dk=()=>{const e=Xn(),[t,n]=y.useState([]),[r,s]=y.useState([]),[i,a]=y.useState(""),[l,c]=y.useState("all"),[u,d]=y.useState(!1),[h,p]=y.useState(null),[j,v]=y.useState(""),[w,b]=y.useState(!0),[g,f]=y.useState("grid"),[m,x]=y.useState([]),{showError:C,AlertComponent:O}=En(),N=Object.fromEntries(m.map(k=>[k.id,k.name])),[P,A]=y.useState("all");y.useEffect(()=>{R(),_()},[]);const _=async()=>{try{const k=await Je.getProjects();x(k.map(B=>({id:B.id,name:B.name})))}catch{}};y.useEffect(()=>{L()},[t,i,l]);const R=async()=>{try{const k=await fetch("/api/teams");if(k.ok){const B=await k.json();let F=B.success?B.data||[]:B||[];F=Array.isArray(F)?F:[];const I=["https://picsum.photos/seed/1/64","https://picsum.photos/seed/2/64","https://picsum.photos/seed/3/64","https://picsum.photos/seed/4/64","https://picsum.photos/seed/5/64","https://picsum.photos/seed/6/64"],W=F.map(M=>({...M,members:M.members.map((q,re)=>({...q,avatar:q.avatar||I[re%I.length]}))}));n(W)}}catch(k){console.error("Error fetching teams:",k),n([])}finally{b(!1)}},L=()=>{let k=t;i&&(k=k.filter(B=>B.name.toLowerCase().includes(i.toLowerCase())||B.description&&B.description.toLowerCase().includes(i.toLowerCase())||B.currentProject&&B.currentProject.toLowerCase().includes(i.toLowerCase())||B.members.some(F=>F.name.toLowerCase().includes(i.toLowerCase())||F.role.toLowerCase().includes(i.toLowerCase())))),l!=="all"&&(k=k.filter(B=>l==="active"?B.members.some(F=>F.agentStatus==="active"):l==="inactive"?B.members.every(F=>F.agentStatus==="inactive"):!0)),P!=="all"&&(k=k.filter(B=>B.currentProject===P)),s(k)},H=async k=>{try{const B=await fetch("/api/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(B.ok){const F=await B.json(),I=F.success?F.data:F;I&&(n(W=>[...W,I]),d(!1))}else{const F=await B.json();C("Error creating team: "+(F.error||"Unknown error"))}}catch(B){console.error("Error creating team:",B),C("Error creating team: "+(B instanceof Error?B.message:"Unknown error"))}},V=k=>{e(`/teams/${k.id}`)},J=()=>{p(null),v("")};return w?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin mb-4 mx-auto"}),o.jsx("p",{className:"text-text-secondary-dark",children:"Loading teams..."})]})}):o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Teams"}),o.jsx("p",{className:"text-sm text-text-secondary-dark mt-1",children:"Manage and organize your development teams"})]}),o.jsxs("button",{className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2",onClick:()=>d(!0),children:[o.jsx(Vt,{className:"w-5 h-5"}),"New Team"]})]}),o.jsx("div",{className:"flex flex-col md:flex-row items-center gap-4 mb-3",children:o.jsx("div",{className:"relative flex-grow w-full md:w-auto",children:o.jsx("input",{type:"text",placeholder:"Search teams...",value:i,onChange:k=>a(k.target.value),className:"w-full bg-surface-dark border border-border-dark rounded-lg px-4 py-2.5 text-sm focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors"})})}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-sm text-text-secondary-dark",children:"Status:"}),o.jsx("button",{className:`chip ${l==="all"?"chip--active":""}`,onClick:()=>c("all"),children:"All"}),o.jsx("button",{className:`chip ${l==="active"?"chip--active":""}`,onClick:()=>c("active"),children:"Active"}),o.jsx("button",{className:`chip ${l==="inactive"?"chip--active":""}`,onClick:()=>c("inactive"),children:"Inactive"}),o.jsx("span",{className:"ml-2 text-sm text-text-secondary-dark",children:"Project:"}),o.jsxs("select",{value:P,onChange:k=>A(k.target.value),className:"bg-surface-dark border border-border-dark rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary",children:[o.jsx("option",{value:"all",children:"All"}),m.map(k=>o.jsx("option",{value:k.id,children:k.name},k.id))]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>f("grid"),className:`inline-flex items-center justify-center w-9 h-9 rounded-lg border border-border-dark ${g==="grid"?"bg-primary/10 text-primary":"text-text-secondary-dark hover:text-text-primary-dark hover:border-primary/50"}`,title:"Grid view",children:o.jsx(Kv,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f("list"),className:`inline-flex items-center justify-center w-9 h-9 rounded-lg border border-border-dark ${g==="list"?"bg-primary/10 text-primary":"text-text-secondary-dark hover:text-text-primary-dark hover:border-primary/50"}`,title:"List view",children:o.jsx(Yv,{className:"w-4 h-4"})})]})]}),g==="grid"?o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[Array.isArray(r)&&r.map(k=>o.jsx(Xp,{team:k,projectName:N[k.currentProject||""],onClick:()=>V(k),onViewTeam:B=>e(`/teams/${B}`),onEditTeam:B=>e(`/teams/${B}?edit=true`)},k.id)),o.jsxs("div",{onClick:()=>d(!0),className:"flex items-center justify-center p-5 rounded-xl border-2 border-dashed border-border-dark hover:border-primary transition-colors cursor-pointer text-text-secondary-dark hover:text-primary",children:[o.jsx(Vt,{className:"mr-2 w-4 h-4"}),o.jsx("span",{children:"Create New Team"})]})]}):o.jsxs("div",{className:"space-y-4",children:[Array.isArray(r)&&r.map(k=>o.jsx(uk,{team:k,projectName:N[k.currentProject||""],onClick:()=>V(k),onViewTeam:B=>e(`/teams/${B}`),onEditTeam:B=>e(`/teams/${B}?edit=true`),onDeleteTeam:B=>{window.confirm("Are you sure you want to delete this team?")&&console.log("Delete team:",B)}},k.id)),o.jsxs("div",{onClick:()=>d(!0),className:"flex items-center justify-center p-4 rounded-lg border-2 border-dashed border-border-dark hover:border-primary transition-colors cursor-pointer text-text-secondary-dark hover:text-primary",children:[o.jsx(Vt,{className:"mr-2 w-4 h-4"}),o.jsx("span",{children:"Create New Team"})]})]}),r.length===0&&!w&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No teams found"}),o.jsx("p",{className:"text-sm text-text-secondary-dark mb-6",children:i||l!=="all"?"Try adjusting your search or filters":"Create your first team to get started"}),!i&&l==="all"&&o.jsxs("button",{className:"bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors inline-flex items-center gap-2",onClick:()=>d(!0),children:[o.jsx(Vt,{className:"w-5 h-5"}),"Create Team"]})]}),o.jsx(Nm,{isOpen:u,onClose:()=>d(!1),onSubmit:H}),h&&j&&o.jsx(ck,{member:h,teamId:j,onClose:J}),o.jsx(O,{})]})},fk=({isOpen:e,onClose:t,onStartTeam:n,team:r,loading:s})=>{var m;const{showWarning:i,AlertComponent:a}=En(),[l,c]=y.useState(""),[u,d]=y.useState(!0),[h,p]=y.useState([]),[j,v]=y.useState(!1),w=r==null?void 0:r.currentProject;y.useEffect(()=>{e&&(b(),w&&c(r.currentProject))},[e,w,r==null?void 0:r.currentProject]);const b=async()=>{v(!0);try{const x=await fetch("/api/projects");if(x.ok){const C=await x.json(),O=C.success?C.data||[]:C||[];p(Array.isArray(O)?O:[])}}catch(x){console.error("Error fetching projects:",x),p([])}finally{v(!1)}},g=x=>{if(x.preventDefault(),!w&&!l){i("Please select a project");return}const C=w?r.currentProject:l;n(C,u),t()},f=()=>{if(!w)return"";const x=h.find(C=>C.id===r.currentProject);return x?x.name:"Unknown Project"};return o.jsxs(o.Fragment,{children:[o.jsxs($s,{isOpen:e,onClose:t,title:"Start Team",subtitle:`Configure settings for ${(r==null?void 0:r.name)||"team"}`,size:"xl",onSubmit:g,submitText:s?"Starting...":"Proceed",submitDisabled:s||!w&&!l,loading:s,children:[o.jsx(Fd,{title:"Project Assignment",description:w?void 0:"Select which project this team will work on",children:w?o.jsx("div",{className:"form-info-box form-info-box--success",children:o.jsxs("div",{className:"form-info-content",children:[o.jsx("strong",{children:"Already assigned to:"})," ",f()]})}):o.jsxs(Ar,{children:[o.jsx(ge,{htmlFor:"project-select",required:!0,children:"Select Project"}),o.jsx(fj,{id:"project-select",value:l,onChange:c,placeholder:"Choose a project...",loading:j,required:!0,options:h.map(x=>({value:x.id,label:`${x.name} (${x.path})`}))})]})}),o.jsx(Fd,{title:"Team Settings",children:o.jsx(Ar,{children:o.jsx(hj,{checked:u,onChange:x=>d(x.target.checked),label:"Enable git reminder every 30 minutes",description:"Team members will receive automated reminders to commit their changes every 30 minutes"})})}),o.jsxs("div",{className:"form-info-box form-info-box--info",children:[o.jsx("div",{className:"form-info-header",children:o.jsxs("h4",{children:["Team: ",r==null?void 0:r.name]})}),o.jsxs("div",{className:"form-info-content",children:[o.jsxs("div",{children:["Members: ",((m=r==null?void 0:r.members)==null?void 0:m.length)||0]}),o.jsxs("div",{children:["Status: ",(r==null?void 0:r.status)||"idle"]})]})]})]}),o.jsx(a,{})]})},hk=({team:e,teamStatus:t,orchestratorSessionActive:n,onStartTeam:r,onStopTeam:s,onViewTerminal:i,onDeleteTeam:a,onEditTeam:l})=>{const c=(e==null?void 0:e.id)==="orchestrator"||(e==null?void 0:e.name)==="Orchestrator Team";return((e==null?void 0:e.members)||[]).filter(d=>d.agentStatus==="active"||d.sessionName).length,o.jsxs("div",{className:"page-header",children:[o.jsx("div",{className:"header-info",children:o.jsx("div",{className:"flex items-center gap-3 mb-1",children:o.jsx("h1",{className:"page-title mb-0",children:e.name})})}),o.jsxs("div",{className:"header-controls",children:[t==="idle"?o.jsx(te,{variant:"success",onClick:r,icon:Pr,children:"Start Team"}):o.jsx(te,{variant:"danger",onClick:s,icon:Kc,children:"Stop Team"}),c&&o.jsx(te,{variant:"primary",onClick:i,icon:Qc,children:"View Terminal"}),o.jsx(Zn,{align:"bottom-right",items:[{label:"Edit Team",onClick:l},...c?[]:[{label:"Delete Team",danger:!0,onClick:a}]]})]})]})},pk=({member:e,teamId:t,onStart:n,onStop:r,onViewTerminal:s})=>{const i=e.agentStatus==="active",a=e.agentStatus==="activating",l=i?"bg-emerald-500/10 text-emerald-400":a?"bg-yellow-500/10 text-yellow-400":"bg-gray-500/10 text-gray-300",c=async h=>{h.stopPropagation(),n&&await n(e.id)},u=async h=>{h.stopPropagation(),r&&await r(e.id)},d=e.avatar;return o.jsxs("div",{className:"member-row",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-background-dark border border-border-dark flex items-center justify-center overflow-hidden",children:d?d.startsWith("http")||d.startsWith("data:")?o.jsx("img",{src:d,alt:e.name,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-sm",children:d}):o.jsx("span",{className:"text-sm",children:e.name.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:e.name}),o.jsxs("div",{className:"text-sm text-text-secondary-dark",children:["Session: ",e.sessionName||"Inactive"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l}`,children:i?"Started":a?"Activating":"Stopped"}),o.jsxs("div",{className:"flex items-center gap-2",children:[i?o.jsx("button",{className:"w-9 h-9 rounded-full hover:bg-red-500/20 hover:text-red-400 flex items-center justify-center transition-colors",title:"Stop",onClick:u,children:o.jsx(Kc,{className:"w-4 h-4"})}):o.jsx("button",{className:"w-9 h-9 rounded-full hover:bg-green-500/20 hover:text-green-400 flex items-center justify-center transition-colors",title:"Start",onClick:c,children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx(Zn,{align:"bottom-right",buttonClassName:"w-9 h-9 rounded-full hover:bg-primary/20 hover:text-primary flex items-center justify-center transition-colors",items:[...e.sessionName&&s?[{label:"View Terminal",onClick:()=>s(e)}]:[]]})]})]})]})},mk=({team:e,teamId:t,onUpdateMember:n,onDeleteMember:r,onStartMember:s,onStopMember:i,onViewTerminal:a})=>{var l,c;return o.jsxs("div",{className:"space-y-4",children:[(l=e==null?void 0:e.members)==null?void 0:l.map(u=>o.jsx(pk,{member:u,teamId:t,onStart:s,onStop:i,onViewTerminal:a},u.id)),!((c=e==null?void 0:e.members)!=null&&c.length)&&o.jsx("div",{className:"empty-state",children:o.jsx("p",{children:"No team members yet. Add members to get started."})})]})},gk=({team:e,teamId:t,teamStatus:n,projectName:r,onAddMember:s,onUpdateMember:i,onDeleteMember:a,onStartMember:l,onStopMember:c,onProjectChange:u,onViewTerminal:d})=>{var h;return y.useState(!1),(e==null?void 0:e.id)==="orchestrator"||(e==null||e.name),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("h3",{className:"text-xl font-semibold",children:["Team Members (",((h=e.members)==null?void 0:h.length)||0,")"]})}),o.jsx(mk,{team:e,teamId:t,onUpdateMember:i,onDeleteMember:a,onStartMember:l,onStopMember:c,onViewTerminal:d})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-surface-dark border border-border-dark rounded-xl p-6",children:[o.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Assigned Project"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ze,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-white",children:r||"No Project Assigned"}),r&&o.jsx("div",{className:"text-sm text-text-secondary-dark",children:"Web App Redesign"})]})]})]}),o.jsxs("div",{className:"bg-surface-dark border border-border-dark rounded-xl p-5",children:[o.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Recent Activity"}),o.jsx("p",{className:"text-sm text-text-secondary-dark",children:"No recent activity."})]})]})]})},yk=()=>{const{id:e}=Np(),t=Xn(),{openTerminalWithSession:n}=qs(),[r,s]=y.useState(null),[i,a]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,p]=y.useState(!1),[j,v]=y.useState(!1),[w,b]=y.useState(null),{showSuccess:g,showError:f,showWarning:m,AlertComponent:x}=En(),{showConfirm:C,ConfirmComponent:O}=Js();y.useEffect(()=>{e&&(N(),(e==="orchestrator"||(r==null?void 0:r.name)==="Orchestrator Team")&&P())},[e,r==null?void 0:r.name]),y.useEffect(()=>{r!=null&&r.currentProject?A(r.currentProject):b(null)},[r==null?void 0:r.currentProject]);const N=async()=>{try{const T=await fetch(`/api/teams/${e}`);if(T.ok){const U=await T.json();if(U.success&&U.data){const K=["https://picsum.photos/seed/1/64","https://picsum.photos/seed/2/64","https://picsum.photos/seed/3/64","https://picsum.photos/seed/4/64","https://picsum.photos/seed/5/64","https://picsum.photos/seed/6/64"],se={...U.data,members:U.data.members.map((Re,Br)=>({...Re,avatar:Re.avatar||K[Br%K.length]}))};s(se)}}}catch(T){console.error("Error fetching team data:",T)}finally{a(!1)}},P=async()=>{try{const T=await fetch("/api/terminal/sessions");if(T.ok){const U=await T.json();if(U.success&&U.data){const K=U.data.some(se=>se.sessionName==="agentmux-orc");c(K)}}}catch(T){console.error("Error checking orchestrator session:",T),c(!1)}},A=async T=>{try{const U=await fetch("/api/projects");if(U.ok){const K=await U.json(),Re=(K.success?K.data||[]:K||[]).find(Br=>Br.id===T);b(Re?Re.name:T)}else b(T)}catch(U){console.error("Error fetching project name:",U),b(T)}},_=()=>{d(!0)},R=async(T,U)=>{v(!0);try{const K=await fetch(`/api/teams/${e}/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:T,enableGitReminder:U})}),se=await K.json();K.ok?(d(!1),N(),g(se.message||"Team started successfully!")):f(se.error||"Failed to start team")}catch(K){console.error("Error starting team:",K),f("Error starting team. Please try again.")}finally{v(!1)}},L=()=>{p(!0)},H=async T=>{if(r)try{const U=await fetch(`/api/teams/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});if(U.ok)N(),p(!1);else{const K=await U.json();f(K.error||"Failed to update team")}}catch(U){console.error("Error updating team:",U),f("Failed to update team")}},V=async()=>{try{if((r==null?void 0:r.id)==="orchestrator"||(r==null?void 0:r.name)==="Orchestrator Team"){const T=await fetch("/api/orchestrator/stop",{method:"POST",headers:{"Content-Type":"application/json"}});if(T.ok)N(),P();else{const U=await T.json();f(U.error||"Failed to stop orchestrator")}}else(await fetch(`/api/teams/${e}/stop`,{method:"POST"})).ok&&N()}catch(T){console.error("Error stopping team:",T)}},J=async()=>{if(!r)return;if(r.id==="orchestrator"||r.name==="Orchestrator Team"){m("The Orchestrator Team cannot be deleted as it is required for system operations.");return}const T=async()=>{try{await fetch(`/api/teams/${e}/stop`,{method:"POST"});const U=await fetch(`/api/teams/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(U.ok)t("/teams");else{const K=await U.text();f("Failed to delete team: "+K)}}catch(U){console.error("Error deleting team:",U),f("Failed to delete team: "+(U instanceof Error?U.message:"Unknown error"))}};C(`Are you sure you want to delete team "${r.name}"?

This will:
 Delete the team and all its members
 Kill all associated tmux sessions
 Remove all team data permanently

This action cannot be undone.`,T,{type:"error",title:"Delete Team",confirmText:"Delete",cancelText:"Cancel"})},k=()=>{var U;return(r==null?void 0:r.id)==="orchestrator"||(r==null?void 0:r.name)==="Orchestrator Team"?l?"active":"idle":((U=r==null?void 0:r.members)==null?void 0:U.some(K=>K.sessionName))?"active":"idle"},B=()=>{((r==null?void 0:r.id)==="orchestrator"||(r==null?void 0:r.name)==="Orchestrator Team")&&n("agentmux-orc")},F=T=>{T.sessionName&&(console.log("Opening terminal for member session:",T.sessionName),n(T.sessionName))},I=async T=>{if(!T.name.trim()||!T.role.trim()){m("Please fill in both name and role");return}try{const U=await fetch(`/api/teams/${e}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});if(U.ok)N();else{const K=await U.text();f("Failed to add member: "+K)}}catch(U){console.error("Error adding member:",U),f("Failed to add member")}},W=async(T,U)=>{try{if("runtimeType"in U&&U.runtimeType){const se=await fetch(`/api/teams/${e}/members/${T}/runtime`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({runtimeType:U.runtimeType})});if(se.ok){N();return}else{const Re=await se.json();f("Failed to update member runtime: "+(Re.error||"Unknown error"));return}}const K=await fetch(`/api/teams/${e}/members/${T}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(K.ok)N();else{const se=await K.text();f("Failed to update member: "+se)}}catch(K){console.error("Error updating member:",K),f("Failed to update member")}},M=async T=>{try{const U=await fetch(`/api/teams/${e}/members/${T}`,{method:"DELETE"});if(U.ok)N();else{const K=await U.text();f("Failed to remove member: "+K)}}catch(U){console.error("Error removing member:",U),f("Failed to remove member")}},q=async T=>{try{if((r==null?void 0:r.id)==="orchestrator"||(r==null?void 0:r.name)==="Orchestrator Team"){const U=await fetch("/api/orchestrator/setup",{method:"POST",headers:{"Content-Type":"application/json"}}),K=await U.json();U.ok?(N(),P(),console.log("Orchestrator setup successfully")):f(K.error||"Failed to setup orchestrator")}else{const U=await fetch(`/api/teams/${e}/members/${T}/start`,{method:"POST",headers:{"Content-Type":"application/json"}}),K=await U.json();U.ok?(N(),console.log(`Member ${T} started successfully`)):f(K.error||"Failed to start team member")}}catch(U){console.error("Error starting team member:",U),f("Error starting team member. Please try again.")}},re=async T=>{try{if((r==null?void 0:r.id)==="orchestrator"||(r==null?void 0:r.name)==="Orchestrator Team"){const U=await fetch("/api/orchestrator/stop",{method:"POST",headers:{"Content-Type":"application/json"}}),K=await U.json();U.ok?(N(),P(),console.log("Orchestrator stopped successfully")):f(K.error||"Failed to stop orchestrator")}else{const U=await fetch(`/api/teams/${e}/members/${T}/stop`,{method:"POST",headers:{"Content-Type":"application/json"}}),K=await U.json();U.ok?(N(),console.log(`Member ${T} stopped successfully`)):f(K.error||"Failed to stop team member")}}catch(U){console.error("Error stopping team member:",U),f("Error stopping team member. Please try again.")}};return i?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin mb-4 mx-auto"}),o.jsx("p",{className:"text-text-secondary-dark",children:"Loading team details..."})]})}):r?o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm text-text-secondary-dark mb-1",children:[o.jsx(Fs,{to:"/teams",className:"hover:text-primary",children:"Teams"}),o.jsx("span",{className:"text-text-secondary-dark",children:"/"}),o.jsx("span",{className:"text-text-primary-dark",children:r.name})]}),o.jsx(hk,{team:r,teamStatus:k(),orchestratorSessionActive:l,onStartTeam:_,onStopTeam:V,onViewTerminal:B,onDeleteTeam:J,onEditTeam:L}),o.jsx(gk,{team:r,teamId:e,teamStatus:k(),projectName:w,onAddMember:I,onUpdateMember:W,onDeleteMember:M,onStartMember:q,onStopMember:re,onViewTerminal:F}),o.jsx(fk,{isOpen:u,onClose:()=>d(!1),onStartTeam:R,team:r,loading:j}),h&&o.jsx(Nm,{isOpen:h,onClose:()=>p(!1),onSubmit:H,team:r}),o.jsx(x,{}),o.jsx(O,{})]}):o.jsx("div",{className:"max-w-4xl mx-auto px-6 py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Team not found"}),o.jsx("p",{className:"text-text-secondary-dark",children:"The requested team could not be found."})]})})},xk=({filterStatus:e,filterTeam:t,assignments:n,onStatusChange:r,onTeamChange:s})=>{const i=Array.from(new Set(n.map(a=>a.teamName)));return o.jsxs("div",{className:"filter-controls",children:[o.jsxs("select",{value:e,onChange:a=>r(a.target.value),children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"todo",children:"Todo"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"review",children:"Review"}),o.jsx("option",{value:"done",children:"Done"})]}),o.jsxs("select",{value:t,onChange:a=>s(a.target.value),children:[o.jsx("option",{value:"all",children:"All Teams"}),i.map(a=>o.jsx("option",{value:a,children:a},a))]})]})},vk=({viewMode:e,assignedProjects:t,assignedTeams:n,onViewModeChange:r})=>o.jsxs("div",{className:"view-toggle",children:[o.jsxs("button",{className:`toggle-btn ${e==="projects"?"active":""}`,onClick:()=>r("projects"),children:[o.jsx(Ze,{size:16}),"Projects (",t.length,")"]}),o.jsxs("button",{className:`toggle-btn ${e==="teams"?"active":""}`,onClick:()=>r("teams"),children:[o.jsx(ot,{size:16}),"Teams (",n.length,")"]})]}),ef=({type:e,icon:t,title:n,description:r})=>o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"empty-icon",children:o.jsx(t,{size:24})}),o.jsx("h3",{className:"empty-title",children:n}),o.jsx("p",{className:"empty-description",children:r})]}),jk=({project:e,teams:t,onMemberClick:n,onOrchestratorClick:r,onUnassignTeam:s})=>{const i=t.filter(a=>a.currentProject===e.id);return o.jsxs("div",{className:"assignment-card project-card",children:[o.jsxs("div",{className:"assignment-header",children:[o.jsxs("div",{className:"project-info",children:[o.jsx(Ze,{size:20}),o.jsx("h3",{children:e.name})]}),o.jsx("div",{className:`status-badge project-status-${e.status}`,children:e.status})]}),o.jsx("p",{className:"assignment-description",children:e.description}),o.jsxs("div",{className:"assignment-meta",children:[o.jsxs("div",{className:"project-teams",children:[o.jsx(ot,{size:14}),o.jsxs("span",{children:[i.length," team",i.length!==1?"s":""," assigned"]})]}),o.jsxs("div",{className:"project-path",children:[o.jsx($r,{size:14}),o.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]}),i.length>0&&o.jsx("div",{className:"project-teams-list",children:i.map(a=>o.jsxs("div",{className:"team-with-members",children:[o.jsxs("div",{className:"team-header-item",children:[o.jsxs("span",{className:"team-chip clickable",onClick:()=>r(),title:"Click to view orchestrator terminal",children:[o.jsx("div",{className:"team-avatar-small",children:a.members.length>0&&a.members[0].avatar?a.members[0].avatar.startsWith("http")||a.members[0].avatar.startsWith("data:")?o.jsx("img",{src:a.members[0].avatar,alt:a.name,className:"w-4 h-4 rounded-full object-cover"}):o.jsx("span",{className:"text-xs",children:a.members[0].avatar}):o.jsx("span",{className:"text-xs",children:a.name.charAt(0).toUpperCase()})}),o.jsx("span",{className:`status-dot status-${a.members.some(l=>l.agentStatus==="active")?"active":"inactive"}`}),a.name," (",a.members.length," members)"]}),o.jsx("button",{className:"unassign-team-btn small",onClick:l=>{l.stopPropagation(),s(a.id,a.name,e.id)},title:"Unassign team from project",children:o.jsx(Pp,{size:12})})]}),a.members.length>0&&o.jsx("div",{className:"team-members-tree",children:a.members.map(l=>o.jsxs("div",{className:"member-tree-item clickable",onClick:()=>n(l.id,l.name,a.id),title:`Click to view ${l.name}'s terminal`,children:[o.jsx("div",{className:"member-avatar-tiny",children:l.avatar?l.avatar.startsWith("http")||l.avatar.startsWith("data:")?o.jsx("img",{src:l.avatar,alt:l.name,className:"w-3 h-3 rounded-full object-cover"}):o.jsx("span",{className:"text-xs",children:l.avatar}):o.jsx("span",{className:"text-xs",children:l.name.charAt(0).toUpperCase()})}),o.jsx("span",{className:`member-status-dot status-${l.agentStatus}`}),o.jsx("span",{className:"member-name",children:l.name}),o.jsxs("span",{className:"member-role",children:["(",l.role,")"]}),l.sessionName&&o.jsx("span",{className:"session-indicator",title:`Session: ${l.sessionName}`,children:o.jsx(Jc,{size:12})})]},l.id))})]},a.id))})]},e.id)},wk=({team:e,projects:t,onUnassignTeam:n})=>{const r=t.find(s=>s.id===e.currentProject);return o.jsxs("div",{className:"assignment-card team-card",children:[o.jsxs("div",{className:"assignment-header",children:[o.jsxs("div",{className:"team-info",children:[o.jsx(ot,{size:20}),o.jsx("h3",{children:e.name})]}),o.jsxs("div",{className:"team-header-actions",children:[o.jsx("div",{className:`status-badge team-status-${e.members.some(s=>s.agentStatus==="active")?"active":"inactive"}`,children:e.members.some(s=>s.agentStatus==="active")?"active":"inactive"}),o.jsx("button",{className:"unassign-team-btn",onClick:s=>{s.stopPropagation(),n(e.id,e.name,e.currentProject)},title:"Unassign team from project",children:o.jsx(Pp,{size:16})})]})]}),o.jsx("p",{className:"assignment-description",children:e.description}),o.jsxs("div",{className:"assignment-meta",children:[o.jsxs("div",{className:"team-project",children:[o.jsx(Ze,{size:14}),o.jsxs("span",{children:["Project: ",(r==null?void 0:r.name)||"Unknown"]})]}),o.jsxs("div",{className:"team-members-count",children:[o.jsx(Jc,{size:14}),o.jsxs("span",{children:[e.members.length," member",e.members.length!==1?"s":""]})]})]}),e.members.length>0&&o.jsxs("div",{className:"team-members-preview",children:[e.members.slice(0,4).map(s=>o.jsxs("span",{className:"member-chip",children:[o.jsx("div",{className:"member-avatar-small",children:s.avatar?s.avatar.startsWith("http")||s.avatar.startsWith("data:")?o.jsx("img",{src:s.avatar,alt:s.name,className:"w-5 h-5 rounded-full object-cover"}):o.jsx("span",{className:"text-xs",children:s.avatar}):o.jsx("span",{className:"text-xs",children:s.name.charAt(0).toUpperCase()})}),o.jsx("span",{className:`status-dot status-${s.agentStatus}`}),s.name," (",s.role,")"]},s.id)),e.members.length>4&&o.jsxs("span",{className:"more-members",children:["+",e.members.length-4," more"]})]})]},e.id)},kk=({viewMode:e,assignedProjects:t,assignedTeams:n,teams:r,projects:s,onMemberClick:i,onOrchestratorClick:a,onUnassignTeam:l})=>o.jsx("div",{className:"assignments-list",children:e==="projects"?o.jsx("div",{className:"projects-view",children:t.length===0?o.jsx(ef,{type:"projects",icon:Ze,title:"No Projects Assigned",description:"No teams have been assigned to any projects yet."}):t.map(c=>o.jsx(jk,{project:c,teams:r,onMemberClick:i,onOrchestratorClick:a,onUnassignTeam:l},c.id))}):o.jsx("div",{className:"teams-view",children:n.length===0?o.jsx(ef,{type:"teams",icon:ot,title:"No Teams Assigned",description:"No teams have been assigned to projects yet."}):n.map(c=>o.jsx(wk,{team:c,projects:s,onUnassignTeam:l},c.id))})}),bk=({projects:e,teams:t,enhancedMembers:n,onMemberClick:r})=>{const s=e.filter(c=>t.some(u=>u.currentProject===c.id)).map(c=>{const u=n.filter(d=>{const h=t.find(p=>p.id===d.teamId);return h&&h.currentProject===c.id});return{project:c,teamMembers:u}}).filter(c=>c.teamMembers.length>0),i=c=>c.currentTask?o.jsx(Jc,{className:"status-icon active",size:16}):c.agentStatus==="active"?o.jsx(Jn,{className:"status-icon idle",size:16}):o.jsx(wi,{className:"status-icon inactive",size:16}),a=c=>c.currentTask?`Working on: ${c.currentTask.taskName}`:c.agentStatus==="active"?"Idle":"Inactive",l=c=>{const u=new Date,d=new Date(c),h=u.getTime()-d.getTime(),p=Math.floor(h/(1e3*60));if(p<1)return"Just now";if(p<60)return`${p}m ago`;const j=Math.floor(p/60);return j<24?`${j}h ago`:`${Math.floor(j/24)}d ago`};return s.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx(Ze,{size:48,className:"empty-icon"}),o.jsx("h3",{children:"No Active Project Assignments"}),o.jsx("p",{children:"No teams have been assigned to projects with active members yet."})]}):o.jsx("div",{className:"enhanced-assignments-list",children:s.map(({project:c,teamMembers:u})=>{const d=u.reduce((h,p)=>(h[p.teamId]||(h[p.teamId]={teamName:p.teamName,members:[]}),h[p.teamId].members.push(p),h),{});return o.jsxs("div",{className:"enhanced-project-card",children:[o.jsxs("div",{className:"project-header",children:[o.jsx(Ze,{size:20}),o.jsx("h2",{children:c.name}),o.jsx("span",{className:"project-status",children:c.status})]}),Object.entries(d).map(([h,p])=>o.jsxs("div",{className:"team-section",children:[o.jsxs("div",{className:"team-header",children:[o.jsx(ot,{size:18}),o.jsx("h3",{children:p.teamName}),o.jsxs("span",{className:"member-count",children:[p.members.length," member",p.members.length!==1?"s":""]})]}),o.jsx("div",{className:"members-list",children:p.members.map(j=>o.jsxs("div",{className:`member-item ${j.agentStatus} ${j.currentTask?"has-task":"idle"}`,onClick:()=>r(j.memberId,j.memberName,j.teamId),children:[o.jsxs("div",{className:"member-info",children:[o.jsxs("div",{className:"member-header",children:[o.jsx(a0,{size:16}),o.jsx("span",{className:"member-name",children:j.memberName}),o.jsxs("span",{className:"member-role",children:["(",j.role,")"]}),i(j)]}),o.jsxs("div",{className:"member-status",children:[o.jsx("span",{className:"status-text",children:a(j)}),j.currentTask&&o.jsxs("div",{className:"task-details",children:[o.jsx($r,{size:12}),o.jsxs("span",{className:"task-time",children:["Started ",l(j.currentTask.assignedAt)]})]})]}),j.lastActivityCheck&&o.jsxs("div",{className:"activity-info",children:[o.jsxs("span",{className:"last-check",children:["Last checked: ",l(j.lastActivityCheck)]}),j.activityDetected&&o.jsx("span",{className:"activity-indicator",children:" Active"})]})]}),j.error&&o.jsxs("div",{className:"member-error",children:[o.jsx(wi,{size:14}),o.jsx("span",{children:j.error})]})]},j.memberId))})]},h))]},c.id)})})},Nk=()=>{const{openTerminalWithSession:e}=qs(),[t,n]=y.useState([]),[r,s]=y.useState([]),[i,a]=y.useState([]),[l,c]=y.useState([]);y.useState(null);const[u,d]=y.useState("all"),[h,p]=y.useState("all"),[j,v]=y.useState("enhanced"),{showSuccess:w,showError:b,AlertComponent:g}=En(),{showConfirm:f,ConfirmComponent:m}=Js();y.useEffect(()=>(x(),A(),()=>{Q.off("team_activity_updated",_)}),[]);const x=async()=>{await Promise.all([N(),C(),O(),P()])},C=async()=>{try{const k=await Je.getProjects();s(k)}catch(k){console.error("Error loading projects:",k)}},O=async()=>{try{const k=await Je.getTeams();a(k)}catch(k){console.error("Error loading teams:",k)}},N=async()=>{try{const k=await fetch("/api/assignments");if(k.ok){const B=await k.json();n(B)}}catch(k){console.error("Error fetching assignments:",k)}},P=async()=>{console.log("Enhanced team data will be loaded via WebSocket events")},A=async()=>{try{Q.isConnected()||await Q.connect(),Q.on("team_activity_updated",_),console.log("WebSocket initialized for team activity monitoring")}catch(k){console.error("Failed to initialize WebSocket for team activity:",k)}},_=k=>{console.log("Received team activity update:",k),k.members&&c(k.members)},R=(k,B,F)=>{const I=i.find(W=>W.id===F);if(I){const W=I.name.replace(/\s+/g,"-").toLowerCase(),M=B.replace(/\s+/g,"-").toLowerCase(),q=`${W}-${M}`;e(q)}},L=()=>{e("agentmux-orc")},H=async(k,B,F)=>{if(!F)return;const I=async()=>{try{if(!(await fetch("/api/orchestrator/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:`unassign_team ${k} ${F}`})})).ok)throw new Error("Failed to execute orchestrator command");await Je.unassignTeamFromProject(F,k),await x(),w(`Team "${B}" has been unassigned and their tmux sessions have been terminated.`)}catch(W){console.error("Failed to unassign team:",W),b("Failed to unassign team: "+(W instanceof Error?W.message:"Unknown error"))}};f(`Unassign "${B}" from their project?

 The team's tmux sessions will be deleted
 The team remains available to assign again`,I,{title:"Unassign Team",confirmText:"Unassign",cancelText:"Cancel",type:"warning"})},V=r.filter(k=>i.some(B=>B.currentProject===k.id)),J=i.filter(k=>k.currentProject);return o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-8",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Assignments"}),o.jsx("p",{className:"text-sm text-text-secondary-dark mt-1",children:"Track and manage project assignments and team orchestration"})]})}),o.jsxs("div",{className:"bg-surface-dark border border-border-dark rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-border-dark",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Active Projects & Teams"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{className:`px-3 py-2 rounded-lg border text-sm ${j==="enhanced"?"border-primary text-primary":"border-border-dark text-text-primary-dark hover:border-primary/50"}`,onClick:()=>v("enhanced"),children:"Task View"}),o.jsx(vk,{viewMode:j==="enhanced"?"projects":j,assignedProjects:V,assignedTeams:J,onViewModeChange:k=>v(k==="projects"?"enhanced":k)})]})]}),j!=="enhanced"&&o.jsx(xk,{filterStatus:u,filterTeam:h,assignments:t,onStatusChange:d,onTeamChange:p}),j==="enhanced"?o.jsx("div",{className:"p-5",children:o.jsx(bk,{projects:r,teams:i,enhancedMembers:l,onMemberClick:R})}):o.jsx("div",{className:"p-5",children:o.jsx(kk,{viewMode:j,assignedProjects:V,assignedTeams:J,teams:i,projects:r,onMemberClick:R,onOrchestratorClick:L,onUnassignTeam:H})})]}),o.jsx(g,{}),o.jsx(m,{})]})},tf=({message:e,onEdit:t,onDelete:n,onToggleActive:r,onRunNow:s,formatDate:i,onCardClick:a})=>{const l=e.isActive,c=u=>{u.target.closest("[data-actions]")||a==null||a(e)};return o.jsxs("div",{onClick:c,className:`bg-surface-dark p-5 rounded-lg border border-border-dark transition-all hover:shadow-lg hover:border-primary/50 flex flex-col justify-between ${a?"cursor-pointer":""}`,children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("h3",{className:"font-semibold text-lg truncate",children:e.name}),o.jsx("div",{className:"mt-1 flex items-center gap-2 text-xs",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full ${l?"bg-green-500/10 text-green-400":"bg-zinc-500/10 text-zinc-300"}`,children:[o.jsx(Jn,{className:"w-3.5 h-3.5"}),l?"Active":"Completed"]})})]}),o.jsxs("div",{className:"flex items-center gap-1.5","data-actions":!0,children:[o.jsx("button",{className:"inline-flex items-center justify-center w-8 h-8 rounded-md border border-border-dark text-text-secondary-dark hover:text-text-primary-dark hover:border-primary/50",onClick:u=>{u.stopPropagation(),r(e.id,e.isActive)},title:l?"Disable":"Re-activate",children:l?o.jsx(t0,{className:"w-4 h-4"}):o.jsx(Pr,{className:"w-4 h-4"})}),l&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"inline-flex items-center justify-center w-8 h-8 rounded-md border border-border-dark text-text-secondary-dark hover:text-text-primary-dark hover:border-primary/50",onClick:u=>{u.stopPropagation(),t(e)},title:"Edit",children:o.jsx(_p,{className:"w-4 h-4"})}),o.jsx("button",{className:"inline-flex items-center justify-center w-8 h-8 rounded-md border border-border-dark text-text-secondary-dark hover:text-text-primary-dark hover:border-primary/50",onClick:u=>{u.stopPropagation(),s(e.id,e.name)},title:"Run now",children:o.jsx(Pr,{className:"w-4 h-4"})})]}),o.jsx("button",{className:"inline-flex items-center justify-center w-8 h-8 rounded-md border border-border-dark text-text-secondary-dark hover:text-red-300 hover:border-red-500/50",onClick:u=>{u.stopPropagation(),n(e.id,e.name)},title:"Delete",children:o.jsx(i0,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-text-secondary-dark",children:"Target:"}),o.jsx("span",{className:"font-medium",children:e.targetTeam})]}),e.targetProject&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-text-secondary-dark",children:"Project:"}),o.jsx("span",{className:"font-medium",children:e.targetProject})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-text-secondary-dark",children:"Schedule:"}),o.jsxs("span",{className:"font-medium",children:[e.isRecurring?"Every":"Once after"," ",e.delayAmount," ",e.delayUnit]})]}),e.nextRun&&l&&o.jsxs("div",{className:"flex items-center gap-2 text-text-secondary-dark",children:[o.jsx($r,{className:"w-4 h-4"}),o.jsxs("span",{className:"font-medium text-text-primary-dark",children:["Next: ",i(e.nextRun)]})]})]})]})]})},Sk=({activeTab:e,setActiveTab:t,activeMessages:n,completedMessages:r})=>o.jsx("div",{className:"mb-6 border-b border-border-dark",children:o.jsxs("nav",{"aria-label":"Tabs",className:"-mb-px flex space-x-8",children:[o.jsxs("button",{onClick:()=>t("active"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="active"?"text-primary border-primary":"text-text-secondary-dark hover:text-text-primary-dark hover:border-border-dark border-transparent"}`,children:["Active (",n.length,")"]}),o.jsxs("button",{onClick:()=>t("completed"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="completed"?"text-primary border-primary":"text-text-secondary-dark hover:text-text-primary-dark hover:border-border-dark border-transparent"}`,children:["Completed (",r.length,")"]})]})}),Yl=({type:e,onCreateMessage:t})=>e==="active"?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"mx-auto mb-3 w-12 h-12 rounded-full bg-surface-dark border border-border-dark flex items-center justify-center",children:o.jsx($r,{className:"w-6 h-6 text-text-secondary-dark"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No active messages"}),o.jsx("p",{className:"text-sm text-text-secondary-dark max-w-md mx-auto",children:"Create your first scheduled message to send messages to teams and projects"}),o.jsxs("button",{className:"mt-4 bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors inline-flex items-center gap-2",onClick:t,children:[o.jsx(Vt,{className:"w-5 h-5"}),"Create Scheduled Message"]})]}):e==="completed"?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"mx-auto mb-3 w-12 h-12 rounded-full bg-surface-dark border border-border-dark flex items-center justify-center",children:o.jsx(Jn,{className:"w-6 h-6 text-text-secondary-dark"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No completed messages"}),o.jsx("p",{className:"text-sm text-text-secondary-dark max-w-md mx-auto",children:"Completed one-time messages and deactivated recurring messages will appear here"})]}):e==="logs"?o.jsx("div",{className:"text-center py-6",children:o.jsx("p",{className:"text-sm text-text-secondary-dark",children:"No delivery logs yet"})}):null,Ck=[{value:"orchestrator",label:"Orchestrator"},{value:"frontend-team-pm",label:"Frontend Team PM"},{value:"frontend-team-dev",label:"Frontend Team Dev"},{value:"backend-team-pm",label:"Backend Team PM"},{value:"backend-team-dev",label:"Backend Team Dev"},{value:"backend-team-qa",label:"Backend Team QA"}],Da={name:"",targetTeam:"orchestrator",targetProject:"",message:"",delayAmount:"5",delayUnit:"minutes",isRecurring:!1},Tk=({isOpen:e,editingMessage:t,formData:n,setFormData:r,onClose:s,onSubmit:i})=>{const a=l=>{l.preventDefault(),i(l)};return e?o.jsx("div",{className:"fixed inset-0 bg-background-dark/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:s,children:o.jsxs("div",{className:"bg-surface-dark border border-border-dark rounded-xl shadow-lg w-full max-w-2xl m-4",onClick:l=>l.stopPropagation(),children:[o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-text-primary-dark",children:t?"Edit Scheduled Message":"Create New Scheduled Message"}),o.jsx("p",{className:"text-sm text-text-secondary-dark mt-1",children:"Configure and schedule a new automated message."})]}),o.jsx("button",{onClick:s,className:"w-8 h-8 -mt-1 -mr-1 rounded-lg hover:bg-background-dark flex items-center justify-center text-text-secondary-dark hover:text-text-primary-dark",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("form",{onSubmit:a,className:"space-y-6 mt-6 max-h-[60vh] overflow-y-auto pr-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"message-name",children:"Name"}),o.jsx(Bn,{id:"message-name",type:"text",value:n.name,onChange:l=>r({...n,name:l.target.value}),placeholder:"e.g., 'Daily Standup Reminder'",required:!0})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"target-member",children:"Target Team Member"}),o.jsxs(ki,{id:"target-member",value:n.targetTeam,onChange:l=>r({...n,targetTeam:l.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Select a target"}),Ck.map(l=>o.jsx("option",{value:l.value,children:l.label},l.value))]})]})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"message-content",children:"Message"}),o.jsx(Ds,{id:"message-content",value:n.message,onChange:l=>r({...n,message:l.target.value}),placeholder:"Enter your message content here...",rows:4,required:!0})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Schedule"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{className:"peer sr-only",id:"modal-one-time",name:"modal-schedule-type",type:"radio",value:"one-time",checked:!n.isRecurring,onChange:()=>r({...n,isRecurring:!1})}),o.jsxs("label",{className:"block p-4 rounded-lg border border-border-dark bg-background-dark cursor-pointer peer-checked:border-primary peer-checked:ring-1 peer-checked:ring-primary",htmlFor:"modal-one-time",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-semibold",children:"One-time"}),!n.isRecurring&&o.jsx("svg",{className:"w-5 h-5 text-primary",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})]}),o.jsx("p",{className:"text-sm text-text-secondary-dark mt-1",children:"Send a single message after a delay."})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{className:"peer sr-only",id:"modal-recurring",name:"modal-schedule-type",type:"radio",value:"recurring",checked:n.isRecurring,onChange:()=>r({...n,isRecurring:!0})}),o.jsxs("label",{className:"block p-4 rounded-lg border border-border-dark bg-background-dark cursor-pointer peer-checked:border-primary peer-checked:ring-1 peer-checked:ring-primary",htmlFor:"modal-recurring",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-semibold",children:"Recurring"}),n.isRecurring&&o.jsx("svg",{className:"w-5 h-5 text-primary",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})]}),o.jsx("p",{className:"text-sm text-text-secondary-dark mt-1",children:"Send a message on a recurring basis."})]})]})]})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"delay-value",children:n.isRecurring?"Send Every":"Send After"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-grow",children:o.jsx(Bn,{id:"delay-value",type:"number",min:"1",value:n.delayAmount,onChange:l=>r({...n,delayAmount:l.target.value}),required:!0})}),o.jsx("div",{className:"flex-shrink-0",children:o.jsxs(ki,{value:n.delayUnit,onChange:l=>r({...n,delayUnit:l.target.value}),children:[o.jsx("option",{value:"seconds",children:"seconds"}),o.jsx("option",{value:"minutes",children:"minutes"}),o.jsx("option",{value:"hours",children:"hours"})]})})]})]})})]})]}),o.jsxs("div",{className:"bg-background-dark px-6 py-4 rounded-b-xl border-t border-border-dark flex justify-end gap-3",children:[o.jsx("button",{type:"button",onClick:s,className:"bg-surface-dark border border-border-dark hover:bg-border-dark font-semibold flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed h-10 px-4 rounded-lg text-sm",children:"Cancel"}),o.jsxs("button",{type:"submit",onClick:a,className:"bg-primary text-white hover:bg-primary/90 font-semibold flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed h-10 px-4 rounded-lg text-sm",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t?"Update Schedule":"Create Schedule"]})]})]})}):null},Ek=({deliveryLogs:e,formatDate:t,onClearLogs:n})=>{const{showConfirm:r,ConfirmComponent:s}=Js(),i=async()=>{r(`This will permanently clear all message delivery logs.
This action cannot be undone.`,async()=>{await n()},{title:"Clear Delivery Logs",confirmText:"Clear Logs",type:"warning"})};return o.jsxs("section",{className:"mt-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Message Delivery Logs"}),o.jsx(te,{variant:"outline",size:"sm",onClick:i,children:"Clear Logs"})]}),e.length>0?o.jsx("div",{className:"bg-surface-dark border border-border-dark rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{className:"bg-background-dark/60 border-b border-border-dark",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"py-2 px-3 text-left font-medium text-text-primary-dark",children:"Time"}),o.jsx("th",{scope:"col",className:"px-3 py-2 text-left font-medium text-text-primary-dark",children:"Message"}),o.jsx("th",{scope:"col",className:"px-3 py-2 text-left font-medium text-text-primary-dark",children:"Target"}),o.jsx("th",{scope:"col",className:"px-3 py-2 text-left font-medium text-text-primary-dark",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-border-dark",children:e.slice(0,50).map(a=>o.jsxs("tr",{className:"border-t border-border-dark hover:bg-background-dark/50",children:[o.jsx("td",{className:"whitespace-nowrap py-2 pl-3 pr-2 text-xs font-medium text-text-secondary-dark",children:t(a.sentAt)}),o.jsx("td",{className:"px-3 py-2 text-sm text-text-primary-dark max-w-[520px]",children:o.jsx("div",{className:"font-medium truncate",title:a.messageName,children:a.messageName})}),o.jsx("td",{className:"whitespace-nowrap px-3 py-2 text-sm text-text-secondary-dark",children:o.jsx("div",{className:"truncate",title:a.targetTeam,children:a.targetTeam})}),o.jsx("td",{className:"whitespace-nowrap px-3 py-2 text-sm",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-medium ${a.success?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"}`,children:a.success?"Delivered":"Failed"})})]},a.id))})]})})}):o.jsx(Yl,{type:"logs"}),o.jsx(s,{})]})},_k=()=>{const[e,t]=y.useState([]),[n,r]=y.useState([]),[s,i]=y.useState(!0),[a,l]=y.useState(!1),[c,u]=y.useState(null),[d,h]=y.useState(Da),{showError:p,showSuccess:j,AlertComponent:v}=En(),{showConfirm:w,ConfirmComponent:b}=Js();y.useEffect(()=>{g(),f()},[]);const g=async()=>{try{i(!0);const L=await fetch("/api/scheduled-messages");if(L.ok){const H=await L.json();t(H.data||[])}}catch(L){console.error("Error loading scheduled messages:",L)}finally{i(!1)}},f=async()=>{try{const L=await fetch("/api/message-delivery-logs");if(L.ok){const H=await L.json();r(H.data||[])}}catch(L){console.error("Error loading delivery logs:",L)}},m=async L=>{L.preventDefault();try{const H=c?`/api/scheduled-messages/${c.id}`:"/api/scheduled-messages",J=await fetch(H,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(J.ok)await g(),await f(),A();else{const k=await J.text();p("Failed to save scheduled message: "+k)}}catch(H){console.error("Error saving scheduled message:",H),p("Failed to save scheduled message: "+(H instanceof Error?H.message:"Unknown error"))}},x=async(L,H)=>{const V=async()=>{try{const J=await fetch(`/api/scheduled-messages/${L}`,{method:"DELETE"});if(J.ok)await g();else{const k=await J.text();p("Failed to delete scheduled message: "+k)}}catch(J){console.error("Error deleting scheduled message:",J),p("Failed to delete scheduled message: "+(J instanceof Error?J.message:"Unknown error"))}};w(`Are you sure you want to delete "${H}"?`,V,{type:"error",title:"Delete Scheduled Message",confirmText:"Delete"})},C=async(L,H)=>{try{const V=await fetch(`/api/scheduled-messages/${L}/toggle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!H})});if(V.ok)await g();else{const J=await V.text();p("Failed to toggle scheduled message: "+J)}}catch(V){console.error("Error toggling scheduled message:",V),p("Failed to toggle scheduled message: "+(V instanceof Error?V.message:"Unknown error"))}},O=async(L,H)=>{const V=async()=>{try{const J=await fetch(`/api/scheduled-messages/${L}/run`,{method:"POST"});if(J.ok)j("Scheduled message executed successfully!"),await g(),await f();else{const k=await J.text();alert("Failed to run scheduled message: "+k)}}catch(J){console.error("Error running scheduled message:",J),p("Failed to run scheduled message: "+(J instanceof Error?J.message:"Unknown error"))}};w(`Run "${H}" now?`,V,{title:"Run Scheduled Message",confirmText:"Run Now",type:"warning"})},N=L=>{u(L),h({name:L.name,targetTeam:L.targetTeam,targetProject:L.targetProject||"",message:L.message,delayAmount:L.delayAmount.toString(),delayUnit:L.delayUnit,isRecurring:L.isRecurring}),l(!0)},P=()=>{u(null),h(Da),l(!0)},A=()=>{l(!1),u(null),h(Da)};return{scheduledMessages:e,deliveryLogs:n,loading:s,showCreateModal:a,editingMessage:c,formData:d,setFormData:h,handleSubmit:m,handleDelete:x,handleToggleActive:C,handleRunNow:O,handleEdit:N,handleCreate:P,handleCloseModal:A,clearDeliveryLogs:async()=>{try{(await fetch("/api/message-delivery-logs",{method:"DELETE"})).ok&&r([])}catch(L){console.error("Error clearing logs:",L)}},formatDate:L=>new Date(L).toLocaleString(),AlertComponent:v,ConfirmComponent:b}},Pk=()=>{const[e,t]=y.useState("active"),{scheduledMessages:n,deliveryLogs:r,loading:s,showCreateModal:i,editingMessage:a,formData:l,setFormData:c,handleSubmit:u,handleDelete:d,handleToggleActive:h,handleRunNow:p,handleEdit:j,handleCreate:v,handleCloseModal:w,clearDeliveryLogs:b,formatDate:g,AlertComponent:f,ConfirmComponent:m}=_k(),x=n.filter(O=>O.isActive),C=n.filter(O=>!O.isActive);return s?o.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-10 h-10 border-4 border-primary/20 border-t-primary rounded-full animate-spin mb-3 mx-auto"}),o.jsx("p",{className:"text-text-secondary-dark",children:"Loading scheduled messages..."})]})}):o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Scheduled Messages"}),o.jsx("p",{className:"text-sm text-text-secondary-dark mt-1",children:"Create and manage scheduled messages for teams and projects"})]}),o.jsxs("button",{className:"bg-primary text-white hover:bg-primary/90 font-semibold flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed h-10 px-4 rounded-lg text-sm",onClick:v,children:[o.jsx(Vt,{className:"w-4 h-4"}),"New Scheduled Message"]})]}),o.jsx(Sk,{activeTab:e,setActiveTab:t,activeMessages:x,completedMessages:C}),o.jsx("div",{children:e==="active"?x.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-10",children:x.map(O=>o.jsx(tf,{message:O,onEdit:j,onDelete:d,onToggleActive:h,onRunNow:p,formatDate:g,onCardClick:j},O.id))}):o.jsx(Yl,{type:"active",onCreateMessage:v}):C.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-10",children:C.map(O=>o.jsx(tf,{message:O,onEdit:j,onDelete:d,onToggleActive:h,onRunNow:p,formatDate:g,onCardClick:j},O.id))}):o.jsx(Yl,{type:"completed"})}),o.jsx(Ek,{deliveryLogs:r,formatDate:g,onClearLogs:b}),o.jsx(Tk,{isOpen:i,editingMessage:a,formData:l,setFormData:c,onClose:w,onSubmit:u}),o.jsx(f,{}),o.jsx(m,{})]})};function Rk(){return o.jsx(f0,{children:o.jsx(c0,{children:o.jsx(Rv,{children:o.jsx(kv,{children:o.jsxs(Ut,{path:"/",element:o.jsx(gj,{}),children:[o.jsx(Ut,{index:!0,element:o.jsx(Gw,{})}),o.jsx(Ut,{path:"projects",element:o.jsx(Zw,{})}),o.jsx(Ut,{path:"projects/:id",element:o.jsx(lk,{})}),o.jsx(Ut,{path:"teams",element:o.jsx(dk,{})}),o.jsx(Ut,{path:"teams/:id",element:o.jsx(yk,{})}),o.jsx(Ut,{path:"assignments",element:o.jsx(Nk,{})}),o.jsx(Ut,{path:"scheduled-checkins",element:o.jsx(Pk,{})})]})})})})})}Ua.createRoot(document.getElementById("root")).render(o.jsx(Ti.StrictMode,{children:o.jsx(Rk,{})}));
//# sourceMappingURL=index-319e0a54.js.map
