@import './styles/tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Hide scrollbars for horizontal scrolling */
.scrollbar-hide {
  -ms-overflow-style: none;  /* Internet Explorer 10+ */
  scrollbar-width: none;  /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Safari and Chrome */
}

/* Force Tailwind to generate some classes */
.test-tailwind {
  @apply bg-background-dark text-text-primary-dark;
}

/* Prototype-aligned component mappings for legacy classes */
@layer components {
  /* Generic page header used in some pages */
  .page-header { @apply flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-8; }
  .header-info { @apply flex-1; }
  .page-title { @apply text-3xl font-bold tracking-tight; }
  .header-controls { @apply flex items-center gap-3; }

  /* Team Detail: containers */
  .tab-content { @apply space-y-6; }
  .members-section { @apply bg-surface-dark border border-border-dark rounded-lg p-5; }
  .team-description { @apply bg-surface-dark border border-border-dark rounded-lg p-5; }
  .team-description h3 { @apply text-lg font-semibold mb-2; }
  .team-description p { @apply text-sm text-text-secondary-dark; }
  .members-header { @apply flex items-center justify-between mb-4; }
  .add-member-form .form-row { @apply mt-3 flex items-center gap-3; }
  .form-input { @apply w-full bg-surface-dark border border-border-dark rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors; }

  /* Score cards used in TeamStats */
  .score-card-grid { @apply grid gap-4 mb-6; }
  .score-card-grid--horizontal { @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-4; }
  .score-card { @apply bg-surface-dark border border-border-dark rounded-lg p-4; }
  .score-card--horizontal { @apply p-4; }
  .score-card__label { @apply text-sm text-text-secondary-dark; }
  .score-card__value { @apply text-xl font-semibold mt-1; }
  .score-card__value--number { @apply text-2xl font-bold; }

  /* Members list + cards */
  .members-list { @apply grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4; }
  .team-member-card { @apply bg-background-dark/30 border border-border-dark rounded-lg p-4; }
  .member-row { @apply bg-surface-dark border border-border-dark rounded-xl p-4 flex items-center justify-between hover:border-primary/50; }
  .member-header { @apply flex items-center justify-between mb-2; }
  .member-info { @apply flex items-center gap-2; }
  .member-avatar { @apply w-8 h-8 rounded-full bg-background-dark border border-border-dark flex items-center justify-center overflow-hidden; }
  .member-basic-info { @apply ml-2; }
  .member-name { @apply font-semibold; }
  .member-role { @apply text-xs text-text-secondary-dark; }
  .member-actions, .member-controls, .edit-actions { @apply flex items-center gap-2; }
  .member-details { @apply mt-3 space-y-3; }
  .member-status-row { @apply text-sm; }
  .member-meta { @apply grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs text-text-secondary-dark; }
  .meta-item { @apply flex items-center gap-1; }
  .meta-label { @apply font-medium text-text-primary-dark; }
  .session-name { @apply px-2 py-0.5 rounded bg-background-dark border border-border-dark; }

  /* Icon action buttons used in cards */
  .action-btn { @apply inline-flex items-center justify-center w-8 h-8 rounded-md border border-border-dark text-text-secondary-dark hover:text-text-primary-dark hover:border-primary/50 transition-colors; }
  .action-btn.save-btn { @apply hover:text-green-300 hover:border-green-500/50; }
  .action-btn.cancel-btn { @apply hover:text-zinc-300; }
  .action-btn.start-btn { @apply hover:text-emerald-300 hover:border-emerald-500/50; }
  .action-btn.stop-btn { @apply hover:text-yellow-300 hover:border-yellow-500/50; }
  .action-btn.edit-btn { @apply hover:text-blue-300 hover:border-blue-500/50; }
  .action-btn.delete-btn { @apply hover:text-red-300 hover:border-red-500/50; }
  /* Buttons (global alignment to UI/Button variants) */
  .btn { @apply font-semibold inline-flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed h-10 px-4 rounded-lg text-sm; }
  .btn.btn-primary { @apply bg-primary text-white hover:bg-primary/90; }
  .btn.btn-secondary { @apply bg-surface-dark border border-border-dark hover:bg-border-dark text-text-primary-dark; }
  .btn.btn-ghost { @apply text-text-secondary-dark hover:bg-background-dark hover:text-text-primary-dark; }
  .btn.btn-outline { @apply border border-border-dark text-text-secondary-dark hover:bg-surface-dark hover:text-text-primary-dark; }
  .btn.btn-danger { @apply bg-red-500/10 text-red-400 hover:bg-red-500/20; }
  .btn.btn-success { @apply bg-green-500/10 text-green-400 hover:bg-green-500/20; }
  .btn.btn-warning { @apply bg-yellow-500/10 text-yellow-400 hover:bg-yellow-500/20; }

  /* Empty state container */
  .empty-state { @apply text-center py-16; }
  .empty-state .empty-icon { @apply mx-auto mb-3 w-12 h-12 rounded-full bg-surface-dark border border-border-dark flex items-center justify-center text-text-secondary-dark; }
  .empty-state .empty-title { @apply text-lg font-semibold mb-2; }
  .empty-state .empty-description { @apply text-sm text-text-secondary-dark max-w-md mx-auto; }

  /* Generic section header bar */
  .section-header { @apply flex items-center justify-between py-4 border-b border-border-dark; }

  /* Project Detail: sections and info */
  .detail-view { @apply space-y-6; }
  .detail-header h3 { @apply text-xl font-semibold; }
  .detail-description { @apply text-sm text-text-secondary-dark; }
  .detail-section { @apply bg-surface-dark border border-border-dark rounded-lg overflow-hidden mb-6; }
  .project-info-grid { @apply grid grid-cols-1 md:grid-cols-3 gap-6 p-6; }
  .info-section { @apply bg-background-dark/30 rounded-lg p-4 border border-border-dark; }
  .status-badge { @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-medium; }
  .status-active { @apply bg-emerald-500/10 text-emerald-400; }
  .status-inactive { @apply bg-gray-500/10 text-gray-400; }
  .status-idle { @apply bg-gray-500/10 text-gray-400; }
  .status-paused { @apply bg-yellow-500/10 text-yellow-400; }
  .status-stopped { @apply bg-yellow-500/10 text-yellow-400; }
  .status-completed { @apply bg-blue-500/10 text-blue-400; }

  /* Spec management */
  .spec-management { @apply p-6; }
  .spec-status-grid { @apply grid grid-cols-1 md:grid-cols-2 gap-4; }
  .spec-status-item { @apply bg-background-dark/30 border border-border-dark rounded-lg p-4 flex items-center justify-between; }
  .spec-status-info { @apply flex items-center gap-3; }
  .spec-icon { @apply w-5 h-5 text-text-secondary-dark; }
  .spec-details h5 { @apply font-semibold; }
  .spec-description { @apply text-sm text-text-secondary-dark mt-1; }
  .spec-status-indicator { @apply flex items-center; }
  .spec-task-actions { @apply mt-6; }
  .spec-task-actions h5 { @apply text-sm font-semibold mb-3 text-text-secondary-dark; }
  .task-creation-buttons { @apply flex flex-col sm:flex-row gap-3; }

  /* Project metrics scorecards */
  .scorecards-grid { @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-6; }
  .scorecard { @apply bg-background-dark/30 rounded-lg border border-border-dark p-5; }
  .scorecard-header { @apply flex items-center gap-2; }
  .scorecard-icon { @apply w-5 h-5 text-text-secondary-dark; }
  .scorecard-value { @apply text-3xl font-bold mt-2; }
  .scorecard-label { @apply text-sm text-text-secondary-dark; }
  .loading-stats { @apply p-6 text-sm text-text-secondary-dark; }

  /* Tasks: milestones */
  .milestones-section { @apply bg-surface-dark border border-border-dark rounded-lg mt-6; }
  .milestones-header { @apply flex items-center justify-between p-5 border-b border-border-dark; }
  .milestones-grid { @apply grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 p-5; }
  .milestone-card { @apply bg-background-dark/30 border border-border-dark rounded-lg p-4 transition-all hover:border-primary/50 cursor-pointer; }
  .milestone-card-compact { @apply py-3; }
  .milestone-card--active { @apply border-primary; }
  .milestone-card--completed { @apply opacity-80; }
  .milestone-card--active-work { @apply shadow-none; }
  .milestone-header { @apply flex items-center justify-between; }
  .milestone-title { @apply font-semibold; }
  .milestone-sequence { @apply text-text-secondary-dark; }
  .milestone-count { @apply text-xs text-text-secondary-dark; }
  .milestone-progress .progress-stats { @apply mt-2 flex items-center gap-4; }
  .milestone-progress .stat { @apply flex items-center gap-1 text-xs; }
  .stat-value { @apply font-semibold; }
  .stat-label { @apply text-text-secondary-dark; }

  /* Tasks: kanban */
  .kanban-section { @apply mt-6; }
  .kanban-section > h4 { @apply text-xl font-semibold mb-4; }
  .kanban-board { @apply grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 gap-6; }
  /* Columns have no background in prototype; only a subtle divider under header */
  .task-column { @apply flex flex-col; }
  .column-header { @apply flex items-center justify-between px-1 py-3 border-b border-border-dark; }
  .column-title { @apply text-base font-semibold; }
  .task-count { @apply text-xs text-text-secondary-dark; }
  .column-content { @apply pt-4 pr-4 pb-8 pl-0 space-y-4; }
  .task-card { @apply bg-surface-dark border border-border-dark rounded-xl p-4 transition-all hover:border-primary/50 hover:shadow-lg; }
  .task-card-clickable { @apply cursor-pointer; }
  .task-header { @apply flex items-center justify-between gap-3 mb-2; }
  .task-title { @apply font-semibold text-text-primary-dark text-sm; }
  .task-actions { @apply flex items-center gap-2; }
  .task-avatar { @apply w-6 h-6 rounded-full bg-background-dark border border-border-dark flex items-center justify-center text-xs text-text-secondary-dark; }
  .task-play-wrap { @apply inline-flex items-center justify-center w-6 h-6 rounded-full border border-border-dark text-text-secondary-dark hover:text-text-primary-dark hover:border-primary/50; }
  .icon-btn { @apply inline-flex items-center justify-center w-6 h-6 rounded-full border border-border-dark text-text-secondary-dark hover:text-text-primary-dark hover:border-primary/50; }
  .task-play-btn, .task-unblock-btn { @apply inline-flex items-center justify-center w-8 h-8 rounded-md border border-border-dark text-text-secondary-dark hover:text-text-primary-dark hover:border-primary/50; }
  .task-spinner { @apply animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent; }
  .task-play-icon, .task-unblock-icon { @apply w-4 h-4; }
  .task-badges { @apply mt-1 flex items-center gap-2; }
  .task-badges .priority-badge { @apply text-xs px-2 py-0.5 rounded-full capitalize bg-blue-500/10 text-blue-300; }
  .priority-high { @apply bg-red-500/10 text-red-400; }
  .priority-medium { @apply bg-yellow-500/10 text-yellow-400; }
  .priority-low { @apply bg-green-500/10 text-green-400; }
  .task-description { @apply mt-2 text-xs text-text-secondary-dark; }
  .task-meta { @apply mt-3 flex items-center justify-between; }
  .milestone-badge { @apply text-xs px-2 py-0.5 rounded-full bg-background-dark border border-border-dark; }
  .assignee-badge { @apply text-xs px-2 py-0.5 rounded-full bg-background-dark border border-border-dark; }
  .link-chip { @apply text-xs px-2 py-0.5 rounded-full bg-background-dark border border-border-dark inline-flex items-center gap-1; }
  .column-empty-state { @apply text-center py-8 text-sm text-text-secondary-dark; }

  /* Tasks: header */
  .tasks-view { @apply space-y-6; }
  .tasks-header { @apply flex flex-col md:flex-row items-start md:items-center justify-between gap-4; }
  .tasks-title-section h3 { @apply text-xl font-semibold; }
  .tasks-info { @apply mt-1; }
  .tasks-summary { @apply text-sm text-text-secondary-dark; }
  .task-creation-controls { @apply flex items-center gap-3; }

  /* Filter chips (prototype style) */
  .chip { @apply inline-flex items-center gap-2 px-3 py-1.5 rounded-full border border-border-dark text-sm text-text-secondary-dark hover:text-text-primary-dark hover:border-primary/50 transition-colors; }
  .chip--active { @apply bg-primary text-white border-transparent; }
  .chip-count { @apply inline-flex items-center justify-center text-xs bg-background-dark/40 rounded-full px-1.5 py-0.5; }

  /* Teams */
  .teams-view { @apply space-y-4; }
  .teams-header { @apply mb-2; }
  .teams-description { @apply text-sm text-text-secondary-dark; }
  .assigned-teams-grid { @apply grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6; }
  .assigned-team-card { @apply bg-surface-dark border border-border-dark rounded-lg p-5; }
  .team-header { @apply flex items-center justify-between mb-3; }
  .team-info { @apply flex items-center gap-2; }
  .team-name { @apply font-semibold text-lg; }
  .unassign-btn { @apply inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-border-dark text-sm text-text-primary-dark hover:border-red-500/50 hover:text-red-300; }
  .members-title { @apply text-sm font-medium text-text-secondary-dark; }
  .members-list { @apply mt-2 space-y-2; }
  .member-item { @apply flex items-center justify-between p-2 rounded hover:bg-background-dark cursor-pointer; }
  .member-name { @apply text-sm font-medium; }
  .member-role { @apply text-xs text-text-secondary-dark; }
  .member-status { @apply flex items-center gap-2 text-xs; }
  .status-dot { @apply w-2 h-2 rounded-full; }
  .status-dot--active { @apply bg-emerald-400; }
  .status-dot--inactive { @apply bg-gray-500; }
  .status-dot--activating { @apply bg-yellow-400; }
  .team-meta { @apply mt-4 grid grid-cols-2 gap-3 text-xs text-text-secondary-dark; }
  .empty-teams { @apply text-center py-16; }
  .empty-teams .empty-title { @apply text-lg font-semibold mb-2; }
  .empty-teams .empty-description { @apply text-sm text-text-secondary-dark; }
}
